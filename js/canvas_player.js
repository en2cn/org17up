!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i,r=function(t,e){return function(){return t.apply(e,arguments)}};i=function(){function t(t,e){this.$container=t,this.viewSize=e,this.handleLayerEditing=r(this.handleLayerEditing,this),this.defaultHeight=this.viewSize[1],this.$container.css({width:this.viewSize[0],height:this.viewSize[1]}),this.displayLayerInstance=null,this.activeLayerInstance=null,this.bgLayerInstance=null,this.syncLayerInstance=null,this.syncCursorLayerInstance=null,this._layerInstanceDict={},this.scaleRate=1}return t.prototype.registerLayer=function(t,e,n){return null==n&&(n=!1),this._layerInstanceDict[t]=e,n?e.setup(this.$container):void 0},t.prototype.setActiveLayer=function(t,e){var n,i,r;i=this._layerInstanceDict;for(n in i)r=i[n],r.isActive=t===n,t===n?r.active():r.deactive();return this.activeLayerInstance=this._layerInstanceDict[t],e?this.activeLayerInstance.changeMode(e):void 0},t.prototype.batchRenderLayer=function(t,e){return this._layerInstanceDict[t.ty].renderToDisplay(this.displayLayerInstance.ctx,t,e)},t.prototype.batchRenderSyncLayer=function(t,e){return this._layerInstanceDict[t.ty].renderToSync(this.syncLayerInstance,t,e)},t.prototype.batchRender=function(t,e){return this.displayLayerInstance.addObj(t),this.batchRenderLayer(t,e)},t.prototype.scale=function(t){var e,n,i;return this.scaleRate=t,$.each(this._layerInstanceDict,function(e,n){return n.scale(t)}),this.displayLayerInstance.scale(t),null!=(e=this.syncLayerInstance)&&e.scale(t),null!=(n=this.bgLayerInstance)&&n.scale(t),null!=(i=this.syncCursorLayerInstance)&&i.scale(t),this.$container.css({width:this.viewSize[0]*t,height:this.viewSize[1]*t})},t.prototype.reRender=function(t,e,n){var i,r,o,s,a,u;if(null==n&&(n={}),e?this.displayLayerInstance._canvasData=t:t&&this.displayLayerInstance.removeObj(t),this.displayLayerInstance.clear(),i=this.displayLayerInstance._canvasData,i.length){for(a=async.queue(function(t){return function(e,n){return t.batchRenderLayer(e.path,n)}}(this)),a.drain=function(){return"function"==typeof n.done?n.done():void 0},u=[],r=0,o=i.length;o>r;r++)s=i[r],u.push(a.push({path:s}));return u}return"function"==typeof n.done?n.done():void 0},t.prototype.refresh=function(t){var e,n;return this.displayLayerInstance.refresh(),t||null!=(e=this.bgLayerInstance)&&e.clear(),null!=(n=this.syncLayerInstance)?n.clear():void 0},t.prototype.deactiveCurrent=function(){return this.activeLayerInstance.deactive(),this.activeLayerInstance=null},t.prototype.saveActiveLayerData=function(){return this.activeLayerInstance?(this.activeLayerInstance.deactive(),this.activeLayerInstance.active()):void 0},t.prototype.handleLayerEditing=function(t){return t.objs=this.getObjsByCheckCollision(t,t.ty),this._layerInstanceDict[t.ty].handleEditing(t),t.objs.length?this.reRender([t.objs[0].id]):void 0},t.prototype.getObjsByCheckCollision=function(t,e){var n,i,r;return r={x:t.x-5,y:t.y-5},i={x:t.x+5,y:t.y+5},n=this.displayLayerInstance.checkCollision([r,i]),$.grep(n,function(t){return t.ty===e})},t.prototype.setBgLayer=function(t,e){var n,i,r,o,s;if(n=t&&t.bg?t.bg.h:this.defaultHeight,!e){this.$container.css({height:n*this.scaleRate}),r=this._layerInstanceDict;for(i in r)s=r[i],s.updateViewHeight(n)}return this.displayLayerInstance.updateViewHeight(n),this.bgLayerInstance.updateViewHeight(n),null!=(o=this.syncLayerInstance)&&o.updateViewHeight(n),t&&t.bg?this.bgLayerInstance.setBg(t.bg.url,t.id):this.bgLayerInstance.clear()},t.prototype.release=function(){var t,e,n,i,r,o;e=this._layerInstanceDict;for(t in e)o=e[t],o.release();return null!=(n=this.displayLayerInstance)&&n.release(),null!=(i=this.syncLayerInstance)&&i.release(),null!=(r=this.bgLayerInstance)?r.release():void 0},t.prototype.clearBgCache=function(t){return this.bgLayerInstance.imageDict[t]=null},t}(),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{}],2:[function(t,e,n){var i,r,o,s,a,u,l,c,d,h,p,f,m,y,g=function(t,e){function n(){this.constructor=t}for(var i in e)v.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;y=t("moment"),l=t("./models/record"),t("soundmanager2/script/soundmanager2-nodebug-jsmin.js"),f=t("./models/utils_module"),h=t("./static-layer/sync_editing_layer"),s=t("./static-layer/display_layer"),d=t("./static-layer/sync_cursor_layer"),o=t("./edit-layer/curve_edit_layer"),a=t("./edit-layer/erase_edit_layer"),u=t("./edit-layer/picture_edit_layer"),p=t("./edit-layer/text_edit_layer"),c=t("./static-layer/stage_layer"),i=t("./canvas_controller"),m=t("./lib/recorder"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.render(),$(document).on("keypress.cPl",function(t){return function(e){var n;if(0===$("input:focus,textarea:focus").length)switch(n=e.which){case 32:return e.preventDefault(),e.stopPropagation(),t.handlePlay()}}}(this)),this.playStatus=0,this.timeTotalRecord=0,this.frameRate=100,window.cp_cu_fid=null,this.frames_data={},this.stage_data={}}return g(n,e),n.include(f.Timer),n.include(f.Download),n.prototype.className="canvas-player",n.prototype.opts={viewSize:[900,506],convertType:0,ratio:[16,9],jszip_path:"/js/jszip.min.js",can_open_local:!1,canSeek:!1,handleQuiz:!1,cls:"",tsFormat:"MM月DD日HH点mm分",_t:{load_a:"",err_cs:"",err_fns:"",err_snap:"",t_ol:"",t_pb:"",t_brf:"",t_snap:"",t_play:"",t_resume:"",t_replay:""}},n.prototype.elements={".tip-msg":"$tip",".canvas-layer-wrap":"$canvasLayer",".timerPlay":"$timerPlay",".play":"$play",".player-toolbar":"$playerToolbar",".progress":"$playerProgress",".progress .ts-hint":"$tsHint",".progress-bar":"$playerProgressBar",".fa-play":"$changeIcon",".veg-uploader":"$fileUploader",".toolbar":"$toolbar",".player-toolbar .toolbar-bt":"$playerBtToolbar",".player-toolbar .cover-btn":"$coverBtn"},n.prototype.events={"click .player-toolbar .upload":"handleFileUpload","change .veg-uploader":"handleFileUploaded","click .player-toolbar":"handlePlay","click .play":"handlePlay","click .player-toolbar .expand":"handleExpand","click .player-toolbar .snap":"hanldeSnap","mouseenter .canvas-layer":"showPlayerTool","touchstart .canvas-layer":"showPlayerTool","click .canvas-layer-wrap":"showPlayerTool","mouseleave .canvas-layer":"hidePlayerTool","touchend .canvas-layer":"hidePlayerTool","click .player-toolbar .progress":"handleAdjustProgress","mousemove .player-toolbar .progress":"handleProgressHint"},n.prototype.render=function(){return this.html(t("./canvas_player.jade")(this.data)),this.canvasCtrl=new i(this.$canvasLayer,this.data.viewSize),this.canvasCtrl.bgLayerInstance=new c(this.data.viewSize),this.canvasCtrl.bgLayerInstance.setup(this.$canvasLayer,!0),this.canvasCtrl.displayLayerInstance=new s(this.data.viewSize),this.canvasCtrl.displayLayerInstance.setup(this.$canvasLayer,!0),this.canvasCtrl.syncLayerInstance=new h(this.data.viewSize),this.canvasCtrl.syncLayerInstance.setup(this.$canvasLayer,!0),this.canvasCtrl.syncCursorLayerInstance=new d,this.canvasCtrl.syncCursorLayerInstance.setup(this.$canvasLayer),this.canvasCtrl.registerLayer("E",new a(this.data.viewSize)),this.canvasCtrl.registerLayer("C",new o(this.data.viewSize)),this.canvasCtrl.registerLayer("P",new u(this.data.viewSize)),this.canvasCtrl.registerLayer("T",new p(this.data.viewSize)),this.recordRTC=new m(this.$canvasLayer,900,506)},n.prototype.clearClock=function(){var t;return null!=(t=this.clock)?t.cancel():void 0},n.prototype.loadFrameData=function(){var t,e;return t=this.canvasCtrl.displayLayerInstance._canvasData,t.length&&(this.frames_data[cp_pre_fid]=t),e=this.frames_data[cp_cu_fid]||[],this.canvasCtrl.reRender(e,!0)},n.prototype.playEachRecord=function(t){var e,n,i,r,o,s,a,u;switch(t.ac){case"End":return this.stopPlay(),this.trigger("play:end");case"TSync":return this.canvasCtrl.batchRenderSyncLayer(t.data);case"CSync":return this.canvasCtrl.batchRenderSyncLayer(t.data),this.canvasCtrl.syncCursorLayerInstance.move(t.data.po[t.data.po.length-1],!0);case"CEnd":case"TEnd":case"PEnd":return this.canvasCtrl.syncLayerInstance.clear(),this.canvasCtrl.batchRender(t.data);case"PAct":case"TAct":return this.canvasCtrl.reRender([t.data.id]),this.canvasCtrl.batchRenderSyncLayer(t.data);case"E":return this.canvasCtrl.reRender(t.data);case"Frame":return 0!==t.ts&&this.$canvasLayer.anim("fadeIn"),null!=(o=this.recordRTC)&&(o.y=0),window.cp_pre_fid=window.cp_cu_fid,window.cp_cu_fid=t.data,(this.cframe=this.stage_data[t.data])&&this.canvasCtrl.setBgLayer(this.cframe,!0),cp_pre_fid&&this.loadFrameData(),this.canvasCtrl.syncCursorLayerInstance.toggle(!0);case"CM":return this.canvasCtrl.syncCursorLayerInstance.move(t.data);case"SL":return this.$canvasLayer.scrollTop(t.data),null!=(s=this.recordRTC)?s.y=t.data:void 0;case"CC":return this.canvasCtrl.syncCursorLayerInstance.setColor(t.data);case"UE":for(a=t.data,u=[],i=0,r=a.length;r>i;i++)n=a[i],u.push(this.canvasCtrl.batchRender(n));return u;case"Qz":if(this.data.handleQuiz)return this.pausePlay(),this.data.handleQuiz(t.data);break;default:return"function"==typeof(e=this.data).handleOtherAc?e.handleOtherAc(t.ac,t.data):void 0}},n.prototype.setupPlayerClock=function(){return console.debug("total record count:",l.count()),this.clock=this.accurateInterval(this.frameRate,function(t){return function(){var e,n,i,r,o,s;if(1===t.playStatus){for(t.currentTs+=t.frameRate,e=t.currentTs,e%1e3===0&&t.displayCurrentDuration(),s=l.select(function(n){var i;return e-t.frameRate<=(i=n.ts)&&e>i}),n=0,i=s.length;i>n;n++)o=s[n],t.playEachRecord(o);if(r=(100*e/t.timeTotalRecord).toFixed()+"%",t.$playerProgressBar.css({width:r,"transition-duration":".6s"}),e<t.timeTotalRecord)return t.trigger("ing",e)}}}(this))},n.prototype.startPlay=function(){var t;if(0!==l.count())return this.currentTs=0,this.canvasCtrl.refresh(),this.$playerProgressBar.css({width:"0%"}),this.$changeIcon.addClass("fa-pause"),this.playStatus=1,this.setupPlayerClock(),null!=(t=this.audio)&&t.play(),this.$toolbar.addClass("playing"),this.trigger("play")},n.prototype.pausePlay=function(t){var e;return this.$changeIcon.removeClass("fa-pause"),this.playStatus=-1,this.clearClock(),null!=(e=this.audio)&&e.pause(),this.$toolbar.addClass("paused"),this.$coverBtn.removeClass("woo"),t?void 0:this.trigger("pause")},n.prototype.resumePlay=function(t){var e,n;return this.$changeIcon.addClass("fa-pause"),this.playStatus=1,this.setupPlayerClock(),(null!=(e=this.audio)?e.paused:void 0)&&null!=(n=this.audio)&&n.play(),this.$toolbar.removeClass("paused"),t?void 0:this.trigger("resume")},n.prototype.stopPlay=function(t){var e;return null==t&&(t={}),this.currentTs=0,this.$changeIcon.removeClass("fa-pause"),this.playStatus=0,this.clearClock(),null!=(e=this.audio)&&e.stop(),this.$toolbar.removeClass("playing paused"),this.$coverBtn.removeClass("ready"),t.nowoo||this.$coverBtn.addClass("woo"),this.canvasCtrl.refresh(),this.showPlayerTool(),this.canvasCtrl.syncCursorLayerInstance.toggle(!1),this.$canvasLayer.scrollTop(0),this.frames_data={},window.cp_cu_fid=null,this.trigger("stop")},n.prototype.handlePlay=function(t){switch(null!=t&&t.stopPropagation(),null!=t&&t.preventDefault(),this.log("play status: ",this.playStatus),this.playStatus){case-1:return this.resumePlay();case 1:return this.pausePlay();case 0:return this.startPlay()}},n.prototype.hidePlayerTool=function(){return 1===this.playStatus?this.playerToolClock=setTimeout(function(t){return function(){return t.$playerBtToolbar.addClass("mini")}}(this),4e3):void 0},n.prototype.showPlayerTool=function(){return this.playerToolClock?(clearTimeout(this.playerToolClock),this.$playerBtToolbar.removeClass("mini")):void 0},n.prototype.handleAdjustProgress=function(t){var e,n;return t.stopPropagation(),("function"==typeof(n=this.data).canSeek?n.canSeek():void 0)&&this.timeTotalRecord?(e=$(t.currentTarget),this.seekPlayTo(t.offsetX/e.width()*this.timeTotalRecord)):void 0},n.prototype.handleProgressHint=function(t){var e,n;return e=$(t.currentTarget),n=t.offsetX/e.width()*this.timeTotalRecord,this.$tsHint.text(this.getFormatDuration(n,"mm:ss")).css({left:t.offsetX-25})},n.prototype.seekPlayTo=function(t){var e,n,i,r;return this.currentTs=100*Math.round(t/100),i=(100*this.currentTs/this.timeTotalRecord).toFixed()+"%",this.$playerProgressBar.css({width:i,"transition-duration":"0s"}),this.displayCurrentDuration(),this.trigger("seeked",this.currentTs),this.pausePlay(!0),$loading.start({container:this.el}),n=l.frameByTs(this.currentTs),e=l.parseRealPathByRange(0,this.currentTs),this.frames_data=e[2],null!=(r=this.recordRTC)&&(r.y=e[1]||0),window.cp_cu_fid=e[3],this.canvasCtrl.setBgLayer(this.stage_data[n.data],!0),this.canvasCtrl.reRender(e[0],!0,{done:function(t){return function(){return t.seekAudio(t.currentTs,function(){return $loading.stop(t.el),t.resumePlay(!0)})}}(this)})},n.prototype.snapCurrentFrame=function(t){return this.recordRTC.cloneCanvas().toDataURL("image/webp",t||.8)},n.prototype.snapCanvasByTs=function(t,e,n){var i,r,o;return r=l.frameByTs(t),i=l.parseRealPathByRange(r.ts,t),null!=(o=this.recordRTC)&&(o.y=i[1]||0),this.canvasCtrl.setBgLayer(this.stage_data[r.data],!0),this.canvasCtrl.reRender(i[0],!0,{done:function(t){return function(){return n(t.snapCurrentFrame(e)),t.canvasCtrl.refresh()}}(this)})},n.prototype.snapCover=function(t){return this.snapCanvasByTs(l.firstFrameTs()-10,.5,t)},n.prototype.hanldeSnap=function(t){var e;return t.stopPropagation(),t.preventDefault(),this.currentTs?(e=y().format(this.data.tsFormat),this.downloadFile("snap_"+e+".webp",this.snapCurrentFrame())):void $flash(this.data._t.err_snap,{type:"danger"})},n.prototype.handleFileUpload=function(t){return t.stopPropagation(),t.preventDefault(),this.$fileUploader.trigger("click")},n.prototype.handleExpand=function(t){var e;return t.stopPropagation(),t.preventDefault(),e=this.el.hasClass("player-is-expanded"),this.el.toggleClass("player-is-expanded"),$("body").toggleClass("has-player-expanded"),this.fitScreenWidth(e)},n.prototype.fitScreenWidth=function(t,e){var n;return t?this.canvasCtrl.scale(1):(null==e&&(e=$(window).width()),n=e/this.data.viewSize[0],this.canvasCtrl.scale(n)),this.canvasCtrl.setBgLayer(this.cframe,!0),this.canvasCtrl.reRender()},n.prototype.handleFileUploaded=function(t){var e;return this.currentTs&&this.stopPlay(),e=$(t.currentTarget)[0].files[0],"application/zip"!==e.type?void $flash(this.data._t.err_fns,{type:"danger"}):$.getCachedScript(this.data.jszip_path,function(t){return function(){var n;return n=new JSZip,n.loadAsync(e).then(function(e){var n;return n=e.file("canvas.json"),n.async("string").then(function(n){var i;return i=e.file("audio.ogg"),i.async("arraybuffer").then(function(e){var i;return i=new Blob([e],{type:"audio/ogg"}),t.trigger("load:local",n,URL.createObjectURL(i),i)})})})}}(this))},n.prototype.loadFromSourceFile=function(t,e){var n,i,r,o,s;if(!t.canvas)return void $flash(this.data._t.err_cs);if(this.reset(),t.blob&&(this.blob_audio=t.blob),t.stage){for(o=t.stage,i=0,r=o.length;r>i;i++)n=o[i],this.stage_data[n.id]=n;return s=$.grep(t.stage,function(t){return t.bg}),this.canvasCtrl.bgLayerInstance.preLoad(s,{done:function(n){return function(i){return n.loadCanvasData(t.canvas),n.$play.removeClass("disabled"),n.$coverBtn.addClass("ready"),"function"==typeof i&&i(),t.audio?($loading.start({container:n.$canvasLayer,msg:n.data._t.load_a}),n.loadAudio(t.audio,function(){return $loading.stop(n.$canvasLayer),"function"==typeof e?e():void 0})):"function"==typeof e?e():void 0}}(this)})}},n.prototype.loadCanvasData=function(t){var e,n,i,r,o;for(l.refresh(t,{clear:!0}),this.timeTotalRecord=l.last().ts,this.$playerProgress.find(".po").remove(),o=l.quizTs(),n=0,i=o.length;i>n;n++)r=o[n],e=$("<span class='po'></span>").css({left:r.hp}).appendTo(this.$playerProgress);return l.count()===t.length?this.log("complete"):void 0},n.prototype.loadAudio=function(t,e){var n;return n=this,soundManager.setup({preferFlash:!1,onready:function(){return n.audio=soundManager.createSound({id:"main",url:t,autoLoad:!0,autoPlay:!1,volume:100,type:"audio/ogg",onload:e})}})},n.prototype.seekAudio=function(t,e){var n;if(this.audio)return n=function(){return this.clearOnPosition(0,n),"function"==typeof e?e():void 0},this.audio.onPosition(0,n),this.audio.setPosition(t)},n.prototype.displayCurrentDuration=function(){return this.$timerPlay.text(this.getFormatDuration(this.currentTs,"mm:ss"))},n.prototype.getFormatDuration=function(t,e){var n;return n=y.duration(t),y(n.as("milliseconds")).format(e)},n.prototype.reset=function(){var t;return l.deleteAll(),this.frames_data={},this.stage_data={},null!=(t=this.audio)&&t.destruct(),this.$coverBtn.removeClass("ready woo")},n.prototype.setAutoFit=function(){return this.$playerBtToolbar.addClass("auto-fit")},n.prototype.release=function(){return this.reset(),this.audio=null,$(document).off("keypress.cPl"),n.__super__.release.apply(this,arguments)},n}(Spine.Controller),e.exports=r,"undefined"!=typeof window&&null!==window&&(window.CanvasPlayer=r)},{"./canvas_controller":1,"./canvas_player.jade":3,"./edit-layer/curve_edit_layer":5,"./edit-layer/erase_edit_layer":6,"./edit-layer/picture_edit_layer":8,"./edit-layer/text_edit_layer":11,"./lib/recorder":13,"./models/record":16,"./models/utils_module":17,"./static-layer/display_layer":18,"./static-layer/stage_layer":19,"./static-layer/sync_cursor_layer":21,"./static-layer/sync_editing_layer":22,moment:33,"soundmanager2/script/soundmanager2-nodebug-jsmin.js":43}],3:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s){n.push('<div class="expand-backdrop"></div><input accept=".zip" name="file" type="file" multiple="multiple" class="veg-uploader"/><div class="tip-msg"></div><div class="canvas-layer"><div class="canvas-layer-wrap"></div><div class="player-toolbar toolbar"><div class="cover-btn"><a href="#"'+i.attr("data-play",t.t_play,!0,!1)+i.attr("data-resume",t.t_resume,!0,!1)+i.attr("data-replay",t.t_replay,!0,!1)+' class="play"><i class="fa fa-play-circle"></i></a>'),r&&n.push('<a href="#" class="upload"><i class="fa fa-folder-open-o"></i><span class="desc">'+i.escape(null==(e=t.t_ol)?"":e)+"</span></a>"),n.push("</div><div"+i.cls(["toolbar-bt",o],[null,!0])+"><span"+i.attr("title",t.t_pb,!0,!1)+' class="player-btn play disabled"><i class="fa fa-play"></i></span><div class="progress"><div role="progressbar"'+i.attr("aria-valuenow",s,!0,!1)+' aria-valuemin="0" aria-valuemax="100" class="progress-bar progress-bar-veg"></div><span class="ts-hint"></span></div><span class="timerPlay">00:00</span><span'+i.attr("title",t.t_brf,!0,!1)+' class="player-btn expand"><i class="fa fa-expand"></i></span><span'+i.attr("title",t.t_snap,!0,!1)+' class="player-btn snap"><i class="fa fa-camera"></i></span></div></div></div>')}.call(this,"_t"in r?r._t:"undefined"!=typeof _t?_t:void 0,"can_open_local"in r?r.can_open_local:"undefined"!=typeof can_open_local?can_open_local:void 0,"cls"in r?r.cls:"undefined"!=typeof cls?cls:void 0,"value"in r?r.value:"undefined"!=typeof value?value:void 0),n.join("")}},{"jade/runtime":31}],4:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(t){this.viewSize=t.slice(0),e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.active=function(){return this.el.addClass("active")},e.prototype.deactive=function(){return this.el.removeClass("active")},e.prototype.renderView=function(){var t;return this.el.css({width:this.viewSize[0]*this.scaleRate,height:this.viewSize[1]*this.scaleRate}),null!=(t=this.sketch)&&t.destroy(),this.no_auto?void 0:this.render()},e.prototype.scale=function(t){this.scaleRate=t},e.prototype.updateViewHeight=function(t){return this.viewSize[1]=t,this.renderView()},e.prototype.changeMode=function(){},e}(Spine.Controller),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{}],5:[function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;o=t("../lib/sketch"),s=t("../models/utils_module"),i=t("./abstract_edit_layer"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.include(s.Path),e.prototype.className="curve-edit-layer edit-layer",e.prototype.layerType="C",e.prototype.color="#333333",e.prototype.lineWidth=2,e.prototype.scaleRate=1,e.prototype.mode=1,e.prototype.events={mousemove:"cursorMove",touchmove:"cursorMove"},e.prototype.setup=function(t){return t.append(this.el),$(document).on("keydown.C",function(t){return function(e){return 16===e.keyCode&&(t.straX=!0),18===e.keyCode?t.straY=!0:void 0}}(this)),$(document).on("keyup.C",function(t){return function(e){return 16===e.keyCode&&(t.straX=!1),18===e.keyCode?t.straY=!1:void 0}}(this))},e.prototype.render=function(){var t;return t=this,this.sketch=o.create({fullscreen:!1,autoclear:!1,autostart:!1,width:this.viewSize[0]*window.devicePixelRatio*this.scaleRate,height:this.viewSize[1]*window.devicePixelRatio*this.scaleRate,container:this.el[0],setup:function(){return this._points=[],this.lineWidth=t.lineWidth,this.fillStyle=this.strokeStyle=t.color,this.lineCap="round",this.lineJoin="round",$(this.canvas).css("width",t.viewSize[0]*t.scaleRate),$(this.canvas).css("height",t.viewSize[1]*t.scaleRate),this.scale(window.devicePixelRatio,window.devicePixelRatio)},mouseup:function(){var e,n,i,r,o;if(t.stra_y=null,t.stra_x=null,this._points.length>0){for(o=this._points.slice(0),n=0,i=o.length;i>n;n++)r=o[n],r[0]=Math.round(r[0]/t.scaleRate),r[1]=Math.round(r[1]/t.scaleRate);return e={po:o,co:this.strokeStyle,wi:this.lineWidth,ty:t.layerType},t.trigger("edit_end",e),setTimeout(function(){return t.drawing=!1},100)}},mouseout:function(){return this.dragging?(this.dragging=!1,this.mouseup()):void 0},mousedown:function(){var e,n;return t.drawing=!0,n=this.touches[0],this._points.length=0,e=[n.x,n.y],this._points.push(e),t.trigger("edit_start",e)},touchmove:function(){var e,n,i,r;return n=this.touches[0],this.dragging?(r=t.straX?null!=t.stra_y?t.stra_y:t.stra_y=n.y:n.y,i=t.straY?null!=t.stra_x?t.stra_x:t.stra_x=n.x:n.x,this._points.push([i,r]),t.drawCurve(this),e={co:this.strokeStyle,wi:this.lineWidth,ty:t.layerType,po:this._points.slice(0)},t.trigger("editing",e)):void 0}}),this.mode?this.changeMode(this.mode):void 0},e.prototype.changeColor=function(t){var e;return this.color=t,e=2===this.mode?$.convertHex(this.color,40):this.color,this.sketch.strokeStyle=this.sketch.fillStyle=e,this.cursorLoad?this.setupCursor():setTimeout(function(t){return function(){return t.setupCursor()}}(this),5e3)},e.prototype.renderToDisplay=function(t,e,n){var i;return t._points=e.po,t.strokeStyle=e.co,t.lineWidth=e.wi*this.scaleRate,t.lineCap="round",t.lineJoin="round",t.scaleRate=this.scaleRate,null!=(i=this.sketch)&&i.clear(),this.drawCurve(t,!0),n?n():void 0},e.prototype.changeLineWidth=function(t){return this.lineWidth=t,2!==this.mode?this.sketch.lineWidth=this.lineWidth:void 0},e.prototype.changeMode=function(t){return this.mode=t,this.sketch?(this.sketch.lineWidth=2===this.mode?18:this.lineWidth,this.changeColor(this.color)):void 0},e.prototype.shadow=function(t){return t.shadowBlur=1,t.shadowOffsetX=5,t.shadowOffsetY=5,t.shadowColor="gray"},e.prototype.renderToSync=function(t,e,n){var i;return i=t.ctx,i._points=e.po,i.strokeStyle=e.co,i.lineWidth=e.wi*this.scaleRate,i.lineCap="round",i.lineJoin="round",i.scaleRate=this.scaleRate,i.clear=t.clear,this.drawCurve(i)},e.prototype.cursorMove=function(t){var e;return t.preventDefault(),this.drawing?void 0:(e=[t.offsetX/this.scaleRate,t.offsetY/this.scaleRate],this.trigger("cursor_move",e))},e.prototype.setupCursor=function(){var t,e;return 2===this.mode?(t=$.convertHex(this.color,40),e=20):(t=this.color,e=12),this.el.awesomeCursor("circle",{size:e,hotspot:"center center",color:t}),this.cursorLoad=!0},e.prototype.release=function(){var t;return null!=(t=this.sketch)&&t.destroy(),$(document).off("keydown.C"),$(document).off("keyup.C"),e.__super__.release.apply(this,arguments)},e}(i),"undefined"!=typeof e&&null!==e&&(e.exports=r)},{"../lib/sketch":14,"../models/utils_module":17,"./abstract_edit_layer":4}],6:[function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=t("../lib/sketch"),i=t("./abstract_edit_layer"),r=t("../static-layer/display_layer"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.className="erase-edit-layer edit-layer",e.prototype.layerType="E",e.prototype.scaleRate=1,e.prototype.setup=function(t){return t.append(this.el),$(document).on("keydown.E",function(t){return function(e){return 17===e.keyCode?t.only_curve=!0:void 0}}(this)),$(document).on("keyup.E",function(t){return function(e){return 17===e.keyCode?t.only_curve=!1:void 0}}(this))},e.prototype.render=function(){var t;return t=this,this.sketch=s.create({fullscreen:!1,autoclear:!1,autostart:!1,width:this.viewSize[0]*window.devicePixelRatio*this.scaleRate,height:this.viewSize[1]*window.devicePixelRatio*this.scaleRate,container:this.el[0],setup:function(){return this.strokeStyle="#ff8619",this.fillStyle="rgba(255, 134, 25,0.2)",this.lineCap="round",this.lineJoin="round",this.lineWidth=1,$(this.canvas).css("width",t.viewSize[0]*t.scaleRate),$(this.canvas).css("height",t.viewSize[1]*t.scaleRate),this.scale(window.devicePixelRatio,window.devicePixelRatio)},mouseout:function(){return this.dragging?(this.dragging=!1,this.mouseup()):void 0},mouseup:function(){var e;return this.clear(),e=t.getPos(this.mouse.x,this.mouse.y,this.start_x,this.start_y),t.trigger("done",t.origin(e))},mousedown:function(){return this.start_x=this.mouse.x,this.start_y=this.mouse.y},touchmove:function(){var e,n,i,r,o,s;return i=this.mouse,this.dragging?(this.clear(),e=t.getPos(i.x,i.y,this.start_x,this.start_y),o=e.pos[0].x,s=e.pos[0].y,r=abs(i.x-this.start_x),n=abs(i.y-this.start_y),this.fillRect(o,s,r,n),this.strokeRect(o,s,r,n),t.trigger("moving",t.origin(e))):void 0}})},e.prototype.strokeArc=function(t,e){return this.sketch.beginPath(),this.sketch.arc(t*this.scaleRate,e*this.scaleRate,4,2*Math.PI,!1),this.sketch.lineWidth=1,this.sketch.stroke()},e.prototype.handleMoving=function(t){var e,n,i,r,o,s;for(o=[],n=0,i=t.length;i>n;n++)switch(r=t[n],r.ty){case"C":s=r.po[0],e=r.po[r.po.length-1],this.strokeArc(s[0],s[1]),o.push(this.strokeArc(e[0],e[1]));break;case"P":o.push(this.sketch.strokeRect(r.pos[0]*this.scaleRate+1,r.pos[1]*this.scaleRate+1,r.wid*this.scaleRate-2,r.hei*this.scaleRate-2));break;case"T":o.push(this.sketch.strokeRect(r.x*this.scaleRate,r.y*this.scaleRate,r.wid*this.scaleRate-2,r.hei*this.scaleRate-2));break;default:o.push(void 0)}return o},e.prototype.release=function(){var t;return $(document).off("keydown.E"),$(document).off("keyup.E"),null!=(t=this.sketch)&&t.destroy(),e.__super__.release.apply(this,arguments)},e.prototype.getPos=function(t,e,n,i){var r,o,s;return s={x:min(t,n),y:min(e,i)},o={x:max(t,n),y:max(e,i)},r={pos:[s,o],flag:this.only_curve}},e.prototype.origin=function(t){var e,n,i,r;if(t.pos)for(r=t.pos,e=0,n=r.length;n>e;e++)i=r[e],i.x=i.x/this.scaleRate,i.y=i.y/this.scaleRate;return t},e}(i),"undefined"!=typeof e&&null!==e&&(e.exports=o)},{"../lib/sketch":14,"../static-layer/display_layer":18,"./abstract_edit_layer":4}],7:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t){e.push('<span class="btn btn-ebs pic-lib"><i class="fa fa-file-image-o"></i><span class="desc">从云图库选择</span></span><div class="pic-box"><img'+i.attr("src",t,!0,!1)+'/><div class="scale-ctrl-layer"><div class="toolbar clearfix"><span class="btn btn-success confirm btn-xs"><i class="fa fa-check"></i></span></div><div class="ord-rb corner-btn"></div></div></div>')}.call(this,"img"in n?n.img:"undefined"!=typeof img?img:void 0),e.join("")}},{"jade/runtime":31}],8:[function(t,e,n){var i,r,o,s,a=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=t("./abstract_edit_layer"),t("../lib/pep.js"),r=t("../../../models/image"),s=t("../models/utils_module"),o=function(e){function n(){return this.getPic=a(this.getPic,this),n.__super__.constructor.apply(this,arguments)}return u(n,e),n.include(s.Shape),n.prototype.className="picture-edit-layer edit-layer",n.prototype.layerType="P",n.prototype.imageDict={},n.prototype.scaleRate=1,n.prototype.no_auto=!0,n.prototype.elements={".pic-box":"$picBox",".pic-box img":"$img"},n.prototype.events={"click .toolbar .confirm":"onEditEnd","click .pic-lib":"openPicLib",click:"blurArea","mouseover .corner-btn":"handleImageScaleStart","mouseout .corner-btn":"handleImageScaleEnd","mousedown .corner-btn":"handleImageScaleDragStart",mouseup:"handleImageScaleDragEnd",mousemove:"handleImageScaleMove"},n.prototype.render=function(){return this.html(t("./picture.jade")())},n.prototype.setup=function(t){return this.$container=t,this.$container.append(this.el),this.$container.on("dragover dragenter drop",function(t){return t.stopPropagation(),t.preventDefault()}),this.$container.on("dragenter",function(t){return $(this).addClass("drop")}),this.$container.on("drop dragleave",function(){return $(this).removeClass("drop")}),r.fileupload(this.$uploader,{zone:this.el.parent(),$loader:this.el,progress:function(t){return function(e){return t.log(e)}}(this),pdf:function(t){return function(e){return t.trigger("PDF:upload",e)}}(this),done:this.getPic,fail:function(){return $flash("图片载入失败",{type:"danger"})}}),setTimeout(function(t){return function(){return t.setupCursor()}}(this),5e3)},n.prototype.openPicLib=function(t){return t.stopPropagation(),this.trigger("open:lib")},n.prototype.getPic=function(t){var e,n,i;return this.trigger("active"),this.el.removeClass("hint"),i=this,this.$img.data("id",null),this.$img.data("url",t.url),this.$img[0].src=t.src,this.$picBox.addClass("active"),this.posX=this.posY=0,n=this.viewSize[0]*this.scaleRate,e=this.viewSize[1]*this.scaleRate,this.$img.one("load",function(){var t,r,o,s,a;return a=this.naturalWidth>n?n:this.naturalWidth,r=a/this.naturalWidth,s=this.naturalHeight>e?e:this.naturalHeight,t=s/this.naturalHeight,o=Math.floor(10*Math.min(r,t))/10,i.$img.width(this.naturalWidth*o*i.scaleRate),i.$img.height(this.naturalHeight*o*i.scaleRate)})},n.prototype.onEditEnd=function(t){var e,n;return e={ty:this.layerType,src:this.$img.data("url"),wid:this.$img.width()/this.scaleRate,hei:this.$img.height()/this.scaleRate,pos:[this.posX/this.scaleRate,this.posY/this.scaleRate]},(n=this.$img.data().id)&&(e.id=n),this.trigger("edit_end",e),this.$picBox.removeClass("active")},n.prototype.blurArea=function(t){var e;return t.preventDefault(),t.stopPropagation(),$(t.target).hasClass("picture-edit-layer")?this.$picBox.hasClass("active")?this.onEditEnd():(e={ty:this.layerType,x:t.offsetX/this.scaleRate,y:t.offsetY/this.scaleRate},this.trigger("edit_start",e)):void 0},n.prototype.handleEditing=function(t){var e;return t.objs.length>0?(e=t.objs[0],this.$img.data("id",e.id),this.$img.data("url",e.src),this.$img.attr("src",r.formatSrc(e.src)),this.$img.width(e.wid*this.scaleRate),this.$img.height(e.hei*this.scaleRate),
this.posX=e.pos[0]*this.scaleRate,this.posY=e.pos[1]*this.scaleRate,this.$picBox.addClass("active").css({top:this.posY,left:this.posX}),this.trigger("edit_obj",e)):this.$uploader.trigger("click")},n.prototype.deactive=function(){return $.pep.unbind(this.$picBox),this.render(),n.__super__.deactive.apply(this,arguments)},n.prototype.active=function(){var t;return n.__super__.active.apply(this,arguments),t=this,this.el.addClass("hint"),this.$picBox.pep({useCSSTranslation:!1,shouldEase:!1,constrainTo:"parent",startPos:{top:0,left:0},stop:function(){return null!=this.pos.x&&(t.posX=this.pos.x),null!=this.pos.y?t.posY=this.pos.y:void 0}})},n.prototype.drawImageWith=function(t,e,n,i,r,o){return t.drawImage(e,n,i,r,o)},n.prototype.renderToDisplay=function(t,e,n){var i,o,s,a,u,l;return a=e.pos[0]*this.scaleRate,u=e.pos[1]*this.scaleRate,l=e.wid*this.scaleRate,i=e.hei*this.scaleRate,null==e.id||null==this.imageDict[e.id]?(o=new Image,o.crossOrigin="Anonymous",s=this,o.onload=function(){return s.imageDict[e.id]=this,s.drawImageWith(t,this,a,u,l,i),n?n():void 0},o.src=r.formatSrc(e.src)):(this.drawImageWith(t,this.imageDict[e.id],a,u,l,i),n?n():void 0)},n.prototype.renderToSync=function(t,e,n){var i,r,o,s,a;return t.clear(),s=t.ctx,this.renderToDisplay(s,e),a=e.wid*this.scaleRate,i=e.hei*this.scaleRate,r=e.pos[0]*this.scaleRate,o=e.pos[1]*this.scaleRate,this.rect(s,r,o,a,i)},n.prototype.handleImageScaleStart=function(t){return this.$picBox.data("plugin_pep").toggle(!1)},n.prototype.handleImageScaleDragStart=function(t){return this.dragScale=!0},n.prototype.handleImageScaleEnd=function(t){return this.$picBox.data("plugin_pep").toggle(!0)},n.prototype.handleImageScaleDragEnd=function(t){return this.dragScale=!1},n.prototype.handleImageScaleMove=function(t){var e,n,i;return this.dragScale&&(i=t.pageX-this.posX-this.el.offset().left,e=this.$img[0].naturalWidth,n=i/e,n>=.1&&1>=n)?(this.$img.width(this.$img[0].naturalWidth*n),this.$img.height(this.$img[0].naturalHeight*n)):void 0},n.prototype.setupCursor=function(){return this.el.awesomeCursor("thumb-tack",{size:16,hotspot:"center center"})},n}(i),"undefined"!=typeof e&&null!==e&&(e.exports=o)},{"../../../models/image":25,"../lib/pep.js":12,"../models/utils_module":17,"./abstract_edit_layer":4,"./picture.jade":7}],9:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<div class="textarea als"><ul class="ta-sider list-unstyled"><li data-v=\'1\' class="fs"><i class="fa fa-plus-square-o"></i></li><li data-v=\'-1\' class="fs"><i class="fa fa-minus-square-o"></i></li></ul><textarea rows="5" name="comment" requred="required"></textarea><div class="ta-footer text-center"><span>按住此处可拖动</span></div></div>'),e.join("")}},{"jade/runtime":31}],10:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o){r?n.push("<div"+i.attr("style","width:"+o+"px;",!0,!1)+' class="cal-h"><span'+i.attr("style","white-space: pre-wrap;font-size:"+r+"px;",!0,!1)+' class="cal-w">'+i.escape(null==(e=t)?"":e)+"</span></div>"):n.push('<div class="textarea oute"><div'+i.attr("style","width:"+o+"px;",!0,!1)+' class="cal-h"><span style="white-space: pre-wrap;" class="cal-w">'+i.escape(null==(e=t)?"":e)+"</span></div></div>")}.call(this,"content"in r?r.content:"undefined"!=typeof content?content:void 0,"fontSize"in r?r.fontSize:"undefined"!=typeof fontSize?fontSize:void 0,"width"in r?r.width:"undefined"!=typeof width?width:void 0),n.join("")}},{"jade/runtime":31}],11:[function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("./abstract_edit_layer"),o=t("../models/utils_module"),t("../lib/pep.js"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.maxWidth=this.viewSize[0],this.maxHeight=this.viewSize[1]}return s(n,e),n.include(o.Text),n.include(o.Shape),n.prototype.className="text-edit-layer edit-layer",n.prototype.layerType="T",n.prototype.lineHeightR=1.3,n.prototype.fontSize=16,n.prototype.textWidth=250,n.prototype.imageDict={},n.prototype.scaleRate=1,n.prototype.no_auto=!0,n.prototype.elements={".textarea":"$textarea",textarea:"$textInput"},n.prototype.events={click:"blurTextArea","keyup textarea":"onEditing","click .ta-sider .fs":"handleFontSize"},n.prototype.render=function(){return this.html(t("./text.jade")())},n.prototype.setup=function(t){return t.append(this.el),setTimeout(function(t){return function(){return t.setupCursor()}}(this),5e3)},n.prototype.onEditing=function(t){var e,n,i,r,o;return e=$(t.currentTarget),r=this.$textarea.data("posX")||0,o=this.$textarea.data("posY")||0,i=$.trim(e.val()),n=this.addOne(r,o,i),this.trigger("editing",n)},n.prototype.onEditEnd=function(t){return this.deactive(),this.active()},n.prototype.addOne=function(t,e,n){var i,r;return r=this.calTextRectSize(n),i={te:n,x:t/this.scaleRate,y:e/this.scaleRate,si:this.fontSize+"px",hei:r[1],wid:r[0],co:this.color||"#333333",ty:this.layerType}},n.prototype.handleEditing=function(t){var e;return t.objs.length?(e=t.objs[0],this.reset(e),this.showTextEditBy(e.x*this.scaleRate,e.y*this.scaleRate),this.trigger("edit_obj",e)):this.showTextEditBy(t.x*this.scaleRate,t.y*this.scaleRate)},n.prototype.deactive=function(){var t,e,i,r,o;return r=this.$textarea.data("posX")||0,o=this.$textarea.data("posY")||0,i=$.trim(this.$textInput.val()),""!==i&&(t=this.addOne(r,o,i),(e=this.$textarea.data().id)&&(t.id=e),this.trigger("edit_end",t)),$.pep.unbind(this.$textarea),this.render(),n.__super__.deactive.apply(this,arguments)},n.prototype.active=function(){var t;return n.__super__.active.apply(this,arguments),t=this,this.$textarea.hasClass("active")?void 0:(this.reset(),this.$textarea.pep({shouldEase:!1,constrainTo:"parent",shouldPreventDefault:!1,elementsWithInteraction:"textarea",stop:function(){return t.$textarea.data("posX",this.pos.x),t.$textarea.data("posY",this.pos.y),t.$textInput.trigger("keyup")}}))},n.prototype.renderToDisplay=function(t,e){var n,i,r,o,s,a;return o=e.x*this.scaleRate,s=e.y*this.scaleRate,a=e.wid*this.scaleRate,i=e.hei*this.scaleRate,r=e.id,null!=r&&null!=this.imageDict[r]?t.drawImage(this.imageDict[r],o,s,a,i):(n=parseInt(parseInt(e.si,10)*this.scaleRate,10),this.html2DataUrl({html:e.te,width:a,height:i,size:n,color:e.co,callback:function(e){return function(n){return t.drawImage(n,o,s,a,i),e.imageDict[r]=n}}(this)}))},n.prototype.setColor=function(t){return this.color=t,this.$textInput.css({color:this.color})},n.prototype.reset=function(t){return this.$textInput.css({fontSize:this.fontSize,width:this.textWidth,color:this.color}),null!=t?(this.$textInput.val(t.te),this.$textarea.data("id",t.id),this.imageDict[t.id]=null):void 0},n.prototype.scale=function(t){return this.scaleRate=t,this.imageDict={},this.$textarea.removeClass("active"),this.reset(),n.__super__.scale.call(this,this.scaleRate)},n.prototype.calTextRectSize=function(e){var n,i,r;return i=parseInt(this.$textInput.css("width"),10),this.$textarea.append(t("./text_cal.jade")({content:e,width:i,fontSize:this.fontSize})),r=$(".cal-w",this.el).width()+3,n=$(".cal-w",this.el).height()+3,$(".cal-h",this.el).remove(),[Math.min(i,r),n]},n.prototype.calTextHeight=function(e,n){var i;return $("body").append(t("./text_cal.jade")({content:e,width:n})),i=$(".oute .cal-w",this.el).height(),$(".oute",this.el).remove(),i},n.prototype.blurTextArea=function(t){var e;return t.preventDefault(),t.stopPropagation(),$(t.target).hasClass("text-edit-layer")?this.$textarea.hasClass("active")?this.onEditEnd():(e={ty:this.layerType,x:t.offsetX/this.scaleRate,y:t.offsetY/this.scaleRate},this.trigger("edit_start",e)):void 0},n.prototype.showTextEditBy=function(t,e){var n;return this.maxWidth-t<this.textWidth&&(t=this.maxWidth-this.textWidth),n=parseInt(this.$textarea.css("height"),10),this.maxHeight-e<n&&(e=this.maxHeight-n),this.$textarea.addClass("active"),this.$textarea.css({top:e,left:t}),this.$textarea.data("posX",t),this.$textarea.data("posY",e),this.$textInput.focus()},n.prototype.renderToSync=function(t,e,n){var i,r,o,s,a;return t.clear(),s=t.ctx,this.renderToDisplay(s,e),r=e.x*this.scaleRate,o=e.y*this.scaleRate,a=e.wid*this.scaleRate,i=e.hei*this.scaleRate,this.rect(s,r,o,a,i)},n.prototype.updateViewHeight=function(t){return n.__super__.updateViewHeight.apply(this,arguments),this.maxWidth=this.viewSize[0]*this.scaleRate,this.maxHeight=this.viewSize[1]*this.scaleRate},n.prototype.handleFontSize=function(t){var e;return e=$(t.currentTarget).data().v,this.fontSize>27&&e>0||this.fontSize<13&&0>e?void 0:(this.fontSize=this.fontSize+e,this.$textInput.css({fontSize:this.fontSize}))},n.prototype.setupCursor=function(){return this.el.awesomeCursor("i-cursor",{size:16,hotspot:"center top"})},n}(i),"undefined"!=typeof e&&null!==e&&(e.exports=r)},{"../lib/pep.js":12,"../models/utils_module":17,"./abstract_edit_layer":4,"./text.jade":9,"./text_cal.jade":10}],12:[function(t,e,n){!function(t,e,n){"use strict";function i(e,n){return this.name=r,this.el=e,this.$el=t(e),this.options=t.extend({},o,n),this.$document=t(this.$el[0].ownerDocument),this.$body=this.$document.find("body"),this.moveTrigger="MSPointerMove pointermove touchmove mousemove",this.startTrigger="MSPointerDown pointerdown touchstart mousedown",this.stopTrigger="MSPointerUp pointerup touchend mouseup",this.startTriggerArray=this.startTrigger.split(" "),this.moveTriggerArray=this.moveTrigger.split(" "),this.stopTriggerArray=this.stopTrigger.split(" "),this.stopEvents=[this.stopTrigger,this.options.stopEvents].join(" "),"window"===this.options.constrainTo?this.$container=this.$document:this.options.constrainTo&&"parent"!==this.options.constrainTo?this.$container=t(this.options.constrainTo):this.$container=this.$el.parent(),this.isPointerEventCompatible()&&this.applyMSDefaults(),this.CSSEaseHash=this.getCSSEaseHash(),this.scale=1,this.started=!1,this.disabled=!1,this.activeDropRegions=[],this.resetVelocityQueue(),this.init(),this}var r="pep",o={initiate:function(){},start:function(){},drag:function(){},stop:function(){},easing:null,rest:function(){},moveTo:!1,callIfNotStarted:["stop","rest"],startThreshold:[0,0],grid:[1,1],debug:!1,activeClass:"pep-active",multiplier:1,velocityMultiplier:2.5,shouldPreventDefault:!0,allowDragEventPropagation:!0,stopEvents:"",hardwareAccelerate:!0,useCSSTranslation:!0,disableSelect:!0,cssEaseString:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",cssEaseDuration:1e3,shouldEase:!0,droppable:!1,droppableActiveClass:"pep-dpa",overlapFunction:!1,constrainTo:!1,removeMargins:!0,place:!0,deferPlacement:!1,axis:null,forceNonCSS3Movement:!1,elementsWithInteraction:"input",revert:!1,revertAfter:"stop",revertIf:function(){return!0},ignoreRightClick:!0,startPos:{left:null,top:null},useBoundingClientRect:!1};i.prototype.init=function(){this.options.debug&&this.buildDebugDiv(),this.options.disableSelect&&this.disableSelect(),this.options.place&&!this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.ev={},this.pos={},this.subscribe()},i.prototype.subscribe=function(){var t=this;this.onStartEvent=function(e){t.handleStart(e)},this.$el.on(this.startTrigger,this.onStartEvent),this.onStartEventOnElementsWithInteraction=function(t){t.ignorePropagation=!0},this.$el.on(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.onStopEvents=function(e){t.handleStop(e)},this.$document.on(this.stopEvents,this.onStopEvents),this.onMoveEvents=function(e){t.moveEvent=e},this.$document.on(this.moveTrigger,this.onMoveEvents)},i.prototype.unsubscribe=function(){this.$el.off(this.startTrigger,this.onStartEvent),this.$el.off(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.$document.off(this.stopEvents,this.onStopEvents),this.$document.off(this.moveTrigger,this.onMoveEvents)},i.prototype.handleStart=function(t){if(!t.ignorePropagation){var e=this;if(this.isValidMoveEvent(t)&&!this.disabled&&(!this.options.ignoreRightClick||3!==t.which)){this.isPointerEventCompatible()&&t.preventManipulation&&t.preventManipulation(),t=this.normalizeEvent(t),this.options.place&&this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.log({type:"event",event:t.type}),this.options.hardwareAccelerate&&!this.hardwareAccelerated&&(this.hardwareAccelerate(),this.hardwareAccelerated=!0);var n=this.options.initiate.call(this,t,this);if(n===!1)return;clearTimeout(this.restTimeout),this.$el.addClass(this.options.activeClass),this.removeCSSEasing(),this.startX=this.ev.x=t.pep.x,this.startY=this.ev.y=t.pep.y,this.initialPosition=this.initialPosition||this.$el.position(),this.startEvent=this.moveEvent=t,this.active=!0,this.options.shouldPreventDefault&&t.preventDefault(),this.options.allowDragEventPropagation||t.stopPropagation(),function i(){e.active&&(e.handleMove(),e.requestAnimationFrame(i))}(),function r(){e.options.easing&&(e.easing&&e.options.easing.call(e,null,e),e.requestAnimationFrame(r))}()}}},i.prototype.handleMove=function(){if("undefined"!=typeof this.moveEvent){var n=this.normalizeEvent(this.moveEvent),i=e.parseInt(n.pep.x/this.options.grid[0])*this.options.grid[0],r=e.parseInt(n.pep.y/this.options.grid[1])*this.options.grid[1];this.addToLIFO({time:n.timeStamp,x:i,y:r});var o,s;if(t.inArray(n.type,this.startTriggerArray)>-1?(o=0,s=0):(o=i-this.ev.x,s=r-this.ev.y),this.dx=o,this.dy=s,this.ev.x=i,this.ev.y=r,0===o&&0===s)return void this.log({type:"event",event:"** stopped **"});var a=Math.abs(this.startX-i),u=Math.abs(this.startY-r);!this.started&&(a>this.options.startThreshold[0]||u>this.options.startThreshold[1])&&(this.started=!0,this.$el.addClass("pep-start"),this.options.start.call(this,this.startEvent,this)),this.doMoveTo(o,s),this.options.droppable&&this.calculateActiveDropRegions();var l=this.options.drag.call(this,n,this);if(l===!1)return void this.resetVelocityQueue();this.log({type:"event",event:n.type}),this.log({type:"event-coords",x:this.ev.x,y:this.ev.y}),this.log({type:"velocity"})}},i.prototype.doMoveTo=function(t,e){var n,i,r=this.handleConstraint(t,e);"function"==typeof this.options.moveTo?(n=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,i=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,this.options.constrainTo&&(n=r.x!==!1?r.x:n,i=r.y!==!1?r.y:i),"x"===this.options.axis&&(i=r.y),"y"===this.options.axis&&(n=r.x),this.options.moveTo.call(this,n,i)):this.shouldUseCSSTranslation()?(t=t/this.scale*this.options.multiplier,e=e/this.scale*this.options.multiplier,this.options.constrainTo&&(t=r.x===!1?t:0,e=r.y===!1?e:0),"x"===this.options.axis&&(e=0),"y"===this.options.axis&&(t=0),this.moveToUsingTransforms(t,e)):(n=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,i=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,this.options.constrainTo&&(n=r.x!==!1?r.x:n,i=r.y!==!1?r.y:i),"x"===this.options.axis&&(i=r.y),"y"===this.options.axis&&(n=r.x),this.moveTo(n,i))},i.prototype.handleStop=function(e){this.active&&(this.log({type:"event",event:e.type}),this.active=!1,this.easing=!0,this.$el.removeClass("pep-start").addClass("pep-ease"),this.options.droppable&&this.calculateActiveDropRegions(),(this.started||!this.started&&t.inArray("stop",this.options.callIfNotStarted)>-1)&&this.options.stop.call(this,e,this),this.options.shouldEase?this.ease(e,this.started):this.removeActiveClass(),this.options.revert&&("stop"===this.options.revertAfter||!this.options.shouldEase)&&this.options.revertIf&&this.options.revertIf.call(this)&&this.revert(),this.started=!1,this.resetVelocityQueue())},i.prototype.ease=function(e,n){var i=(this.$el.position(),this.velocity()),r=(this.dt,i.x/this.scale*this.options.multiplier),o=i.y/this.scale*this.options.multiplier,s=this.handleConstraint(r,o,!0);this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash());var a=i.x>0?"+="+r:"-="+Math.abs(r),u=i.y>0?"+="+o:"-="+Math.abs(o);this.options.constrainTo&&(a=s.x!==!1?s.x:a,u=s.y!==!1?s.y:u),"x"===this.options.axis&&(u="+=0"),"y"===this.options.axis&&(a="+=0");var l=!this.cssAnimationsSupported()||this.options.forceNonCSS3Movement;"function"==typeof this.options.moveTo?this.options.moveTo.call(this,a,u):this.moveTo(a,u,l);var c=this;this.restTimeout=setTimeout(function(){c.options.droppable&&c.calculateActiveDropRegions(),c.easing=!1,(n||!n&&t.inArray("rest",c.options.callIfNotStarted)>-1)&&c.options.rest.call(c,e,c),c.options.revert&&"ease"===c.options.revertAfter&&c.options.shouldEase&&c.options.revertIf&&c.options.revertIf.call(c)&&c.revert(),c.removeActiveClass()},this.options.cssEaseDuration)},i.prototype.normalizeEvent=function(t){return t.pep={},this.isTouch(t)?(t.pep.x=t.originalEvent.touches[0].pageX,t.pep.y=t.originalEvent.touches[0].pageY,t.pep.type=t.type):!this.isPointerEventCompatible()&&this.isTouch(t)||(t.pageX?(t.pep.x=t.pageX,t.pep.y=t.pageY):(t.pep.x=t.originalEvent.pageX,t.pep.y=t.originalEvent.pageY),t.pep.type=t.type),t},i.prototype.resetVelocityQueue=function(){this.velocityQueue=new Array(5)},i.prototype.moveTo=function(t,e,n){this.log({type:"delta",x:t,y:e}),n?this.$el.animate({top:e,left:t},0,"easeOutQuad",{queue:!1}):this.$el.stop(!0,!1).css({top:e,left:t})},i.prototype.moveToUsingTransforms=function(t,e){var n=this.matrixToArray(this.matrixString());this.cssX||(this.cssX=this.xTranslation(n)),this.cssY||(this.cssY=this.yTranslation(n)),this.cssX=this.cssX+t,this.cssY=this.cssY+e,this.log({type:"delta",x:t,y:e}),n[4]=this.cssX,n[5]=this.cssY,this.translation=this.arrayToMatrix(n),this.transform(this.translation)},i.prototype.transform=function(t){this.$el.css({"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t,transform:t})},i.prototype.xTranslation=function(t){return t=t||this.matrixToArray(this.matrixString()),parseInt(t[4],10)},i.prototype.yTranslation=function(t){return t=t||this.matrixToArray(this.matrixString()),parseInt(t[5],10)},i.prototype.matrixString=function(){var t=function(t){return!(!t||"none"===t||t.indexOf("matrix")<0)},e="matrix(1, 0, 0, 1, 0, 0)";return t(this.$el.css("-webkit-transform"))&&(e=this.$el.css("-webkit-transform")),t(this.$el.css("-moz-transform"))&&(e=this.$el.css("-moz-transform")),t(this.$el.css("-ms-transform"))&&(e=this.$el.css("-ms-transform")),t(this.$el.css("-o-transform"))&&(e=this.$el.css("-o-transform")),t(this.$el.css("transform"))&&(e=this.$el.css("transform")),e},i.prototype.matrixToArray=function(t){return t.split("(")[1].split(")")[0].split(",")},i.prototype.arrayToMatrix=function(t){return"matrix("+t.join(",")+")"},i.prototype.addToLIFO=function(t){var e=this.velocityQueue;e=e.slice(1,e.length),e.push(t),this.velocityQueue=e},i.prototype.velocity=function(){for(var t=0,e=0,n=0;n<this.velocityQueue.length-1;n++)this.velocityQueue[n]&&(t+=this.velocityQueue[n+1].x-this.velocityQueue[n].x,e+=this.velocityQueue[n+1].y-this.velocityQueue[n].y,this.dt=this.velocityQueue[n+1].time-this.velocityQueue[n].time);return{x:t*this.options.velocityMultiplier,y:e*this.options.velocityMultiplier}},i.prototype.revert=function(){this.shouldUseCSSTranslation()&&this.moveToUsingTransforms(-this.xTranslation(),-this.yTranslation()),this.options.place&&this.moveTo(this.initialPosition.left,this.initialPosition.top)},i.prototype.requestAnimationFrame=function(t){return e.requestAnimationFrame&&e.requestAnimationFrame(t)||e.webkitRequestAnimationFrame&&e.webkitRequestAnimationFrame(t)||e.mozRequestAnimationFrame&&e.mozRequestAnimationFrame(t)||e.oRequestAnimationFrame&&e.mozRequestAnimationFrame(t)||e.msRequestAnimationFrame&&e.msRequestAnimationFrame(t)||e.setTimeout(t,1e3/60)},i.prototype.positionParent=function(){this.options.constrainTo&&!this.parentPositioned&&(this.parentPositioned=!0,"parent"===this.options.constrainTo?this.$container.css({position:"relative"}):"window"===this.options.constrainTo&&"#document"!==this.$container.get(0).nodeName&&"static"!==this.$container.css("position")&&this.$container.css({position:"static"}))},i.prototype.placeObject=function(){this.objectPlaced||(this.objectPlaced=!0,this.offset="parent"===this.options.constrainTo||this.hasNonBodyRelative()?this.$el.position():this.$el.offset(),parseInt(this.$el.css("left"),10)&&(this.offset.left=this.$el.css("left")),"number"==typeof this.options.startPos.left&&(this.offset.left=this.options.startPos.left),parseInt(this.$el.css("top"),10)&&(this.offset.top=this.$el.css("top")),"number"==typeof this.options.startPos.top&&(this.offset.top=this.options.startPos.top),this.options.removeMargins&&this.$el.css({margin:0}),this.$el.css({position:"absolute",top:this.offset.top,left:this.offset.left}))},i.prototype.hasNonBodyRelative=function(){return this.$el.parents().filter(function(){var e=t(this);return e.is("body")||"relative"===e.css("position")}).length>1},i.prototype.setScale=function(t){this.scale=t},i.prototype.setMultiplier=function(t){this.options.multiplier=t},i.prototype.removeCSSEasing=function(){this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash(!0))},i.prototype.disableSelect=function(){this.$el.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})},i.prototype.removeActiveClass=function(){this.$el.removeClass([this.options.activeClass,"pep-ease"].join(" "))},i.prototype.handleConstraint=function(e,i,r){var o=this.$el.position();this.pos.x=o.left,this.pos.y=o.top;var s,a,u,l,c={x:!1,y:!1};return this.log({type:"pos-coords",x:this.pos.x,y:this.pos.y}),t.isArray(this.options.constrainTo)?(this.options.constrainTo[3]!==n&&this.options.constrainTo[1]!==n&&(a=this.options.constrainTo[1]===!1?1/0:this.options.constrainTo[1],u=this.options.constrainTo[3]===!1?-(1/0):this.options.constrainTo[3]),this.options.constrainTo[0]!==!1&&this.options.constrainTo[2]!==!1&&(s=this.options.constrainTo[2]===!1?1/0:this.options.constrainTo[2],l=this.options.constrainTo[0]===!1?-(1/0):this.options.constrainTo[0]),this.pos.x+e<u&&(c.x=u),this.pos.y+i<l&&(c.y=l)):"string"==typeof this.options.constrainTo&&(u=0,l=0,a=this.$container.width()-(this.options.useBoundingClientRect?this.$el[0].getBoundingClientRect().width:this.$el.outerWidth()),s=this.$container.height()-(this.options.useBoundingClientRect?this.$el[0].getBoundingClientRect().height:this.$el.outerHeight()),this.pos.x+e<0&&(c.x=0),this.pos.y+i<0&&(c.y=0)),this.pos.x+e>a&&(c.x=a),this.pos.y+i>s&&(c.y=s),this.shouldUseCSSTranslation()&&r&&(c.x===u&&this.xTranslation()&&(c.x=u-this.xTranslation()),c.x===a&&this.xTranslation()&&(c.x=a-this.xTranslation()),c.y===l&&this.yTranslation()&&(c.y=l-this.yTranslation()),c.y===s&&this.yTranslation()&&(c.y=s-this.yTranslation())),c},i.prototype.getCSSEaseHash=function(t){"undefined"==typeof t&&(t=!1);var e;if(t)e="";else{if(this.CSSEaseHash)return this.CSSEaseHash;e=["all",this.options.cssEaseDuration+"ms",this.options.cssEaseString].join(" ")}return{"-webkit-transition":e,"-moz-transition":e,"-ms-transition":e,"-o-transition":e,transition:e}},i.prototype.calculateActiveDropRegions=function(){var e=this;this.activeDropRegions.length=0,t.each(t(this.options.droppable),function(n,i){var r=t(i);e.isOverlapping(r,e.$el)?(r.addClass(e.options.droppableActiveClass),e.activeDropRegions.push(r)):r.removeClass(e.options.droppableActiveClass)})},i.prototype.isOverlapping=function(t,e){if(this.options.overlapFunction)return this.options.overlapFunction(t,e);var n=t[0].getBoundingClientRect(),i=e[0].getBoundingClientRect();return!(n.right<i.left||n.left>i.right||n.bottom<i.top||n.top>i.bottom)},i.prototype.isTouch=function(t){return t.type.search("touch")>-1},i.prototype.isPointerEventCompatible=function(){return"MSPointerEvent"in e},i.prototype.applyMSDefaults=function(t){this.$el.css({"-ms-touch-action":"none","touch-action":"none","-ms-scroll-chaining":"none","-ms-scroll-limit":"0 0 0 0"})},i.prototype.isValidMoveEvent=function(t){return!this.isTouch(t)||this.isTouch(t)&&t.originalEvent&&t.originalEvent.touches&&1===t.originalEvent.touches.length},i.prototype.shouldUseCSSTranslation=function(){if(this.options.forceNonCSS3Movement)return!1;if("undefined"!=typeof this.useCSSTranslation)return this.useCSSTranslation;var t=!1;return t=this.options.useCSSTranslation&&("undefined"==typeof Modernizr||Modernizr.csstransforms),this.useCSSTranslation=t,t},i.prototype.cssAnimationsSupported=function(){if("undefined"!=typeof this.cssAnimationsSupport)return this.cssAnimationsSupport;if("undefined"!=typeof Modernizr&&Modernizr.cssanimations)return this.cssAnimationsSupport=!0,!0;var t=!1,e=document.createElement("div"),i="animation",r="",o="Webkit Moz O ms Khtml".split(" "),s="";if(e.style.animationName&&(t=!0),t===!1)for(var a=0;a<o.length;a++)if(e.style[o[a]+"AnimationName"]!==n){s=o[a],i=s+"Animation",r="-"+s.toLowerCase()+"-",t=!0;break}return this.cssAnimationsSupport=t,t},i.prototype.hardwareAccelerate=function(){this.$el.css({"-webkit-perspective":1e3,perspective:1e3,"-webkit-backface-visibility":"hidden","backface-visibility":"hidden"})},i.prototype.getMovementValues=function(){return{ev:this.ev,pos:this.pos,velocity:this.velocity()}},i.prototype.buildDebugDiv=function(){var e;0===t("#pep-debug").length&&(e=t("<div></div>"),e.attr("id","pep-debug").append("<div style='font-weight:bold; background: red; color: white;'>DEBUG MODE</div>").append("<div id='pep-debug-event'>no event</div>").append("<div id='pep-debug-ev-coords'>event coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-pos-coords'>position coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-velocity'>velocity: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-delta'>&Delta; movement: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").css({position:"fixed",bottom:5,right:5,zIndex:99999,textAlign:"right",fontFamily:"Arial, sans",fontSize:10,border:"1px solid #DDD",padding:"3px",background:"white",color:"#333"}));var n=this;setTimeout(function(){n.debugElements={$event:t("#pep-debug-event"),$velocityX:t("#pep-debug-velocity .pep-x"),$velocityY:t("#pep-debug-velocity .pep-y"),$dX:t("#pep-debug-delta .pep-x"),$dY:t("#pep-debug-delta .pep-y"),$evCoordsX:t("#pep-debug-ev-coords .pep-x"),$evCoordsY:t("#pep-debug-ev-coords .pep-y"),$posCoordsX:t("#pep-debug-pos-coords .pep-x"),$posCoordsY:t("#pep-debug-pos-coords .pep-y")}},0),t("body").append(e)},i.prototype.log=function(t){if(this.options.debug)switch(t.type){case"event":this.debugElements.$event.text(t.event);break;case"pos-coords":this.debugElements.$posCoordsX.text(t.x),this.debugElements.$posCoordsY.text(t.y);break;case"event-coords":this.debugElements.$evCoordsX.text(t.x),this.debugElements.$evCoordsY.text(t.y);break;case"delta":this.debugElements.$dX.text(t.x),this.debugElements.$dY.text(t.y);break;case"velocity":var e=this.velocity();this.debugElements.$velocityX.text(Math.round(e.x)),this.debugElements.$velocityY.text(Math.round(e.y))}},i.prototype.toggle=function(t){"undefined"==typeof t?this.disabled=!this.disabled:this.disabled=!t},t.extend(t.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeOutExpo:function(t,e,n,i,r){return e===r?n+i:i*(-Math.pow(2,-10*e/r)+1)+n}}),t.fn[r]=function(e){return this.each(function(){if(!t.data(this,"plugin_"+r)){var n=new i(this,e);t.data(this,"plugin_"+r,n),t.pep.peps.push(n)}})},t.pep={},t.pep.peps=[],t.pep.toggleAll=function(e){t.each(this.peps,function(t,n){n.toggle(e)})},t.pep.unbind=function(t){var e=t.data("plugin_"+r);"undefined"!=typeof e&&(e.toggle(!1),e.unsubscribe(),t.removeData("plugin_"+r))}}(jQuery,window)},{}],13:[function(t,e,n){var i,r=function(t,e){return function(){return t.apply(e,arguments)}};t("./whammy.js"),i=function(){function t(t,e,n){this.drawCanvasFrame=r(this.drawCanvasFrame,this);var i,o;o=e||t.width(),i=n||t.height(),this.$canvasGroup=t.find("canvas"),this.newCanvas=document.createElement("canvas"),this.context=this.newCanvas.getContext("2d"),this.newCanvas.width=o*window.devicePixelRatio,this.newCanvas.height=i*window.devicePixelRatio,this.lastTime=(new Date).getTime(),this.whammy=new Whammy.Video,this.y=0}return t.prototype.isRecording=!1,t.prototype.config={frameInterval:15},t.prototype.cloneCanvas=function(){var t,e,n,i;for(this.context.fillStyle="#fff",this.context.fillRect(0,0,this.newCanvas.width,this.newCanvas.height),i=this.$canvasGroup,e=0,n=i.length;n>e;e++)t=i[e],this.context.drawImage(t,0,-this.y);return this.newCanvas},t.prototype.drawCanvasFrame=function(){var t;t=(new Date).getTime()-this.lastTime,this.lastTime=(new Date).getTime(),this.whammy.add(this.cloneCanvas().toDataURL("image/webp",.8),t),this.isRecording&&setTimeout(this.drawCanvasFrame,this.config.frameInterval)},t.prototype.record=function(){return this.isRecording=!0,this.lastTime=(new Date).getTime(),this.drawCanvasFrame()},t.prototype.stop=function(t){return this.isRecording=!1,this.whammy.compile(function(e){return function(n){return t(n),e.whammy.frames=[]}}(this))},t}(),e.exports=i},{"./whammy.js":15}],14:[function(t,e,n){!function(t,i){"object"==typeof n?e.exports=i(t,t.document):"function"==typeof define&&define.amd?define(function(){return i(t,t.document)}):t.Sketch=i(t,t.document)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t){return"[object Array]"==Object.prototype.toString.call(t)}function i(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"string"==typeof t}function s(t){return S[t]||String.fromCharCode(t)}function a(t,e,n){for(var i in e)!n&&i in t||(t[i]=e[i]);return t}function u(t,e){return function(){t.apply(e,arguments)}}function l(t){var e={};for(var n in t)"webkitMovementX"!==n&&"webkitMovementY"!==n&&(i(t[n])?e[n]=u(t[n],t):e[n]=t[n]);return e}function c(t){function e(e){i(e)&&e.apply(t,[].splice.call(arguments,1))}function n(t){for(A=0;A<tt.length;A++)$=tt[A],o($)?O[(t?"add":"remove")+"EventListener"].call(O,$,P,!1):i($)?P=$:O=$}function r(){R(k),k=E(r),G||(e(t.setup),G=i(t.setup)),X||(e(t.resize),X=i(t.resize)),t.running&&!B&&(t.dt=(F=+new Date)-t.now,t.millis+=t.dt,t.now=F,e(t.update),J&&(t.retina&&(t.save(),t.scale(Q,Q)),t.autoclear&&t.clear()),e(t.draw),J&&t.retina&&t.restore()),B=++B%t.interval}function u(){O=Z?t.style:t.canvas,I=Z?"px":"",q=t.width,z=t.height,t.fullscreen&&(z=t.height=w.innerHeight,q=t.width=w.innerWidth),t.retina&&J&&Q&&(O.style.height=z+"px",O.style.width=q+"px",q*=Q,z*=Q),O.height!==z&&(O.height=z+I),O.width!==q&&(O.width=q+I),G&&e(t.resize)}function c(e,n){return L=n.getBoundingClientRect(),e.x=e.pageX-L.left-(w.scrollX||w.pageXOffset),e.y=e.pageY-L.top-(w.scrollY||w.pageYOffset),t.retina&&J&&Q&&(e.x*=Q,e.y*=Q),e}function d(e,n){return c(e,t.element),n=n||{},n.ox=n.x||e.x,n.oy=n.y||e.y,n.x=e.x,n.y=e.y,n.dx=n.x-n.ox,n.dy=n.y-n.oy,n}function h(t){if(t.preventDefault(),j=l(t),j.originalEvent=t,j.touches)for(V.length=j.touches.length,A=0;A<j.touches.length;A++)V[A]=d(j.touches[A],V[A]);else V.length=0,V[0]=d(j,K);return a(K,V[0],!0),j}function p(n){for(n=h(n),Y=(U=tt.indexOf(H=n.type))-1,t.dragging=/down|start/.test(H)?!0:/up|end/.test(H)?!1:t.dragging;Y;)o(tt[Y])?e(t[tt[Y--]],n):o(tt[U])?e(t[tt[U++]],n):Y=0}function f(n){N=n.keyCode,W="keyup"==n.type,et[N]=et[s(N)]=!W,e(t[n.type],n)}function m(n){t.autopause&&("blur"==n.type?x:g)(),e(t[n.type],n)}function g(){t.now=+new Date,t.running=!0}function x(){t.running=!1}function T(){(t.running?x:g)()}function C(){J&&t.clearRect(0,0,t.width,t.height)}function D(){M=t.element.parentNode,A=b.indexOf(t),M&&M.removeChild(t.element),
~A&&b.splice(A,1),n(!1),x()}var k,P,O,M,L,A,I,F,$,j,H,N,W,Y,U,q,z,B=0,V=[],X=!1,G=!1,Q=w.devicePixelRatio||1,Z=t.type==v,J=t.type==y,K={x:0,y:0,ox:0,oy:0,dx:0,dy:0},tt=[t.eventTarget||t.element,p,"mousedown","touchstart",p,"mousemove","touchmove",p,"mouseup","touchend",p,"click",p,"mouseout",p,"mouseover",_,f,"keydown","keyup",w,m,"focus","blur",u,"resize"],et={};for(N in S)et[S[N]]=!1;return a(t,{touches:V,mouse:K,keys:et,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:D,toggle:T,clear:C,start:g,stop:x}),b.push(t),t.autostart&&g(),n(!0),u(),r(),t}for(var d,h,p="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),f="__hasSketch",m=Math,y="canvas",g="webgl",v="dom",_=e,w=t,b=[],x={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:_.body,interval:1,globals:!0,retina:!1,type:y},S={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},T={CANVAS:y,WEB_GL:g,WEBGL:g,DOM:v,instances:b,install:function(t){if(!t[f]){for(var e=0;e<p.length;e++)t[p[e]]=m[p[e]];a(t,{TWO_PI:2*m.PI,HALF_PI:m.PI/2,QUARTER_PI:m.PI/4,random:function(t,e){return n(t)?t[~~(m.random()*t.length)]:(r(e)||(e=t||1,t=0),t+m.random()*(e-t))},lerp:function(t,e,n){return t+n*(e-t)},map:function(t,e,n,i,r){return(t-e)/(n-e)*(r-i)+i}}),t[f]=!0}},create:function(t){return t=a(t||{},x),t.globals&&T.install(self),d=t.element=t.element||_.createElement(t.type===v?"div":"canvas"),h=t.context=t.context||function(){switch(t.type){case y:return d.getContext("2d",t);case g:return d.getContext("webgl",t)||d.getContext("experimental-webgl",t);case v:return d.canvas=d}}(),(t.container||_.body).appendChild(d),T.augment(h,t)},augment:function(t,e){return e=a(e||{},x),e.element=t.canvas||t,e.element.className+=" sketch",a(t,e,!0),c(t)}},C=["ms","moz","webkit","o"],D=self,k=0,P="AnimationFrame",O="request"+P,M="cancel"+P,E=D[O],R=D[M],L=0;L<C.length&&!E;L++)E=D[C[L]+"Request"+P],R=D[C[L]+"Cancel"+P];return D[O]=E=E||function(t){var e=+new Date,n=m.max(0,16-(e-k)),i=setTimeout(function(){t(e+n)},n);return k=e+n,i},D[M]=R=R||function(t){clearTimeout(t)},T})},{}],15:[function(t,e,n){window.Whammy=function(){function t(t){this.frames=[],this.duration=t||1,this.quality=.8}function e(t){var e=URL.createObjectURL(new Blob([t.toString(),"this.onmessage =  function (e) {"+t.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(e);return URL.revokeObjectURL(e),n}function n(t){function e(t){var e=i(t);if(!e)return[];for(var r=3e4,o=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:h(e.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:e.width,id:176},{data:e.height,id:186}]}]}]}]}],s=0,u=0;s<t.length;){var l=[],c=0;do l.push(t[s]),c+=t[s].duration,s++;while(s<t.length&&r>c);var d=0,p={id:524531317,data:n(u,d,l)};o[1].data.push(p),u+=c}return a(o)}function n(t,e,n){return[{data:t,id:231}].concat(n.map(function(t){var n=u({discardable:0,frame:t.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(e)});return e+=t.duration,{data:n,id:163}}))}function i(t){if(!t[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var e=t[0].width,n=t[0].height,i=t[0].duration,r=1;r<t.length;r++)i+=t[r].duration;return{duration:i,width:e,height:n}}function r(t){for(var e=[];t>0;)e.push(255&t),t>>=8;return new Uint8Array(e.reverse())}function o(t){return new Uint8Array(t.split("").map(function(t){return t.charCodeAt(0)}))}function s(t){var e=[],n=t.length%8?new Array(9-t.length%8).join("0"):"";t=n+t;for(var i=0;i<t.length;i+=8)e.push(parseInt(t.substr(i,8),2));return new Uint8Array(e)}function a(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].data;"object"==typeof i&&(i=a(i)),"number"==typeof i&&(i=s(i.toString(2))),"string"==typeof i&&(i=o(i));var u=i.size||i.byteLength||i.length,l=Math.ceil(Math.ceil(Math.log(u)/Math.log(2))/8),c=u.toString(2),d=new Array(7*l+7+1-c.length).join("0")+c,h=new Array(l).join("0")+"1"+d;e.push(r(t[n].id)),e.push(s(h)),e.push(i)}return new Blob(e,{type:"video/webm"})}function u(t){var e=0;if(t.keyframe&&(e|=128),t.invisible&&(e|=8),t.lacing&&(e|=t.lacing<<1),t.discardable&&(e|=1),t.trackNum>127)throw"TrackNumber > 127 not supported";var n=[128|t.trackNum,t.timecode>>8,255&t.timecode,e].map(function(t){return String.fromCharCode(t)}).join("")+t.frame;return n}function l(t){for(var e=t.RIFF[0].WEBP[0],n=e.indexOf("*"),i=0,r=[];4>i;i++)r[i]=e.charCodeAt(n+3+i);var o,s,a;return a=r[1]<<8|r[0],o=16383&a,a=r[3]<<8|r[2],s=16383&a,{width:o,height:s,data:e,riff:t}}function c(t,e){return parseInt(t.substr(e+4,4).split("").map(function(t){var e=t.charCodeAt(0).toString(2);return new Array(8-e.length+1).join("0")+e}).join(""),2)}function d(t){for(var e=0,n={};e<t.length;){var i=t.substr(e,4),r=c(t,e),o=t.substr(e+4+4,r);e+=8+r,n[i]=n[i]||[],"RIFF"===i||"LIST"===i?n[i].push(d(o)):n[i].push(o)}return n}function h(t){return[].slice.call(new Uint8Array(new Float64Array([t]).buffer),0).map(function(t){return String.fromCharCode(t)}).reverse().join("")}var p=new e(t.map(function(t){var e=l(d(atob(t.image.slice(23))));return e.duration=t.duration,e}));postMessage(p)}return t.prototype.add=function(t,e){this.frames.push({image:t,duration:e||this.duration})},t.prototype.compile=function(t){var i=e(n);i.onmessage=function(e){return e.data.error?void console.error(e.data.error):void t(e.data)},i.postMessage(this.frames)},{Video:t}}()},{}],16:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=t("shortid"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.configure("Record","id","data","ts","ac"),e.uuid=function(){return r.generate()},e.filterBy=function(t){var e;return e=this.select(function(e){return e.ac===t}),$.map(e,function(t){return t.data})},e.frameByTs=function(t){var e,n,i,r,o;for(e=this.select(function(t){return"Frame"===t.ac}),o=e.reverse(),n=0,i=o.length;i>n;n++)if(r=o[n],r.ts-t<0)return r},e.firstFrameTs=function(){var t;return t=this.select(function(t){return"Frame"===t.ac}),t.length>1?t[1].ts:this.last().ts},e.realPathDataByRange=function(t,e){var n;return n=["Frame","SL","UE","CEnd","TEnd","PEnd","E"],this.select(function(i){return function(i){var r,o,s;return s=n.indexOf(i.ac)>-1,o=t<=(r=i.ts)&&e>=r,s&&o}}(this))},e.parseRealPathByRange=function(t,e){var n,i,r,o,s,a,u,l,c;for(0===t&&(o={},r=i=null),l=this.realPathDataByRange(t,e),n=[],s=0,a=l.length;a>s;s++)switch(u=l[s],u.ac){case"SL":c=u.data;break;case"UE":Array.isArray(u.data)&&n.concat(u.data);break;case"CEnd":case"TEnd":case"PEnd":n.push(u.data);break;case"E":n=$.grep(n,function(t,e){return-1===u.data.indexOf(t.id)});break;case"Frame":0===t?(r=i,i=u.data,r&&(o[r]=n.slice(0)),n=o[i]||[]):n=[]}return 0===t?[n,c,o,i]:[n,c]},e.quizTs=function(){var t,e;return t=this.select(function(t){return"Qz"===t.ac}),e=this.last().ts,$.map(t,function(t){return function(t){var n;return n=(100*t.ts/e).toFixed(1)+"%",{ts:t.ts,hp:n}}}(this))},e}(Spine.Model),e.exports=i},{shortid:34}],17:[function(t,e,n){var i;e.exports=i={},i.Text={html2DataUrl:function(e){var n,i,r,o;return o=t("../svg.jade")({width:e.width,height:e.height,html:e.html||"",color:e.color||"#000",fontSize:e.size||13}),n=new Image,r=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),i=new FileReader,i.readAsDataURL(r),i.onloadend=function(t){return n.src=t.target.result},n.onload=function(){return e.callback(n)}}},i.Download={downloadInnerHtml:function(t,e,n){var i;return i=document.createElement("a"),n=n||"text/plain",i.setAttribute("download",t),i.setAttribute("href","data:"+n+";charset=utf-8,"+encodeURIComponent(e)),i.click()},downloadFile:function(t,e,n){var i;return i=document.createElement("a"),i.setAttribute("download",t),i.setAttribute("href",e),n?i:i.click()}},i.Shape={rect:function(t,e,n,i,r){return t.beginPath(),t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.setLineDash([5,3]),t.rect(e-1,n-1,i+2,r+2),t.strokeStyle="#ff8619",t.stroke()}},i.Path={getBoundingRect:function(t){var e,n,i,r,o,s;return o=$.map(t,function(t){return t[0]}),s=$.map(t,function(t){return t[1]}),i=this.minArray(o),e=this.maxArray(o),r=this.minArray(s),n=this.maxArray(s),[i,r,e,n]},maxArray:function(t){return Math.max.apply(Math,t)},minArray:function(t){return Math.min.apply(Math,t)},drawCurve:function(t,e){var n,i,r,o,s,a,u,l,c;if(null==e&&(e=!1),s=t.scaleRate||1,t._points.length<3)return n=t._points[0],t.beginPath(),t.arc(n[0]*s,n[1]*s,t.lineWidth/2,0,2*Math.PI,!0),t.fill(),void t.closePath();for(e||t.clear(),t.beginPath(),t.moveTo(t._points[0][0]*s,t._points[0][1]*s),o=1;o<t._points.length-2;)i=(t._points[o][0]+t._points[o+1][0])*s/2,r=(t._points[o][1]+t._points[o+1][1])*s/2,t.quadraticCurveTo(t._points[o][0]*s,t._points[o][1]*s,i,r),o++;return a=t._points[o][0]*s,u=t._points[o][1]*s,l=t._points[o+1][0]*s,c=t._points[o+1][1]*s,t.quadraticCurveTo(a,u,l,c),t.stroke()},rect_x_rect:function(t,e){var n,i,r,o,s,a;return t&&e?(s=function(t,e){return!(t[1]<e[0]||t[0]>e[1])},n=[t.x,t.x+t.width],t.width<0&&(n=[n[1],n[0]]),i=[e.x,e.x+e.width],r=[t.y,t.y+t.height],t.height<0&&(r=[r[1],r[0]]),o=[e.y,e.y+e.height],a=s(n,i)&&s(r,o)):!1}},i.Timer={accurateInterval:function(t,e){var n,i,r,o,s;return i=(new Date).getTime()+t,o=null,"function"==typeof t&&(r=[t,e],e=r[0],t=r[1]),s=function(){return i+=t,o=setTimeout(s,i-(new Date).getTime()),e()},n=function(){return clearTimeout(o)},o=setTimeout(s,i-(new Date).getTime()),{cancel:n}}}},{"../svg.jade":23}],18:[function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=t("./static_canvas"),o=t("../models/utils_module"),s=t("shortid"),i=function(t){function e(t){this.viewSize=t,e.__super__.constructor.apply(this,arguments),this._canvasData=[]}return a(e,t),e.include(o.Path),e.prototype.className="display-layer",e.prototype.zindex=10,e.prototype.refresh=function(){return this._canvasData=[],this.clear()},e.prototype.addObj=function(t){return null==t.id&&(t.id=s.generate()),this._canvasData.push(t)},e.prototype.removeObj=function(t){return this._canvasData=$.grep(this._canvasData,function(e,n){return-1===t.indexOf(e.id)})},e.prototype.filterObjsBy=function(t){return $.grep(this._canvasData,function(e){return e.ty===t})},e.prototype.checkCollision=function(t,e){var n,i,r,o,s,a,u,l,c,d,h,p,f,m;for(null==e&&(e=!1),l=t[0],u=t[1],m=[],p=this._canvasData,n=0,r=p.length;r>n;n++)switch(a=p[n],a.ty){case"C":for(f=a.po,i=0,o=f.length;o>i;i++)if(s=f[i],s[0]>=l.x&&s[0]<=u.x&&s[1]>=l.y&&s[1]<=u.y){m.push(a);break}break;case"P":if(e)break;d={x:a.pos[0],y:a.pos[1],width:a.wid,height:a.hei},c={x:l.x,y:l.y,width:u.x-l.x,height:u.y-l.y},this.rect_x_rect(c,d)&&m.push(a);break;case"T":if(e)break;c={x:l.x,y:l.y,width:u.x-l.x,height:u.y-l.y},h={x:a.x,y:a.y,width:a.wid,height:a.hei},this.rect_x_rect(c,h)&&m.push(a)}return m},e}(r),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{"../models/utils_module":17,"./static_canvas":20,shortid:34}],19:[function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("./static_canvas"),i=t("../../../models/image"),r=function(t){function e(t){this.viewSize=t,e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.className="stage-layer",e.prototype.zindex=7,e.prototype.imageDict={},e.prototype.limitPageNum=50,e.prototype.convert=function(t){var e,n,r,o;return o=this,r=new FileReader,e=this.el.clone(),this.el.after(e),n=e[0].getContext("2d"),r.readAsArrayBuffer(t),r.onload=function(t){return PDFJS.getDocument(t.target.result).then(function(t){var r,s,a,u,l,c;for(a=t.numPages,a>o.limitPageNum&&($flash("已超过文档页数限制:"+o.limitPageNum+"/"+a+", 超出部分将不会被导入",{type:"danger"}),a=o.limitPageNum),o.trigger("convert:start",a),i.destroyAll(),u=async.queue(function(r,s){return t.getPage(r.index).then(function(t){var r,l,c,d;return l=t.getViewport(1),c=e[0].width/l.width,d=t.getViewport(c),r=parseInt(d.height,10),e[0].height=r,t.render({canvasContext:n,viewport:d}).then(function(){var t,n,r;return n=100*(a-u.length()),r=Math.round(n/a),o.trigger("convert:progress",r),t=e[0].toDataURL("image/webp"),i.insert(t,{done:function(t){return s()}})})})},1),u.drain=function(){return e.remove(),o.trigger("convert:end",i.all())},c=[],r=s=1,l=a;l>=1?l>=s:s>=l;r=l>=1?++s:--s)c.push(u.push({index:r}));return c})}},e.prototype.setBg=function(t,e){var n,r,o,s;return n=this.el[0].height/window.devicePixelRatio,s=this.el[0].width/window.devicePixelRatio,o=this,(r=this.imageDict[e])?o.ctx.drawImage(r,0,0,s,n):(r=new Image,r.crossOrigin="Anonymous",$loading.start({container:this.el.parent()}),r.onload=function(){return o.imageDict[e]=this,$loading.stop(o.el.parent()),o.ctx.drawImage(this,0,0,s,n),r=null},t?r.src=i.formatSrc(t):void 0)},e.prototype.preLoad=function(t,e){var n,r,o,s,a,u,l,c;if(null==e&&(e={}),!t.length)return void("function"==typeof e.done&&e.done());for(n=e.$loader||this.el.parent(),$loading.start({container:n,msg:"正在加载文档..."}),c=this,u=async.queue(function(t,e){var n;return n=new Image,n.crossOrigin="Anonymous",n.onload=function(){return c.imageDict[t.id]=this,n=null,e()},n.src=t.url}),r=function(){return $loading.stop(n)},u.drain=function(){return"function"==typeof e.done?e.done(r):void 0},l=[],s=0,a=t.length;a>s;s++)o=t[s],l.push(u.push({url:i.formatSrc(o.bg.url),id:o.id}));return l},e}(o),"undefined"!=typeof e&&null!==e&&(e.exports=r)},{"../../../models/image":25,"./static_canvas":20}],20:[function(t,e,n){var i,r=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=function(t){function e(t){this.clear=r(this.clear,this),this.viewSize=t.slice(0),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.scaleRate=1,e.prototype.tag="canvas",e.prototype.setup=function(t,e){return t.append(this.el),this.ctx=this.el[0].getContext("2d"),e&&this.render(),this.el.css({zIndex:this.zindex||0})},e.prototype.render=function(){return window.devicePixelRatio?(this.el[0].width=this.viewSize[0]*window.devicePixelRatio*this.scaleRate,this.el[0].height=this.viewSize[1]*window.devicePixelRatio*this.scaleRate,this.el.css("width",this.viewSize[0]*this.scaleRate),this.el.css("height",this.viewSize[1]*this.scaleRate),this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)):void 0},e.prototype.clear=function(){var t,e;return e=this.viewSize[0]*this.scaleRate*window.devicePixelRatio,t=this.viewSize[1]*this.scaleRate*window.devicePixelRatio,this.ctx.clearRect(0,0,e,t)},e.prototype.scale=function(t){this.scaleRate=t},e.prototype.toDataURL=function(){return this.el[0].toDataURL()},e.prototype.updateViewHeight=function(t){return this.viewSize[1]=t,this.render()},e}(Spine.Controller),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{}],21:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.setColor("#333333")}return r(e,t),e.prototype.className="sync-cursor hide",e.prototype.tag="span",e.prototype.pRect=12,e.prototype.scaleRate=1,e.prototype.setup=function(t){return this.html("<i class='fa fa-circle'></i>"),t.append(this.el)},e.prototype.toggle=function(t){return this.el.toggleClass("hide",!t)},e.prototype.scale=function(t){return this.scaleRate=t,this.el.css({transform:"scale("+this.scaleRate+","+this.scaleRate+")"})},e.prototype.setColor=function(t){return this.el.css({color:t})},e.prototype.move=function(t,e){return null==e&&(e=!1),this.el.css({left:t[0]*this.scaleRate-this.pRect/2,top:t[1]*this.scaleRate-this.pRect/2}).toggleClass("in",e)},e}(Spine.Controller),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{}],22:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("./static_canvas"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.className="sync-layer",e.prototype.zindex=11,e.prototype.fontSize=16,e}(i),"undefined"!=typeof e&&null!==e&&(e.exports=r)},{"./static_canvas":20}],23:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a){n.push('<svg xmlns="http://www.w3.org/2000/svg"'+i.attr("width",a,!0,!1)+i.attr("height",o,!0,!1)+'><foreignObject width="100%" height="100%"><pre xmlns="http://www.w3.org/1999/xhtml"'+i.attr("style","color:"+t+";font-size:"+r+"px;font-family:Arial,SimSun,STSong;white-space: pre-wrap;line-height:1.3;word-break:break-word;letter-spacing: 0px;",!0,!1)+">"+(null==(e=s)?"":e)+"</pre></foreignObject></svg>")}.call(this,"color"in r?r.color:"undefined"!=typeof color?color:void 0,"fontSize"in r?r.fontSize:"undefined"!=typeof fontSize?fontSize:void 0,"height"in r?r.height:"undefined"!=typeof height?height:void 0,"html"in r?r.html:"undefined"!=typeof html?html:void 0,"width"in r?r.width:"undefined"!=typeof width?width:void 0),n.join("")}},{"jade/runtime":31}],24:[function(t,e,n){var i;i={bucket:"up17org",upload_url:"https://v0.api.upyun.com/up17org",static_prefix:CDN_PF||"",default_image_p:"/quality/75/format/webp/compress/true/progressive/true",prepareUploadFormData:function(t,e){var n;return null==e&&(e={}),n={file_type:t,exp:Math.round((new Date).getTime()/1e3)+3600,thumb:""},e.thumb?n.thumb=e.thumb:"image"===t&&(n.thumb=this.default_image_p),$.post("/upyun",JSON.stringify(n),e.done)},handleUploadResponse:function(t,e){return null==e&&(e={}),200===t.code?"function"==typeof e.done?e.done(t):void 0:"function"==typeof e.fail?e.fail():void 0},ajaxSend:function(t,e){return $.ajax({url:this.upload_url,data:t,contentType:!1,processData:!1,type:"POST",success:function(t){return function(n){return t.handleUploadResponse(JSON.parse(n),e)}}(this)})},requestUpyunParams:function(t,e,n){return this.upyun_params?void(e?($.each(this.upyun_params,function(t,n){return e.append(t,n)}),"function"==typeof n&&n(e)):"function"==typeof n&&n(this.upyun_params)):this.prepareUploadFormData(t,{done:function(i){return function(r){return i.upyun_params=r,i.requestUpyunParams(t,e,n)}}(this)})},uploadFile:function(t,e,n){return n.options&&$.each(n.options,function(t,n){return e.append(t,n)}),this.requestUpyunParams(t,e,function(t){return function(e){return t.ajaxSend(e,n)}}(this))}},e.exports=i},{}],25:[function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;t("blueimp-file-upload"),i=t("../lib/api_service"),s=t("../../app/models/user"),o=t("../../app/models/doc"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.configure("BaseImage","id","src","url","h","w","size"),e.extend(i),e.formatSrc=function(t){return this.static_prefix+t},e.prototype.formatWBg=function(){return{h:this.h/window.devicePixelRatio,url:this.url}},e.createFrom=function(t){return this.create({url:t.url,src:this.formatSrc(t.url),h:t["image-height"],w:t["image-width"],size:t.file_size})},e.insert=function(t,e){var n;return null==e&&(e={}),n=new FormData,n.append("file",$.dataURLtoBlob(t)),this.uploadFile("image",n,{done:function(t){return function(n){var i;return i=t.createFrom(n),"function"==typeof e.done&&e.done(i),e.ot?void 0:o.insert(i.url,i.size,"F",{d:{h:i.h/window.devicePixelRatio}})}}(this),fail:function(){return console.error("FAIL_UPLOAD IMAGE")}})},e.cropBy=function(t,e,n){var i,r;return r=t.width+"x"+t.height+"a"+t.x+"a"+t.y,i=new FormData,i.append("file",$.dataURLtoBlob(t.src)),this.prepareUploadFormData(e,{thumb:"/crop/"+r+this.default_image_p,done:function(t){return function(t){return $.each(t,function(t,e){return i.append(t,e)}),"function"==typeof n?n(i):void 0}}(this)})},e.editorUp=function(t,e,n){return $loading.start({container:e}),this.cropBy(t,"image",function(t){return function(i){return t.ajaxSend(i,{done:function(i){var r;return r=t.createFrom(i),"function"==typeof n&&n(r),o.insert(r.url,r.size,"P"),$loading.stop(e)},fail:function(){return loading.stop(e),console.error("FAIL_UPLOAD Editor Image")}})}}(this))},e.avatarUp=function(t,e,n){return $loading.start({container:e,type:5}),this.cropBy(t,"avatar",function(t){return function(i){return t.ajaxSend(i,{done:function(i){var r;return r=t.createFrom(i),"function"==typeof n&&n(r),o.insert(r.url,r.size,"A"),$loading.stop(e)},fail:function(){return loading.stop(e),console.error("FAIL_UPLOAD AVATAR")}})}}(this))},e.validateSize=function(t){var e;switch(t.type){case"application/pdf":e=20;break;case"image/jpeg":case"image/png":case"image/jpg":case"image/webp":e=5}return t.size>1e6*e?($flash("文件大小不得超过"+e+"M",{type:"danger"}),!1):!0},e.fileupload=function(t,e){return null==e&&(e={}),t.fileupload({url:this.upload_url,dataType:"json",sequentialUploads:!0,pasteZone:e.zone,dropZone:e.zone,add:function(t){return function(n,i){var r;if(!s.first())return void $flash("登录会员账户后才可使用此功能",{type:"danger"});if(r=i.files[0],t.validateSize(r))switch(r.type){case"application/pdf":return"function"==typeof e.pdf?e.pdf(r):void 0;case"image/jpeg":case"image/png":case"image/jpg":case"image/webp":return $loading.start({container:e.$loader,msg:"上传中...",type:e.loader_type||0}),t.requestUpyunParams("image",!1,function(t){return t["content-type"]=r.type,i.formData=t,i.submit()});default:return $flash("不支持此格式的文件："+r.type,{type:"danger"})}}}(this),progressall:function(t){return function(t,n){var i;return i=parseInt(n.loaded/n.total*100,10),"function"==typeof e.progress?e.progress(i):void 0}}(this),fail:function(t,e){return $flash("此功能仅供联网状态下使用，请确保网络链接正确",{type:"danger"})},done:function(t){return function(n,i){return t.handleUploadResponse(i.result,{done:function(n){var i;return i=t.createFrom(n),"function"==typeof e.done&&e.done(i),o.insert(i.url,i.size,"P")},fail:e.fail})}}(this),always:function(){return $loading.stop(e.$loader)}})},e}(Spine.Model),e.exports=r},{"../../app/models/doc":26,"../../app/models/user":27,"../lib/api_service":24,"blueimp-file-upload":28}],26:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../../_share/lib/api_service"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.configure("Doc","id","size","url","src","ty","d","c_at","hc_at"),e.extend(i),e.more={},e.loaded={},e.dataPath=function(){return api.sync().ref("doc/"+this.cu.uid)},e.dataPathByType=function(t){return this.dataPath().child(t)},e.formatFromW=function(t,e){return e.src=this.static_prefix+e.url,e.hc_at=moment(e.c_at).format("YYYY-MM-DD HH:mm"),$.extend({},e,{id:t})},e.prototype.formatWBg=function(){return{h:this.d.h,url:this.url}},e.filterByType=function(t){return this.select(function(e){return e.ty===t})},e.queryByType=function(t,e,n){var i,r,o;return null==e&&(e={}),!e.key&&this.loaded[t]?(i=this.filterByType(t),void("function"==typeof n&&n(i,this.more[t]))):(console.log("0"),r=e.per||8,o=this.dataPathByType(t).orderByChild("c_at"),e.key&&(o=o.endAt(e.key-1)),o.limitToLast(r).once("value",function(e){return function(o){var s,a;return s=$.map(o.val(),function(n,i){return n.ty=t,e.formatFromW(i,n)}),e.more[t]=a=s.length===r,i=e.refresh(s.reverse()),e.loaded[t]=!0,"function"==typeof n?n(i,a):void 0}}(this)))},e.insert=function(t,e,n,i){var r,o,s,a;return null==i&&(i={}),r={c_at:wilddog.sync().ServerValue.TIMESTAMP,size:e,url:t},i.d&&(r.d=i.d),o=t.replace(/\/file\/\w*\//,"").split(".")[0],a=(new Date).getTime(),s=this.dataPathByType(n).child(o),s.setWithPriority(r,a).then(i.done),s.once("value",function(t){return function(e){var i;return i=e.val(),i.ty=n,t.refresh(t.formatFromW(e.key(),i))}}(this))},e}(Spine.Model),e.exports=r},{"../../_share/lib/api_service":24}],27:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../../_share/lib/api_service"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.configure("User","id","uid","refreshToken","providerId","displayName","nick","email","emailVerified","isAnonymous","photoURL","avatar","c_sec"),e.extend(i),e.accountPath=function(t){return api.sync().ref("ac/"+t)},e.prototype.roomPath=function(){return api.sync().ref("live/"+this.uid)},e.userInfoData=function(t){return{uid:t.uid,displayName:t.displayName,nick:t.displayName,email:t.email,emailVerified:t.emailVerified,photoURL:t.photoURL,isAnonymous:t.isAnonymous,providerId:t.providerId,refreshToken:t.refreshToken}},e.prototype.upProp=function(t){return this.updateAttributes(t),e.accountPath(this.uid).update(t),t.avatar?api.auth().currentUser.updateProfile({photoURL:t.avatar}):void 0},e.setupAuth=function(t){return null==t&&(t={}),api.auth().onAuthStateChanged(function(e){return function(n){var i;return n?(i=e.userInfoData(n),e.queryInfoBy(i.uid,function(n){var r;return n&&(i=$.extend({},i,n)),e.refresh(i,{clear:!0}),r=e.first(),"function"==typeof t.afterLogin&&t.afterLogin(r),"function"==typeof t.always&&t.always(r),woopra.identify({name:r.nick,email:r.email}),woopra.track()})):(e.refresh([],{clear:!0}),"function"==typeof t.afterLogout&&t.afterLogout(),"function"==typeof t.always?t.always():void 0)}}(this))},e.queryInfoBy=function(t,e){return this.accountPath(t).once("value",function(t){return function(n){var i;return i=n.val(),i&&i.avatar&&(i.avatar=t.static_prefix+i.avatar),"function"==typeof e?e(i):void 0}}(this))},e.login=function(t,e){return null==e&&(e={}),api.auth().signInWithEmailAndPassword(t.email,t.password).then(function(t){return function(){return t.trigger("login:success")}}(this))["catch"](function(t){return console.error(t.code),$flash("你的用户名或密码不正确",{type:"danger"}),"function"==typeof e.fail?e.fail():void 0})},e.register=function(t,e){return null==e&&(e={}),api.auth().createUserWithEmailAndPassword(t.email,t.password).then(function(n){return api.auth().currentUser.updateProfile({displayName:t.nick}),api.auth().currentUser.sendEmailVerification(),null!=e?e.done():void 0})["catch"](function(t){var n;switch(t.code){case"email_already_in_use":n="您输入的邮箱已被另一个账户占用，请登陆或换一个邮箱试试";break;default:n=t}return $flash(n,{type:"danger"}),"function"==typeof e.fail?e.fail():void 0})},e.logout=function(){return api.auth().signOut().then(function(){return location.reload()})},e.resetPw=function(t,e){return null==e&&(e={}),api.auth().sendPasswordResetEmail(t.email),"function"==typeof e.done?e.done():void 0},e.prototype.baseInfo=function(){return{uid:this.uid,avatar:this.avatar,nick:this.nick}},e.prototype.createRoom=function(t){return this.roomPath().set({nick:this.nick,avatar:this.avatar}).then(function(e){return function(){return"function"==typeof t?t(e.uid):void 0}}(this))},e.prototype.cancelRoom=function(){return this.roomPath().set(null)},e.queryRoomByUid=function(t,e){return api.ref("live/"+t).once("value",function(t){return"function"==typeof e?e(t.val(),t.key()):void 0})},e}(Spine.Model),e.exports=r},{"../../_share/lib/api_service":24}],28:[function(t,e,n){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof n?e(t("jquery"),t("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&-1!==t.inArray("Files",r.types)&&this._trigger(e,t.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return e.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),
this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],o=e.multipart||!t.support.xhrFileUpload,s="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:s,value:e.blob}):t.each(e.files,function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||s,value:r})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(s,e.blob,r.name):t.each(e.files,function(r,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||s,o,o.uploadName||o.name)})),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),o=r.promise();return n=n||this.options.context||o,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,o){return(e||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)}).then(e,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,o=this,s=e.files[0],a=s.size,u=e.uploadedBytes,l=e.maxChunkSize||a,c=this._blobSlice,d=t.Deferred(),h=d.promise();return this._isXHRUpload(e)&&c&&(u||a>l)&&!e.data?n?!0:u>=a?(s.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",s.error])):(r=function(){var n=t.extend({},e),h=n._progress.loaded;n.blob=c.call(s,u,u+l,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+u+"-"+(u+n.chunkSize-1)+"/"+a,o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&t.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,s,l){u=o._getUploadedBytes(l)||u+n.chunkSize,h+n.chunkSize-n._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:u-n.uploadedBytes,total:u-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=u,n.result=i,n.textStatus=s,n.jqXHR=l,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),a>u?r():d.resolveWith(n.context,[i,s,l])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[t,e,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},r(),h):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=e,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,o,s,a=this,u=a._getAJAXSettings(n),l=function(){return a._sending+=1,u._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",t.Event("send",{delegatedEvent:e}),u)===!1)&&a._getXHRPromise(!1,u.context,r)||a._chunkedUpload(u)||t.ajax(u)).done(function(t,e,n){a._onDone(t,e,n,u)}).fail(function(t,e,n){a._onFail(t,e,n,u)}).always(function(t,e,n){if(a._onAlways(t,e,n,u),a._sending-=1,a._active-=1,u.limitConcurrentUploads&&u.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,u),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),s=o.then(l)):(this._sequence=this._sequence.then(l,l),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(u.context,r),l())},this._enhancePromise(s)):l()},_onAdd:function(e,n){var i,r,o,s,a=this,u=!0,l=t.extend({},this.options,n),c=n.files,d=c.length,h=l.limitMultiFileUploads,p=l.limitMultiFileUploadSize,f=l.limitMultiFileUploadSizeOverhead,m=0,y=this._getParamName(l),g=0;if(!d)return!1;if(p&&void 0===c[0].size&&(p=void 0),(l.singleFileUploads||h||p)&&this._isXHRUpload(l))if(l.singleFileUploads||p||!h)if(!l.singleFileUploads&&p)for(o=[],i=[],s=0;d>s;s+=1)m+=c[s].size+f,(s+1===d||m+c[s+1].size+f>p||h&&s+1-g>=h)&&(o.push(c.slice(g,s+1)),r=y.slice(g,s+1),r.length||(r=y),i.push(r),g=s+1,m=0);else i=y;else for(o=[],i=[],s=0;d>s;s+=h)o.push(c.slice(s,s+h)),r=y.slice(s,s+h),r.length||(r=y),i.push(r);else o=[c],i=[y];return n.originalFiles=c,t.each(o||c,function(r,s){var l=t.extend({},n);return l.files=o?s:[s],l.paramName=i[r],a._initResponseObject(l),a._initProgressObject(l),a._addConvenienceMethods(e,l),u=a._trigger("add",t.Event("add",{delegatedEvent:e}),l)}),u},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),r=n.is(document.activeElement);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),r&&i.focus(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,r=this,o=t.Deferred(),s=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},a=function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){o.resolve(t)}).fail(s)},u=function(){i.readEntries(function(t){t.length?(l=l.concat(t),u()):a(l)},s)},l=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file(function(t){t.relativePath=n,o.resolve(t)},s):e.isDirectory?(i=e.createReader(),u()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)!==!1&&n._onAdd(e,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,function(t,r){var o,s=r.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),o=i[s],e._isRegExpOption(s,o)&&(o=e._getRegExp(o)),n[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=t.Deferred(),s=o.promise();return s.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void o.reject();e.files=t,n=r._onSend(null,e),n.then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)})}}),this._enhancePromise(s)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})})},{"./vendor/jquery.ui.widget":29,jquery:32}],29:[function(t,e,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof n?t("jquery"):jQuery)}(function(t){var e=0,n=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,u={},l=e.split(".")[0];return e=e.split(".")[1],r=l+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},o=t[l][e],s=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(u[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(u[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},u,{constructor:s,namespace:l,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;a>s;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&void 0!==r&&(t.isPlainObject(r)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):e[i]=r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=n.call(arguments,1),u=this;return s?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(u=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))})),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?r.delegate(c,l,a):n.bind(l,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget})},{jquery:32}],30:[function(t,e,n){},{}],31:[function(t,e,n){(function(i){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this,r.jade=t()}}(function(){return function e(n,i,r){function o(a,u){if(!i[a]){if(!n[a]){var l="function"==typeof t&&t;if(!u&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};n[a][0].call(d.exports,function(t){var e=n[a][1][t];return o(e?e:t)},d,d.exports,e,n,i,r)}return i[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";function i(t){return null!=t&&""!==t}function r(t){return(Array.isArray(t)?t.map(r):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(i).join(" ")}function o(t){return a[t]||t}function s(t){var e=String(t).replace(u,o);return e===""+t?t:e}n.merge=function l(t,e){if(1===arguments.length){for(var n=t[0],r=1;r<t.length;r++)n=l(n,t[r]);return n}var o=t["class"],s=e["class"];(o||s)&&(o=o||[],s=s||[],Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]),t["class"]=o.concat(s).filter(i));for(var a in e)"class"!=a&&(t[a]=e[a]);return t},n.joinClasses=r,n.cls=function(t,e){for(var i=[],o=0;o<t.length;o++)e&&e[o]?i.push(n.escape(r([t[o]]))):i.push(r(t[o]));var s=r(i);return s.length?' class="'+s+'"':""},n.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},n.attr=function(t,e,i,r){return"style"===t&&(e=n.style(e)),"boolean"==typeof e||null==e?e?" "+(r?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?(-1!==JSON.stringify(e).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),e&&"function"==typeof e.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'"):i?(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+n.escape(e)+'"'):(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+e+'"')},n.attrs=function(t,e){var i=[],o=Object.keys(t);if(o.length)for(var s=0;s<o.length;++s){var a=o[s],u=t[a];"class"==a?(u=r(u))&&i.push(" "+a+'="'+u+'"'):i.push(n.attr(a,u,!1,e))}return i.join("")};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},u=/[&<>"]/g;n.escape=s,n.rethrow=function c(e,n,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||r))throw e.message+=" on line "+i,e;try{r=r||t("fs").readFileSync(n,"utf8")}catch(o){c(e,null,i)}var s=3,a=r.split("\n"),u=Math.max(i-s,0),l=Math.min(a.length,i+s),s=a.slice(u,l).map(function(t,e){var n=e+u+1;return(n==i?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+i+"\n"+s+"\n\n"+e.message,e},n.DebugItem=function(t,e){this.lineno=t,this.filename=e}},{fs:2}],2:[function(t,e,n){},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{fs:30}],32:[function(t,e,n){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"===n||ot.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(mt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return K.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(bt)||[],function(t,n){e[n]=!0}),e}function s(){G.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function u(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Pt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?ot.parseJSON(n):n}catch(r){}Dt.set(t,e,n)}else n=void 0;return n}function l(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ot.css(t,e,"")},u=a(),l=n&&n[3]||(ot.cssNumber[e]?"":"px"),c=(ot.cssNumber[e]||"px"!==l&&+u)&&Mt.exec(ot.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,ot.style(t,e,c+l);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function d(t,e){for(var n=0,i=t.length;i>n;n++)Ct.set(t[n],"globalEval",!e||Ct.get(e[n],"globalEval"))}function h(t,e,n,i,r){for(var o,s,a,u,l,h,p=e.createDocumentFragment(),f=[],m=0,y=t.length;y>m;m++)if(o=t[m],o||0===o)if("object"===ot.type(o))ot.merge(f,o.nodeType?[o]:o);else if($t.test(o)){for(s=s||p.appendChild(e.createElement("div")),a=(At.exec(o)||["",""])[1].toLowerCase(),u=Ft[a]||Ft._default,s.innerHTML=u[1]+ot.htmlPrefilter(o)+u[2],h=u[0];h--;)s=s.lastChild;ot.merge(f,s.childNodes),s=p.firstChild,s.textContent=""}else f.push(e.createTextNode(o));for(p.textContent="",m=0;o=f[m++];)if(i&&ot.inArray(o,i)>-1)r&&r.push(o);else if(l=ot.contains(o.ownerDocument,o),s=c(p.appendChild(o),"script"),l&&d(s),n)for(h=0;o=s[h++];)It.test(o.type||"")&&n.push(o);return p}function p(){return!0}function f(){return!1}function m(){try{return G.activeElement}catch(t){}}function y(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)y(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=f;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ot().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,r,i,n)})}function g(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function v(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _(t){var e=qt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(Ct.hasData(t)&&(o=Ct.access(t),s=Ct.set(e,o),l=o.events)){delete s.handle,s.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)ot.event.add(e,r,l[r][n])}Dt.hasData(t)&&(a=Dt.access(t),u=ot.extend({},a),Dt.set(e,u))}}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Lt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function x(t,e,n,i){e=Z.apply([],e);var r,o,s,a,u,l,d=0,p=t.length,f=p-1,m=e[0],y=ot.isFunction(m);if(y||p>1&&"string"==typeof m&&!it.checkClone&&Ut.test(m))return t.each(function(r){var o=t.eq(r);y&&(e[0]=m.call(this,r,o.html())),x(o,e,n,i)});if(p&&(r=h(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=ot.map(c(r,"script"),v),a=s.length;p>d;d++)u=r,d!==f&&(u=ot.clone(u,!0,!0),a&&ot.merge(s,c(u,"script"))),n.call(t[d],u,d);if(a)for(l=s[s.length-1].ownerDocument,ot.map(s,_),d=0;a>d;d++)u=s[d],It.test(u.type||"")&&!Ct.access(u,"globalEval")&&ot.contains(l,u)&&(u.src?ot._evalUrl&&ot._evalUrl(u.src):ot.globalEval(u.textContent.replace(zt,"")))}return t}function S(t,e,n){for(var i,r=e?ot.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ot.cleanData(c(i)),i.parentNode&&(n&&ot.contains(i.ownerDocument,i)&&d(c(i,"script")),i.parentNode.removeChild(i));return t}function T(t,e){var n=ot(e.createElement(t)).appendTo(e.body),i=ot.css(n[0],"display");return n.detach(),i}function C(t){var e=G,n=Vt[t];return n||(n=T(t,e),"none"!==n&&n||(Bt=(Bt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Bt[0].contentDocument,e.write(),e.close(),n=T(t,e),Bt.detach()),Vt[t]=n),n}function D(t,e,n){var i,r,o,s,a=t.style;return n=n||Qt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||ot.contains(t.ownerDocument,t)||(s=ot.style(t,e)),n&&!it.pixelMarginRight()&&Gt.test(s)&&Xt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function P(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function O(t,e,n){var i=Mt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function M(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(t,n+Et[o],!0,r)),i?("content"===n&&(s-=ot.css(t,"padding"+Et[o],!0,r)),"margin"!==n&&(s-=ot.css(t,"border"+Et[o]+"Width",!0,r))):(s+=ot.css(t,"padding"+Et[o],!0,r),"padding"!==n&&(s+=ot.css(t,"border"+Et[o]+"Width",!0,r)));return s}function E(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Qt(t),s="border-box"===ot.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=D(t,e,o),(0>r||null==r)&&(r=t.style[e]),Gt.test(r))return r;i=s&&(it.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+M(t,e,n||(s?"border":"content"),i,o)+"px"}function R(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=Ct.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Rt(i)&&(o[s]=Ct.access(i,"olddisplay",C(i.nodeName)))):(r=Rt(i),"none"===n&&r||Ct.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function L(t,e,n,i,r){return new L.prototype.init(t,e,n,i,r)}function A(){return t.setTimeout(function(){re=void 0}),re=ot.now()}function I(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Et[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function F(t,e,n){for(var i,r=(H.tweeners[e]||[]).concat(H.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function $(t,e,n){var i,r,o,s,a,u,l,c,d=this,h={},p=t.style,f=t.nodeType&&Rt(t),m=Ct.get(t,"fxshow");n.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u();
}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ot.css(t,"display"),c="none"===l?Ct.get(t,"olddisplay")||C(t.nodeName):l,"inline"===c&&"none"===ot.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],se.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||ot.style(t,i)}else l=void 0;if(ot.isEmptyObject(h))"inline"===("none"===l?C(t.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(f=m.hidden):m=Ct.access(t,"fxshow",{}),o&&(m.hidden=!f),f?ot(t).show():d.done(function(){ot(t).hide()}),d.done(function(){var e;Ct.remove(t,"fxshow");for(e in h)ot.style(t,e,h[e])});for(i in h)s=F(f?m[i]:0,i,d),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function j(t,e){var n,i,r,o,s;for(n in t)if(i=ot.camelCase(n),r=e[i],o=t[n],ot.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function H(t,e,n){var i,r,o=0,s=H.prefilters.length,a=ot.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=re||A(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),1>o&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||A(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(j(c,l.opts.specialEasing);s>o;o++)if(i=H.prefilters[o].call(l,t,c,l.opts))return ot.isFunction(i.stop)&&(ot._queueHooks(l.elem,l.opts.queue).stop=ot.proxy(i.stop,i)),i;return ot.map(c,F,l),ot.isFunction(l.opts.start)&&l.opts.start.call(t,l),ot.fx.timer(ot.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(t){return t.getAttribute&&t.getAttribute("class")||""}function W(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(bt)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Y(t,e,n,i){function r(a){var u;return o[a]=!0,ot.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},s=t===De;return r(e.dataTypes[0])||!o["*"]&&r("*")}function U(t,e){var n,i,r=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function q(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function B(t,e,n,i){var r;if(ot.isArray(e))ot.each(e,function(e,r){n||Me.test(t)?i(t,r):B(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(r in e)B(t+"["+r+"]",e[r],n,i)}function V(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var X=[],G=t.document,Q=X.slice,Z=X.concat,J=X.push,K=X.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.4",ot=function(t,e){return new ot.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,ut=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Q.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:X.sort,splice:X.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(l&&i&&(ot.isPlainObject(i)||(r=ot.isArray(i)))?(r?(r=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},s[e]=ot.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=G.createElement("script"),e.text=t,G.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(at,"ms-").replace(ut,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:K.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;r>s;s++)o=e(t[s],s,i),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return Z.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t)?(i=Q.call(arguments,2),r=function(){return t.apply(e||this,i.concat(Q.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r):void 0},now:Date.now,support:it}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=X[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,n,i){var r,o,s,a,u,l,d,p,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!i&&((e?e.ownerDocument||e:N)!==R&&E(e),e=e||R,A)){if(11!==m&&(l=gt.exec(t)))if(r=l[1]){if(9===m){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&j(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&b.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(b.qsa&&!z[t+" "]&&(!I||!I.test(t))){if(1!==m)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(_t,"\\$&"):e.setAttribute("id",a=H),d=C(t),o=d.length,u=ht.test(a)?"#"+a:"[id='"+a+"']";o--;)d[o]=u+" "+h(d[o]);p=d.join(","),f=vt.test(t)&&c(e.parentNode)||e}if(p)try{return J.apply(n,f.querySelectorAll(p)),n}catch(y){}finally{a===H&&e.removeAttribute("id")}}}return k(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function r(t){var e=R.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=Y++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,u,l,c=[W,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[H]||(e[H]={}),u=l[e.uniqueID]||(l[e.uniqueID]={}),(a=u[i])&&a[0]===W&&a[1]===o)return c[2]=a[2];if(u[i]=c,c[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function y(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;u>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function g(t,e,n,r,o,s){return r&&!r[H]&&(r=g(r)),o&&!o[H]&&(o=g(o,s)),i(function(i,s,a,u){var l,c,d,h=[],p=[],f=s.length,g=i||m(e||"*",a.nodeType?[a]:a,[]),v=!t||!i&&e?g:y(g,h,t,a,u),_=n?o||(i?t:f||r)?[]:s:v;if(n&&n(v,_,a,u),r)for(l=y(_,p),r(l,[],a,u),c=l.length;c--;)(d=l[c])&&(_[p[c]]=!(v[p[c]]=d));if(i){if(o||t){if(o){for(l=[],c=_.length;c--;)(d=_[c])&&l.push(v[c]=d);o(null,_=[],l,u)}for(c=_.length;c--;)(d=_[c])&&(l=o?tt(i,d):h[c])>-1&&(i[l]=!(s[l]=d))}}else _=y(_===s?_.splice(f,_.length):_),o?o(null,s,_,u):J.apply(s,_)})}function v(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),l=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==P)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];r>a;a++)if(n=x.relative[t[a].type])c=[p(f(c),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[H]){for(i=++a;r>i&&!x.relative[t[i].type];i++);return g(a>1&&f(c),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&v(t.slice(a,i)),r>i&&v(t=t.slice(i)),r>i&&h(t))}c.push(n)}return f(c)}function _(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,u,l){var c,d,h,p=0,f="0",m=i&&[],g=[],v=P,_=i||o&&x.find.TAG("*",l),w=W+=null==v?1:Math.random()||.1,b=_.length;for(l&&(P=s===R||s||l);f!==b&&null!=(c=_[f]);f++){if(o&&c){for(d=0,s||c.ownerDocument===R||(E(c),a=!A);h=t[d++];)if(h(c,s||R,a)){u.push(c);break}l&&(W=w)}r&&((c=!h&&c)&&p--,i&&m.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(m,g,s,a);if(i){if(p>0)for(;f--;)m[f]||g[f]||(g[f]=Q.call(u));g=y(g)}J.apply(u,g),l&&!i&&g.length>0&&p+n.length>1&&e.uniqueSort(u)}return l&&(W=w,P=v),m};return r?i(s):s}var w,b,x,S,T,C,D,k,P,O,M,E,R,L,A,I,F,$,j,H="sizzle"+1*new Date,N=t.document,W=0,Y=0,U=n(),q=n(),z=n(),B=function(t,e){return t===e&&(M=!0),0},V=1<<31,X={}.hasOwnProperty,G=[],Q=G.pop,Z=G.push,J=G.push,K=G.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ht=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,_t=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){E()};try{J.apply(G=K.call(N.childNodes),N.childNodes),G[N.childNodes.length].nodeType}catch(St){J={apply:G.length?function(t,e){Z.apply(t,K.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}b=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},E=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:N;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,L=R.documentElement,A=!T(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=yt.test(R.getElementsByClassName),b.getById=r(function(t){return L.appendChild(t).id=H,!R.getElementsByName||!R.getElementsByName(H).length}),b.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&A){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,bt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=b.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=b.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&A?e.getElementsByClassName(t):void 0},F=[],I=[],(b.qsa=yt.test(R.querySelectorAll))&&(r(function(t){L.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||I.push(".#.+[+~]")}),r(function(t){var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(b.matchesSelector=yt.test($=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){b.disconnectedMatch=$.call(t,"div"),$.call(t,"[s!='']:x"),F.push("!=",ot)}),I=I.length&&new RegExp(I.join("|")),F=F.length&&new RegExp(F.join("|")),e=yt.test(L.compareDocumentPosition),j=e||yt.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},B=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===N&&j(N,t)?-1:e===R||e.ownerDocument===N&&j(N,e)?1:O?tt(O,t)-tt(O,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!r||!o)return t===R?-1:e===R?1:r?-1:o?1:O?tt(O,t)-tt(O,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===N?-1:u[i]===N?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&E(t),n=n.replace(ct,"='$1']"),b.matchesSelector&&A&&!z[n+" "]&&(!F||!F.test(n))&&(!I||!I.test(n)))try{var i=$.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&E(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&E(t);var n=x.attrHandle[e.toLowerCase()],i=n&&X.call(x.attrHandle,e.toLowerCase())?n(t,e,!A):void 0;return void 0!==i?i:b.attributes||!A?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!b.detectDuplicates,O=!b.sortStable&&t.slice(0),t.sort(B),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return O=null,t},S=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,d,h,p,f,m=o!==s?"nextSibling":"previousSibling",y=e.parentNode,g=a&&e.nodeName.toLowerCase(),v=!u&&!a,_=!1;if(y){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?y.firstChild:y.lastChild],s&&v){for(h=y,d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),l=c[t]||[],p=l[0]===W&&l[1],_=p&&l[2],h=p&&y.childNodes[p];h=++p&&h&&h[m]||(_=p=0)||f.pop();)if(1===h.nodeType&&++_&&h===e){c[t]=[W,p,_];break}}else if(v&&(h=e,d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),l=c[t]||[],p=l[0]===W&&l[1],_=p),_===!1)for(;(h=++p&&h&&h[m]||(_=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==g:1!==h.nodeType)||!++_||(v&&(d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[t]=[W,_]),h!==e)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=D(t.replace(at,"$1"));return r[H]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,bt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,bt).toLowerCase(),function(e){var n;do if(n=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=u(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,C=e.tokenize=function(t,n){var i,r,o,s,a,u,l,c=q[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=x.preFilter;a;){i&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in x.filter)!(r=pt[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):q(t,u).slice(0)},D=e.compile=function(t,e){var n,i=[],r=[],o=z[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=v(e[n]),o[H]?i.push(o):r.push(o);o=z(t,_(r,i)),o.selector=t}return o},k=e.select=function(t,e,n,i){var r,o,s,a,u,l="function"==typeof t&&t,d=!i&&C(t=l.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===e.nodeType&&A&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(wt,bt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((u=x.find[a])&&(i=u(s.matches[0].replace(wt,bt),vt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return J.apply(n,i),n;break}}return(l||D(t,d))(i,e,!A,n,!e||vt.test(t)&&c(e.parentNode)||e),n},b.sortStable=H.split("").sort(B).join("")===H,b.detectDuplicates=!!M,E(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var dt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;i.push(t)}return i},ht=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},pt=ot.expr.match.needsContext,ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;n>e;e++)if(ot.contains(r[e],this))return!0}));for(e=0;n>e;e++)ot.find(t,r[e],i);return i=this.pushStack(n>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&pt.test(t)?ot(t):t||[],!1).length}});var yt,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=ot.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||yt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:gt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:G,!0)),ft.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=G.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=G,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};vt.prototype=ot.fn,yt=ot(G);var _t=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=pt.test(t)||"string"!=typeof t?ot(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?K.call(ot(t),this[0]):K.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return dt(t,"parentNode")},parentsUntil:function(t,e,n){return dt(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return dt(t,"nextSibling")},prevAll:function(t){return dt(t,"previousSibling")},nextUntil:function(t,e,n){return dt(t,"nextSibling",n)},prevUntil:function(t,e,n){return dt(t,"previousSibling",n)},siblings:function(t){return ht((t.parentNode||{}).firstChild,t)},children:function(t){return ht(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var r=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(wt[t]||ot.uniqueSort(r),_t.test(t)&&r.reverse()),this.pushStack(r)}});var bt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,i,r,s=[],a=[],u=-1,l=function(){for(r=t.once,i=e=!0;a.length;u=-1)for(n=a.shift();++u<s.length;)s[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(u=s.length-1,a.push(n)),function i(e){ot.each(e,function(e,n){ot.isFunction(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==ot.type(n)&&i(n)})}(arguments),n&&!e&&l()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,s,n))>-1;)s.splice(n,1),u>=n&&u--}),this},has:function(t){return t?ot.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n;
},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var s=ot.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},r={};return i.pipe=i.then,ot.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=Q.call(arguments),s=o.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,u=1===a?t:ot.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?Q.call(arguments):r,i===e?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().progress(l(r,n,e)).done(l(r,i,o)).fail(u.reject):--a;return a||u.resolveWith(i,o),u.promise()}});var xt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(xt.resolveWith(G,[ot]),ot.fn.triggerHandler&&(ot(G).triggerHandler("ready"),ot(G).off("ready"))))}}),ot.ready.promise=function(e){return xt||(xt=ot.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?t.setTimeout(ot.ready):(G.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),xt.promise(e)},ot.ready.promise();var St=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===ot.type(n)){r=!0;for(a in n)St(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(ot(t),n)})),e))for(;u>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},Tt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Tt(t))return{};var e=t[this.expando];return e||(e={},Tt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?i=e.concat(e.map(ot.camelCase)):(r=ot.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(bt)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var Ct=new a,Dt=new a,kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pt=/[A-Z]/g;ot.extend({hasData:function(t){return Dt.hasData(t)||Ct.hasData(t)},data:function(t,e,n){return Dt.access(t,e,n)},removeData:function(t,e){Dt.remove(t,e)},_data:function(t,e,n){return Ct.access(t,e,n)},_removeData:function(t,e){Ct.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Dt.get(o),1===o.nodeType&&!Ct.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),u(o,i,r[i])));Ct.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Dt.set(this,t)}):St(this,function(e){var n,i;if(o&&void 0===e){if(n=Dt.get(o,t)||Dt.get(o,t.replace(Pt,"-$&").toLowerCase()),void 0!==n)return n;if(i=ot.camelCase(t),n=Dt.get(o,i),void 0!==n)return n;if(n=u(o,i,void 0),void 0!==n)return n}else i=ot.camelCase(t),this.each(function(){var n=Dt.get(this,i);Dt.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Dt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Dt.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Ct.get(t,e),n&&(!i||ot.isArray(n)?i=Ct.access(t,e,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,r=n.shift(),o=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ct.get(t,n)||Ct.access(t,n,{empty:ot.Callbacks("once memory").add(function(){Ct.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ot.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=Ct.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Ot+")([a-z%]*)$","i"),Et=["Top","Right","Bottom","Left"],Rt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},Lt=/^(?:checkbox|radio)$/i,At=/<([\w:-]+)/,It=/^$|\/(?:java|ecma)script/i,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td;var $t=/<|&#?\w+;/;!function(){var t=G.createDocumentFragment(),e=t.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var jt=/^key/,Ht=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Nt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,d,h,p,f,m,y=Ct.get(t);if(y)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ot.guid++),(u=y.events)||(u=y.events={}),(s=y.handle)||(s=y.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(bt)||[""],l=e.length;l--;)a=Nt.exec(e[l])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(d=ot.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=ot.event.special[p]||{},c=ot.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=u[p])||(h=u[p]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,f,s)!==!1||t.addEventListener&&t.addEventListener(p,s)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),ot.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,d,h,p,f,m,y=Ct.hasData(t)&&Ct.get(t);if(y&&(u=y.events)){for(e=(e||"").match(bt)||[""],l=e.length;l--;)if(a=Nt.exec(e[l])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ot.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));s&&!h.length&&(d.teardown&&d.teardown.call(t,f,y.handle)!==!1||ot.removeEvent(t,p,y.handle),delete u[p])}else for(p in u)ot.event.remove(t,p+e[l],n,i,!0);ot.isEmptyObject(u)&&Ct.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,r,o,s=[],a=Q.call(arguments),u=(Ct.get(this,"events")||{})[t.type]||[],l=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=ot.event.handlers.call(this,t,u),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((ot.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ot(r,this).index(u)>-1:ot.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||G,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ht.test(r)?this.mouseHooks:jt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ot.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=G),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?p:f):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=p,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ot.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,i){return y(this,t,e,n,i)},one:function(t,e,n,i){return y(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=f),this.each(function(){ot.event.remove(this,t,n,e)})}});var Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Yt=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^true\/(.*)/,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(Wt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),u=ot.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(s=c(a),o=c(t),i=0,r=o.length;r>i;i++)b(o[i],s[i]);if(e)if(n)for(o=o||c(t),s=s||c(a),i=0,r=o.length;r>i;i++)w(o[i],s[i]);else w(t,a);return s=c(a,"script"),s.length>0&&d(s,!u&&c(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(Tt(n)){if(e=n[Ct.expando]){if(e.events)for(i in e.events)r[i]?ot.event.remove(n,i):ot.removeEvent(n,i,e.handle);n[Ct.expando]=void 0}n[Dt.expando]&&(n[Dt.expando]=void 0)}}}),ot.fn.extend({domManip:x,detach:function(t){return S(this,t,!0)},remove:function(t){return S(this,t)},text:function(t){return St(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=g(this,t);e.appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=g(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return St(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Yt.test(t)&&!Ft[(At.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=[],r=ot(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ot(r[s])[e](n),J.apply(i,n.get());return this.pushStack(i)}});var Bt,Vt={HTML:"block",BODY:"block"},Xt=/^margin/,Gt=new RegExp("^("+Ot+")(?!px)[a-z%]+$","i"),Qt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Zt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Jt=G.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Jt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Jt.removeChild(s)}var n,i,r,o,s=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ot.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=a.appendChild(G.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Jt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Jt.removeChild(s),a.removeChild(n),e}}))}();var Kt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=G.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ot.camelCase(e),u=t.style;return e=ot.cssProps[a]||(ot.cssProps[a]=P(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Mt.exec(n))&&r[1]&&(n=l(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ot.cssNumber[a]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=P(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=D(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){return n?Kt.test(ot.css(t,"display"))&&0===t.offsetWidth?Zt(t,te,function(){return E(t,e,i)}):E(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Qt(t),s=i&&M(t,e,i,"border-box"===ot.css(t,"boxSizing",!1,o),o);return s&&(r=Mt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),O(t,n,s)}}}),ot.cssHooks.marginLeft=k(it.reliableMarginLeft,function(t,e){return e?(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=k(it.reliableMarginRight,function(t,e){return e?Zt(t,{display:"inline-block"},D,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Et[i]+e]=o[i]||o[i-2]||o[0];return r}},Xt.test(t)||(ot.cssHooks[t+e].set=O)}),ot.fn.extend({css:function(t,e){return St(this,function(t,e,n){var i,r,o={},s=0;if(ot.isArray(e)){for(i=Qt(t),r=e.length;r>s;s++)o[e[s]]=ot.css(t,e[s],!1,i);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Rt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=L,L.prototype={constructor:L,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,n=L.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=L.prototype.init,ot.fx.step={};var re,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;ot.Animation=ot.extend(H,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return l(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(bt);for(var n,i=0,r=t.length;r>i;i++)n=t[i],H.tweeners[n]=H.tweeners[n]||[],H.tweeners[n].unshift(e)},prefilters:[$],prefilter:function(t,e){e?H.prefilters.unshift(t):H.prefilters.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Rt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ot.isEmptyObject(t),o=ot.speed(e,n,i),s=function(){var e=H(this,ot.extend({},t),o);(r||Ct.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ot.timers,s=Ct.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Ct.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(I(e,!0),t,i,r)}}),ot.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(re=ot.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),re=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=G.createElement("input"),e=G.createElement("select"),n=e.appendChild(G.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=G.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var ue,le=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return St(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),r=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ot.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(bt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),ue={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=le[e]||ot.find.attr;le[e]=function(t,e,i){var r,o;return i||(o=le[e],le[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,le[e]=o),r}});var ce=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return St(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,r=ot.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var he=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,N(this)))});if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[u++];)if(r=N(n),i=1===n.nodeType&&(" "+r+" ").replace(he," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,N(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[u++];)if(r=N(n),i=1===n.nodeType&&(" "+r+" ").replace(he," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,N(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ot(this),o=t.match(bt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=N(this),e&&Ct.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Ct.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+N(n)+" ").replace(he," ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g,fe=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(pe,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(fe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,u=0>r?a:o?r:0;a>u;u++)if(n=i[u],(n.selected||u===r)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ot.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ot.inArray(ot.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var me=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,i,r){var o,s,a,u,l,c,d,h=[i||G],p=nt.call(e,"type")?e.type:e,f=nt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!me.test(p+ot.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[ot.expando]?e:new ot.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),d=ot.event.special[p]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!ot.isWindow(i)){for(u=d.delegateType||p,me.test(u+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||G)&&h.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:d.bindType||p,c=(Ct.get(s,"events")||{})[e.type]&&Ct.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Tt(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Tt(i)||l&&ot.isFunction(i[p])&&!ot.isWindow(i)&&(a=i[l],a&&(i[l]=null),ot.event.triggered=p,i[p](),ot.event.triggered=void 0,a&&(i[l]=a)),e.result}},simulate:function(t,e,n){var i=ot.extend(new ot.Event,n,{type:t,isSimulated:!0
});ot.event.trigger(i,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Ct.access(i,e);r||i.addEventListener(t,n,!0),Ct.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Ct.access(i,e)-1;r?Ct.access(i,e,r):(i.removeEventListener(t,n,!0),Ct.remove(i,e))}}});var ye=t.location,ge=ot.now(),ve=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var _e=/#.*$/,we=/([?&])_=[^&]*/,be=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Se=/^(?:GET|HEAD)$/,Te=/^\/\//,Ce={},De={},ke="*/".concat("*"),Pe=G.createElement("a");Pe.href=ye.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:xe.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,ot.ajaxSettings),e):U(ot.ajaxSettings,t)},ajaxPrefilter:W(Ce),ajaxTransport:W(De),ajax:function(e,n){function i(e,n,i,a){var l,d,v,_,b,S=n;2!==w&&(w=2,u&&t.clearTimeout(u),r=void 0,s=a||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(_=q(h,x,i)),_=z(h,_,x,l),l?(h.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(ot.lastModified[o]=b),b=x.getResponseHeader("etag"),b&&(ot.etag[o]=b)),204===e||"HEAD"===h.type?S="nocontent":304===e?S="notmodified":(S=_.state,d=_.data,v=_.error,l=!v)):(v=S,!e&&S||(S="error",0>e&&(e=0))),x.status=e,x.statusText=(n||S)+"",l?m.resolveWith(p,[d,S,x]):m.rejectWith(p,[x,S,v]),x.statusCode(g),g=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?d:v]),y.fireWith(p,[x,S]),c&&(f.trigger("ajaxComplete",[x,h]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,u,l,c,d,h=ot.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?ot(p):ot.event,m=ot.Deferred(),y=ot.Callbacks("once memory"),g=h.statusCode||{},v={},_={},w=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=be.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=_[n]=_[n]||t,v[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)g[e]=[g[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),i(0,e),this}};if(m.promise(x).complete=y.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||ye.href)+"").replace(_e,"").replace(Te,ye.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ot.trim(h.dataType||"*").toLowerCase().match(bt)||[""],null==h.crossDomain){l=G.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Pe.protocol+"//"+Pe.host!=l.protocol+"//"+l.host}catch(S){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ot.param(h.data,h.traditional)),Y(Ce,h,n,x),2===w)return x;c=ot.event&&h.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Se.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ve.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=we.test(o)?o.replace(we,"$1_="+ge++):o+(ve.test(o)?"&":"?")+"_="+ge++)),h.ifModified&&(ot.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&x.setRequestHeader("If-None-Match",ot.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ke+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===w))return x.abort();b="abort";for(d in{success:1,error:1,complete:1})x[d](h[d]);if(r=Y(De,h,n,x)){if(x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),2===w)return x;h.async&&h.timeout>0&&(u=t.setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,r.send(v,i)}catch(S){if(!(2>w))throw S;i(-1,S)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:r,data:n,success:i},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Oe=/%20/g,Me=/\[\]$/,Ee=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)B(n,t[n],e,r);return i.join("&").replace(Oe,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Le.test(this.nodeName)&&!Re.test(t)&&(this.checked||!Lt.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:n.replace(Ee,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ae={0:200,1223:204},Ie=ot.ajaxSettings.xhr();it.cors=!!Ie&&"withCredentials"in Ie,it.ajax=Ie=!!Ie,ot.ajaxTransport(function(e){var n,i;return it.cors||Ie&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ae[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),G.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Fe=[],$e=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Fe.pop()||ot.expando+"_"+ge++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&($e.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($e,"$1"+r):e.jsonp!==!1&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ot.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ot(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Fe.push(r)),s&&ot.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||G;var i=ft.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=h([t],e,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var je=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&je)return je.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ot.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l,c=ot.css(t,"position"),d=ot(t),h={};"static"===c&&(t.style.position="relative"),a=d.offset(),o=ot.css(t,"top"),u=ot.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):d.css(h)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,ot.contains(e,i)?(r=i.getBoundingClientRect(),n=V(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Jt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(i){return St(this,function(t,i,r){var o=V(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=k(it.pixelPosition,function(t,n){return n?(n=D(t,e),Gt.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return St(this,function(e,n,i){var r;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ot.css(e,n,s):ot.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var He=t.jQuery,Ne=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=Ne),e&&t.jQuery===ot&&(t.jQuery=He),ot},e||(t.jQuery=t.$=ot),ot})},{}],33:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.moment=i()}(this,function(){"use strict";function n(){return ui.apply(null,arguments)}function i(t){ui=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,i){return $t(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(t){return null==t._pf&&(t._pf=c()),t._pf}function h(t){if(null==t._isValid){var e=d(t),n=li.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function p(t){var e=l(NaN);return null!=t?u(d(e),t):d(e).userInvalidated=!0,e}function f(t){return void 0===t}function m(t,e){var n,i,r;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=d(e)),f(e._locale)||(t._locale=e._locale),ci.length>0)for(n in ci)i=ci[n],r=e[i],f(r)||(t[i]=r);return t}function y(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),di===!1&&(di=!0,n.updateOffset(this),di=!1)}function g(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function v(t){return 0>t?Math.ceil(t):Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=v(e)),n}function w(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&s++;return s+o}function b(t){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,e){var i=!0;return u(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,t),i&&(b(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function S(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),hi[t]||(b(e),hi[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t){return"[object Object]"===Object.prototype.toString.call(t)}function D(t){var e,n;for(n in t)e=t[n],T(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function k(t,e){var n,i=u({},t);for(n in e)a(e,n)&&(C(t[n])&&C(e[n])?(i[n]={},u(i[n],t[n]),u(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);return i}function P(t){null!=t&&this.set(t)}function O(t){return t?t.toLowerCase().replace("_","-"):t}function M(t){for(var e,n,i,r,o=0;o<t.length;){for(r=O(t[o]).split("-"),e=r.length,n=O(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=E(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(r,n,!0)>=e-1)break;e--}o++}return null}function E(n){var i=null;if(!yi[n]&&"undefined"!=typeof e&&e&&e.exports)try{i=fi._abbr,t("./locale/"+n),R(i)}catch(r){}return yi[n]}function R(t,e){var n;return t&&(n=f(e)?I(t):L(t,e),n&&(fi=n)),fi._abbr}function L(t,e){return null!==e?(e.abbr=t,null!=yi[t]?(S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=k(yi[t]._config,e)):null!=e.parentLocale&&(null!=yi[e.parentLocale]?e=k(yi[e.parentLocale]._config,e):S("parentLocaleUndefined","specified parentLocale is not defined yet")),yi[t]=new P(e),R(t),yi[t]):(delete yi[t],null)}function A(t,e){if(null!=e){var n;null!=yi[t]&&(e=k(yi[t]._config,e)),n=new P(e),n.parentLocale=yi[t],yi[t]=n,R(t)}else null!=yi[t]&&(null!=yi[t].parentLocale?yi[t]=yi[t].parentLocale:null!=yi[t]&&delete yi[t]);return yi[t]}function I(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return fi;if(!r(t)){if(e=E(t))return e;t=[t]}return M(t)}function F(){return pi(yi)}function $(t,e){var n=t.toLowerCase();gi[n]=gi[n+"s"]=gi[e]=t}function j(t){return"string"==typeof t?gi[t]||gi[t.toLowerCase()]:void 0}function H(t){var e,n,i={};for(n in t)a(t,n)&&(e=j(n),e&&(i[e]=t[n]));return i}function N(t,e){return function(i){return null!=i?(Y(this,t,i),n.updateOffset(this,e),this):W(this,t)}}function W(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Y(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function U(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=j(t),T(this[t]))return this[t](e);return this}function q(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function z(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(bi[t]=r),e&&(bi[e[0]]=function(){return q(r.apply(this,arguments),e[1],e[2])}),n&&(bi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,n,i=t.match(vi);for(e=0,n=i.length;n>e;e++)bi[i[e]]?i[e]=bi[i[e]]:i[e]=B(i[e]);return function(e){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function X(t,e){return t.isValid()?(e=G(e,t.localeData()),wi[e]=wi[e]||V(e),wi[e](t)):t.localeData().invalidDate()}function G(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(_i.lastIndex=0;i>=0&&_i.test(t);)t=t.replace(_i,n),_i.lastIndex=0,i-=1;return t}function Q(t,e,n){Hi[t]=T(e)?e:function(t,i){return t&&n?n:e}}function Z(t,e){return a(Hi,t)?Hi[t](e._strict,e._locale):new RegExp(J(t))}function J(t){return K(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)Ni[t[n]]=i}function et(t,e){tt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function nt(t,e,n){null!=e&&a(Ni,t)&&Ni[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return r(this._months)?this._months[t.month()]:this._months[Qi.test(e)?"format":"standalone"][t.month()]}function ot(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Qi.test(e)?"format":"standalone"][t.month()]}function st(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=l([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=mi.call(this._shortMonthsParse,s),-1!==r?r:null):(r=mi.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===e?(r=mi.call(this._shortMonthsParse,s),-1!==r?r:(r=mi.call(this._longMonthsParse,s),-1!==r?r:null)):(r=mi.call(this._longMonthsParse,s),-1!==r?r:(r=mi.call(this._shortMonthsParse,s),-1!==r?r:null))}function at(t,e,n){var i,r,o;if(this._monthsParseExact)return st.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ut(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function lt(t){return null!=t?(ut(this,t),n.updateOffset(this,!0),this):W(this,"Month")}function ct(){return it(this.year(),this.month())}function dt(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ht(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function pt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=l([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=K(i[e]),r[e]=K(r[e]),o[e]=K(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ft(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[Yi]<0||n[Yi]>11?Yi:n[Ui]<1||n[Ui]>it(n[Wi],n[Yi])?Ui:n[qi]<0||n[qi]>24||24===n[qi]&&(0!==n[zi]||0!==n[Bi]||0!==n[Vi])?qi:n[zi]<0||n[zi]>59?zi:n[Bi]<0||n[Bi]>59?Bi:n[Vi]<0||n[Vi]>999?Vi:-1,d(t)._overflowDayOfYear&&(Wi>e||e>Ui)&&(e=Ui),d(t)._overflowWeeks&&-1===e&&(e=Xi),d(t)._overflowWeekday&&-1===e&&(e=Gi),d(t).overflow=e),t}function mt(t){var e,n,i,r,o,s,a=t._i,u=er.exec(a)||nr.exec(a);if(u){for(d(t).iso=!0,e=0,n=rr.length;n>e;e++)if(rr[e][1].exec(u[1])){r=rr[e][0],i=rr[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=or.length;n>e;e++)if(or[e][1].exec(u[3])){o=(u[2]||" ")+or[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(u[4]){if(!ir.exec(u[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),Mt(t)}else t._isValid=!1}function yt(t){var e=sr.exec(t._i);return null!==e?void(t._d=new Date(+e[1])):(mt(t),void(t._isValid===!1&&(delete t._isValid,n.createFromInputFallback(t))))}function gt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function vt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function _t(t){return wt(t)?366:365}function wt(t){return t%4===0&&t%100!==0||t%400===0}function bt(){return wt(this.year())}function xt(t,e,n){var i=7+e-n,r=(7+vt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function St(t,e,n,i,r){var o,s,a=(7+n-i)%7,u=xt(t,i,r),l=1+7*(e-1)+a+u;return 0>=l?(o=t-1,s=_t(o)+l):l>_t(t)?(o=t+1,s=l-_t(t)):(o=t,s=l),{year:o,dayOfYear:s}}function Tt(t,e,n){var i,r,o=xt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return 1>s?(r=t.year()-1,i=s+Ct(r,e,n)):s>Ct(t.year(),e,n)?(i=s-Ct(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function Ct(t,e,n){var i=xt(t,e,n),r=xt(t+1,e,n);return(_t(t)-i+r)/7}function Dt(t,e,n){return null!=t?t:null!=e?e:n}function kt(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Pt(t){var e,n,i,r,o=[];if(!t._d){for(i=kt(t),t._w&&null==t._a[Ui]&&null==t._a[Yi]&&Ot(t),t._dayOfYear&&(r=Dt(t._a[Wi],i[Wi]),t._dayOfYear>_t(r)&&(d(t)._overflowDayOfYear=!0),n=vt(r,0,t._dayOfYear),t._a[Yi]=n.getUTCMonth(),t._a[Ui]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[qi]&&0===t._a[zi]&&0===t._a[Bi]&&0===t._a[Vi]&&(t._nextDay=!0,t._a[qi]=0),t._d=(t._useUTC?vt:gt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[qi]=24)}}function Ot(t){var e,n,i,r,o,s,a,u;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,s=4,n=Dt(e.GG,t._a[Wi],Tt(jt(),1,4).year),i=Dt(e.W,1),r=Dt(e.E,1),(1>r||r>7)&&(u=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,n=Dt(e.gg,t._a[Wi],Tt(jt(),o,s).year),i=Dt(e.w,1),null!=e.d?(r=e.d,(0>r||r>6)&&(u=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(u=!0)):r=o),1>i||i>Ct(n,o,s)?d(t)._overflowWeeks=!0:null!=u?d(t)._overflowWeekday=!0:(a=St(n,i,r,o,s),t._a[Wi]=a.year,t._dayOfYear=a.dayOfYear)}function Mt(t){if(t._f===n.ISO_8601)return void mt(t);t._a=[],d(t).empty=!0;var e,i,r,o,s,a=""+t._i,u=a.length,l=0;for(r=G(t._f,t._locale).match(vi)||[],e=0;e<r.length;e++)o=r[e],i=(a.match(Z(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&d(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),l+=i.length),bi[o]?(i?d(t).empty=!1:d(t).unusedTokens.push(o),nt(o,i,t)):t._strict&&!i&&d(t).unusedTokens.push(o);d(t).charsLeftOver=u-l,a.length>0&&d(t).unusedInput.push(a),d(t).bigHour===!0&&t._a[qi]<=12&&t._a[qi]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[qi]=Et(t._locale,t._a[qi],t._meridiem),Pt(t),ft(t)}function Et(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function Rt(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Mt(e),h(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||i>o)&&(i=o,n=e));u(t,n||e)}function Lt(t){if(!t._d){var e=H(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Pt(t)}}function At(t){var e=new y(ft(It(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function It(t){var e=t._i,n=t._f;return t._locale=t._locale||I(t._l),null===e||void 0===n&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new y(ft(e)):(r(n)?Rt(t):n?Mt(t):o(e)?t._d=e:Ft(t),h(t)||(t._d=null),t))}function Ft(t){var e=t._i;void 0===e?t._d=new Date(n.now()):o(e)?t._d=new Date(e.valueOf()):"string"==typeof e?yt(t):r(e)?(t._a=s(e.slice(0),function(t){return parseInt(t,10)}),Pt(t)):"object"==typeof e?Lt(t):"number"==typeof e?t._d=new Date(e):n.createFromInputFallback(t)}function $t(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,At(o)}function jt(t,e,n,i){return $t(t,e,n,i,!1)}function Ht(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return jt();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Nt(){var t=[].slice.call(arguments,0);return Ht("isBefore",t)}function Wt(){var t=[].slice.call(arguments,0);return Ht("isAfter",t)}function Yt(t){var e=H(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=I(),this._bubble()}function Ut(t){return t instanceof Yt}function qt(t,e){z(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+q(~~(t/60),2)+e+q(~~t%60,2)})}function zt(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(dr)||["-",0,0],o=+(60*r[1])+_(r[2]);return"+"===r[0]?o:-o}function Bt(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(g(t)||o(t)?t.valueOf():jt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):jt(t).local()}function Vt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Xt(t,e){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=zt(Fi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=Vt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?de(this,oe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Vt(this):null!=t?this:NaN}function Gt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Qt(t){return this.utcOffset(0,t)}function Zt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Vt(this),"m")),this}function Jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(zt(Ii,this._i)),this}function Kt(t){return this.isValid()?(t=t?jt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function te(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ee(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=It(t),t._a){var e=t._isUTC?l(t._a):jt(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ne(){return this.isValid()?!this._isUTC:!1;
}function ie(){return this.isValid()?this._isUTC:!1}function re(){return this.isValid()?this._isUTC&&0===this._offset:!1}function oe(t,e){var n,i,r,o=t,s=null;return Ut(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(s=hr.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[Ui])*n,h:_(s[qi])*n,m:_(s[zi])*n,s:_(s[Bi])*n,ms:_(s[Vi])*n}):(s=pr.exec(t))?(n="-"===s[1]?-1:1,o={y:se(s[2],n),M:se(s[3],n),w:se(s[4],n),d:se(s[5],n),h:se(s[6],n),m:se(s[7],n),s:se(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=ue(jt(o.from),jt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Yt(o),Ut(t)&&a(t,"_locale")&&(i._locale=t._locale),i}function se(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ae(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ue(t,e){var n;return t.isValid()&&e.isValid()?(e=Bt(e,t),t.isBefore(e)?n=ae(t,e):(n=ae(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function le(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function ce(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=oe(n,i),de(this,r,t),this}}function de(t,e,i,r){var o=e._milliseconds,s=le(e._days),a=le(e._months);t.isValid()&&(r=null==r?!0:r,o&&t._d.setTime(t._d.valueOf()+o*i),s&&Y(t,"Date",W(t,"Date")+s*i),a&&ut(t,W(t,"Month")+a*i),r&&n.updateOffset(t,s||a))}function he(t,e){var n=t||jt(),i=Bt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",s=e&&(T(e[o])?e[o]():e[o]);return this.format(s||this.localeData().calendar(o,this,jt(n)))}function pe(){return new y(this)}function fe(t,e){var n=g(t)?t:jt(t);return this.isValid()&&n.isValid()?(e=j(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function me(t,e){var n=g(t)?t:jt(t);return this.isValid()&&n.isValid()?(e=j(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function ye(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function ge(t,e){var n,i=g(t)?t:jt(t);return this.isValid()&&i.isValid()?(e=j(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function ve(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function _e(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function we(t,e,n){var i,r,o,s;return this.isValid()?(i=Bt(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=j(e),"year"===e||"month"===e||"quarter"===e?(s=be(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:v(s)):NaN):NaN}function be(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function xe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Se(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():X(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Te(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=X(this,t);return this.localeData().postformat(e)}function Ce(t,e){return this.isValid()&&(g(t)&&t.isValid()||jt(t).isValid())?oe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function De(t){return this.from(jt(),t)}function ke(t,e){return this.isValid()&&(g(t)&&t.isValid()||jt(t).isValid())?oe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Pe(t){return this.to(jt(),t)}function Oe(t){var e;return void 0===t?this._locale._abbr:(e=I(t),null!=e&&(this._locale=e),this)}function Me(){return this._locale}function Ee(t){switch(t=j(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Re(t){return t=j(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Le(){return this._d.valueOf()-6e4*(this._offset||0)}function Ae(){return Math.floor(this.valueOf()/1e3)}function Ie(){return this._offset?new Date(this.valueOf()):this._d}function Fe(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function $e(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function je(){return this.isValid()?this.toISOString():null}function He(){return h(this)}function Ne(){return u({},d(this))}function We(){return d(this).overflow}function Ye(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ue(t,e){z(0,[t,t.length],0,e)}function qe(t){return Xe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ze(t){return Xe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Be(){return Ct(this.year(),1,4)}function Ve(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function Xe(t,e,n,i,r){var o;return null==t?Tt(this,i,r).year:(o=Ct(t,i,r),e>o&&(e=o),Ge.call(this,t,e,n,i,r))}function Ge(t,e,n,i,r){var o=St(t,e,n,i,r),s=vt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Qe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ze(t){return Tt(t,this._week.dow,this._week.doy).week}function Je(){return this._week.dow}function Ke(){return this._week.doy}function tn(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function en(t){var e=Tt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function nn(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function rn(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function on(t){return this._weekdaysShort[t.day()]}function sn(t){return this._weekdaysMin[t.day()]}function an(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=l([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=mi.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===e?(r=mi.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=mi.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===e?(r=mi.call(this._weekdaysParse,s),-1!==r?r:(r=mi.call(this._shortWeekdaysParse,s),-1!==r?r:(r=mi.call(this._minWeekdaysParse,s),-1!==r?r:null))):"ddd"===e?(r=mi.call(this._shortWeekdaysParse,s),-1!==r?r:(r=mi.call(this._weekdaysParse,s),-1!==r?r:(r=mi.call(this._minWeekdaysParse,s),-1!==r?r:null))):(r=mi.call(this._minWeekdaysParse,s),-1!==r?r:(r=mi.call(this._weekdaysParse,s),-1!==r?r:(r=mi.call(this._shortWeekdaysParse,s),-1!==r?r:null)))}function un(t,e,n){var i,r,o;if(this._weekdaysParseExact)return an.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=l([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function ln(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=nn(t,this.localeData()),this.add(t-e,"d")):e}function cn(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function dn(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function hn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||mn.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function pn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||mn.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function fn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||mn.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function mn(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],u=[],c=[];for(e=0;7>e;e++)n=l([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),u.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(t),a.sort(t),u.sort(t),c.sort(t),e=0;7>e;e++)a[e]=K(a[e]),u[e]=K(u[e]),c[e]=K(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function yn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gn(){return this.hours()%12||12}function vn(){return this.hours()||24}function _n(t,e){z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function wn(t,e){return e._meridiemParse}function bn(t){return"p"===(t+"").toLowerCase().charAt(0)}function xn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Sn(t,e){e[Vi]=_(1e3*("0."+t))}function Tn(){return this._isUTC?"UTC":""}function Cn(){return this._isUTC?"Coordinated Universal Time":""}function Dn(t){return jt(1e3*t)}function kn(){return jt.apply(null,arguments).parseZone()}function Pn(t,e,n){var i=this._calendar[t];return T(i)?i.call(e,n):i}function On(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Mn(){return this._invalidDate}function En(t){return this._ordinal.replace("%d",t)}function Rn(t){return t}function Ln(t,e,n,i){var r=this._relativeTime[n];return T(r)?r(t,e,n,i):r.replace(/%d/i,t)}function An(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)}function In(t,e,n,i){var r=I(),o=l().set(i,e);return r[n](o,t)}function Fn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return In(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=In(t,i,n,"month");return r}function $n(t,e,n,i){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var r=I(),o=t?r._week.dow:0;if(null!=n)return In(e,(n+o)%7,i,"day");var s,a=[];for(s=0;7>s;s++)a[s]=In(e,(s+o)%7,i,"day");return a}function jn(t,e){return Fn(t,e,"months")}function Hn(t,e){return Fn(t,e,"monthsShort")}function Nn(t,e,n){return $n(t,e,n,"weekdays")}function Wn(t,e,n){return $n(t,e,n,"weekdaysShort")}function Yn(t,e,n){return $n(t,e,n,"weekdaysMin")}function Un(){var t=this._data;return this._milliseconds=Nr(this._milliseconds),this._days=Nr(this._days),this._months=Nr(this._months),t.milliseconds=Nr(t.milliseconds),t.seconds=Nr(t.seconds),t.minutes=Nr(t.minutes),t.hours=Nr(t.hours),t.months=Nr(t.months),t.years=Nr(t.years),this}function qn(t,e,n,i){var r=oe(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function zn(t,e){return qn(this,t,e,1)}function Bn(t,e){return qn(this,t,e,-1)}function Vn(t){return 0>t?Math.floor(t):Math.ceil(t)}function Xn(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*Vn(Qn(a)+s),s=0,a=0),u.milliseconds=o%1e3,t=v(o/1e3),u.seconds=t%60,e=v(t/60),u.minutes=e%60,n=v(e/60),u.hours=n%24,s+=v(n/24),r=v(Gn(s)),a+=r,s-=Vn(Qn(r)),i=v(a/12),a%=12,u.days=s,u.months=a,u.years=i,this}function Gn(t){return 4800*t/146097}function Qn(t){return 146097*t/4800}function Zn(t){var e,n,i=this._milliseconds;if(t=j(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Gn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Qn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Jn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function Kn(t){return function(){return this.as(t)}}function ti(t){return t=j(t),this[t+"s"]()}function ei(t){return function(){return this._data[t]}}function ni(){return v(this.days()/7)}function ii(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ri(t,e,n){var i=oe(t).abs(),r=no(i.as("s")),o=no(i.as("m")),s=no(i.as("h")),a=no(i.as("d")),u=no(i.as("M")),l=no(i.as("y")),c=r<io.s&&["s",r]||1>=o&&["m"]||o<io.m&&["mm",o]||1>=s&&["h"]||s<io.h&&["hh",s]||1>=a&&["d"]||a<io.d&&["dd",a]||1>=u&&["M"]||u<io.M&&["MM",u]||1>=l&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,ii.apply(null,c)}function oi(t,e){return void 0===io[t]?!1:void 0===e?io[t]:(io[t]=e,!0)}function si(t){var e=this.localeData(),n=ri(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function ai(){var t,e,n,i=ro(this._milliseconds)/1e3,r=ro(this._days),o=ro(this._months);t=v(i/60),e=v(t/60),i%=60,t%=60,n=v(o/12),o%=12;var s=n,a=o,u=r,l=e,c=t,d=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var ui,li;li=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;n>i;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var ci=n.momentProperties=[],di=!1,hi={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var pi;pi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var fi,mi,yi={},gi={},vi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_i=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,wi={},bi={},xi=/\d/,Si=/\d\d/,Ti=/\d{3}/,Ci=/\d{4}/,Di=/[+-]?\d{6}/,ki=/\d\d?/,Pi=/\d\d\d\d?/,Oi=/\d\d\d\d\d\d?/,Mi=/\d{1,3}/,Ei=/\d{1,4}/,Ri=/[+-]?\d{1,6}/,Li=/\d+/,Ai=/[+-]?\d+/,Ii=/Z|[+-]\d\d:?\d\d/gi,Fi=/Z|[+-]\d\d(?::?\d\d)?/gi,$i=/[+-]?\d+(\.\d{1,3})?/,ji=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Hi={},Ni={},Wi=0,Yi=1,Ui=2,qi=3,zi=4,Bi=5,Vi=6,Xi=7,Gi=8;mi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),$("month","M"),Q("M",ki),Q("MM",ki,Si),Q("MMM",function(t,e){return e.monthsShortRegex(t)}),Q("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Yi]=_(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Yi]=r:d(n).invalidMonth=t});var Qi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Zi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ji="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ki=ji,tr=ji,er=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,nr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ir=/Z|[+-]\d\d(?::?\d\d)?/,rr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],or=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],sr=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),z("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),$("year","y"),Q("Y",Ai),Q("YY",ki,Si),Q("YYYY",Ei,Ci),Q("YYYYY",Ri,Di),Q("YYYYYY",Ri,Di),tt(["YYYYY","YYYYYY"],Wi),tt("YYYY",function(t,e){e[Wi]=2===t.length?n.parseTwoDigitYear(t):_(t)}),tt("YY",function(t,e){e[Wi]=n.parseTwoDigitYear(t)}),tt("Y",function(t,e){e[Wi]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var ar=N("FullYear",!0);n.ISO_8601=function(){};var ur=x("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=jt.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:p()}),lr=x("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=jt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),cr=function(){return Date.now?Date.now():+new Date};qt("Z",":"),qt("ZZ",""),Q("Z",Fi),Q("ZZ",Fi),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=zt(Fi,t)});var dr=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var hr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,pr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;oe.fn=Yt.prototype;var fr=ce(1,"add"),mr=ce(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yr=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ue("gggg","weekYear"),Ue("ggggg","weekYear"),Ue("GGGG","isoWeekYear"),Ue("GGGGG","isoWeekYear"),$("weekYear","gg"),$("isoWeekYear","GG"),Q("G",Ai),Q("g",Ai),Q("GG",ki,Si),Q("gg",ki,Si),Q("GGGG",Ei,Ci),Q("gggg",Ei,Ci),Q("GGGGG",Ri,Di),Q("ggggg",Ri,Di),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=_(t)}),et(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),z("Q",0,"Qo","quarter"),$("quarter","Q"),Q("Q",xi),tt("Q",function(t,e){e[Yi]=3*(_(t)-1)}),z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),$("week","w"),$("isoWeek","W"),Q("w",ki),Q("ww",ki,Si),Q("W",ki),Q("WW",ki,Si),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=_(t)});var gr={dow:0,doy:6};z("D",["DD",2],"Do","date"),$("date","D"),Q("D",ki),Q("DD",ki,Si),Q("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Ui),tt("Do",function(t,e){e[Ui]=_(t.match(ki)[0],10)});var vr=N("Date",!0);z("d",0,"do","day"),z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),$("day","d"),$("weekday","e"),$("isoWeekday","E"),Q("d",ki),Q("e",ki),Q("E",ki),Q("dd",function(t,e){return e.weekdaysMinRegex(t)}),Q("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Q("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:d(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=_(t)});var _r="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),br="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xr=ji,Sr=ji,Tr=ji;z("DDD",["DDDD",3],"DDDo","dayOfYear"),$("dayOfYear","DDD"),Q("DDD",Mi),Q("DDDD",Ti),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),z("H",["HH",2],0,"hour"),z("h",["hh",2],0,gn),z("k",["kk",2],0,vn),z("hmm",0,0,function(){return""+gn.apply(this)+q(this.minutes(),2)}),z("hmmss",0,0,function(){return""+gn.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),_n("a",!0),_n("A",!1),$("hour","h"),Q("a",wn),Q("A",wn),Q("H",ki),Q("h",ki),Q("HH",ki,Si),Q("hh",ki,Si),Q("hmm",Pi),Q("hmmss",Oi),Q("Hmm",Pi),Q("Hmmss",Oi),tt(["H","HH"],qi),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[qi]=_(t),d(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[qi]=_(t.substr(0,i)),e[zi]=_(t.substr(i)),d(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[qi]=_(t.substr(0,i)),e[zi]=_(t.substr(i,2)),e[Bi]=_(t.substr(r)),d(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[qi]=_(t.substr(0,i)),e[zi]=_(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[qi]=_(t.substr(0,i)),e[zi]=_(t.substr(i,2)),e[Bi]=_(t.substr(r))});var Cr=/[ap]\.?m?\.?/i,Dr=N("Hours",!0);z("m",["mm",2],0,"minute"),$("minute","m"),Q("m",ki),Q("mm",ki,Si),tt(["m","mm"],zi);var kr=N("Minutes",!1);z("s",["ss",2],0,"second"),$("second","s"),Q("s",ki),Q("ss",ki,Si),tt(["s","ss"],Bi);var Pr=N("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),$("millisecond","ms"),Q("S",Mi,xi),Q("SS",Mi,Si),Q("SSS",Mi,Ti);var Or;for(Or="SSSS";Or.length<=9;Or+="S")Q(Or,Li);for(Or="S";Or.length<=9;Or+="S")tt(Or,Sn);var Mr=N("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var Er=y.prototype;Er.add=fr,Er.calendar=he,Er.clone=pe,Er.diff=we,Er.endOf=Re,Er.format=Te,Er.from=Ce,Er.fromNow=De,Er.to=ke,Er.toNow=Pe,Er.get=U,Er.invalidAt=We,Er.isAfter=fe,Er.isBefore=me,Er.isBetween=ye,Er.isSame=ge,Er.isSameOrAfter=ve,Er.isSameOrBefore=_e,Er.isValid=He,Er.lang=yr,Er.locale=Oe,Er.localeData=Me,Er.max=lr,Er.min=ur,Er.parsingFlags=Ne,Er.set=U,Er.startOf=Ee,Er.subtract=mr,Er.toArray=Fe,Er.toObject=$e,Er.toDate=Ie,Er.toISOString=Se,Er.toJSON=je,Er.toString=xe,Er.unix=Ae,Er.valueOf=Le,Er.creationData=Ye,Er.year=ar,Er.isLeapYear=bt,Er.weekYear=qe,Er.isoWeekYear=ze,Er.quarter=Er.quarters=Qe,Er.month=lt,Er.daysInMonth=ct,Er.week=Er.weeks=tn,Er.isoWeek=Er.isoWeeks=en,Er.weeksInYear=Ve,Er.isoWeeksInYear=Be,Er.date=vr,Er.day=Er.days=ln,Er.weekday=cn,Er.isoWeekday=dn,Er.dayOfYear=yn,Er.hour=Er.hours=Dr,Er.minute=Er.minutes=kr,Er.second=Er.seconds=Pr,Er.millisecond=Er.milliseconds=Mr,Er.utcOffset=Xt,Er.utc=Qt,Er.local=Zt,Er.parseZone=Jt,Er.hasAlignedHourOffset=Kt,Er.isDST=te,Er.isDSTShifted=ee,Er.isLocal=ne,Er.isUtcOffset=ie,Er.isUtc=re,Er.isUTC=re,Er.zoneAbbr=Tn,Er.zoneName=Cn,Er.dates=x("dates accessor is deprecated. Use date instead.",vr),Er.months=x("months accessor is deprecated. Use month instead",lt),Er.years=x("years accessor is deprecated. Use year instead",ar),Er.zone=x("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Gt);var Rr=Er,Lr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ar={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ir="Invalid date",Fr="%d",$r=/\d{1,2}/,jr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Hr=P.prototype;Hr._calendar=Lr,Hr.calendar=Pn,Hr._longDateFormat=Ar,Hr.longDateFormat=On,Hr._invalidDate=Ir,Hr.invalidDate=Mn,Hr._ordinal=Fr,Hr.ordinal=En,Hr._ordinalParse=$r,Hr.preparse=Rn,Hr.postformat=Rn,Hr._relativeTime=jr,Hr.relativeTime=Ln,Hr.pastFuture=An,Hr.set=D,Hr.months=rt,Hr._months=Zi,Hr.monthsShort=ot,Hr._monthsShort=Ji,Hr.monthsParse=at,Hr._monthsRegex=tr,Hr.monthsRegex=ht,Hr._monthsShortRegex=Ki,Hr.monthsShortRegex=dt,Hr.week=Ze,Hr._week=gr,Hr.firstDayOfYear=Ke,Hr.firstDayOfWeek=Je,Hr.weekdays=rn,Hr._weekdays=_r,Hr.weekdaysMin=sn,Hr._weekdaysMin=br,Hr.weekdaysShort=on,Hr._weekdaysShort=wr,Hr.weekdaysParse=un,Hr._weekdaysRegex=xr,Hr.weekdaysRegex=hn,Hr._weekdaysShortRegex=Sr,Hr.weekdaysShortRegex=pn,Hr._weekdaysMinRegex=Tr,Hr.weekdaysMinRegex=fn,Hr.isPM=bn,Hr._meridiemParse=Cr,Hr.meridiem=xn,R("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",R),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",I);var Nr=Math.abs,Wr=Kn("ms"),Yr=Kn("s"),Ur=Kn("m"),qr=Kn("h"),zr=Kn("d"),Br=Kn("w"),Vr=Kn("M"),Xr=Kn("y"),Gr=ei("milliseconds"),Qr=ei("seconds"),Zr=ei("minutes"),Jr=ei("hours"),Kr=ei("days"),to=ei("months"),eo=ei("years"),no=Math.round,io={s:45,m:45,h:22,d:26,M:11},ro=Math.abs,oo=Yt.prototype;oo.abs=Un,oo.add=zn,oo.subtract=Bn,oo.as=Zn,oo.asMilliseconds=Wr,oo.asSeconds=Yr,oo.asMinutes=Ur,oo.asHours=qr,oo.asDays=zr,oo.asWeeks=Br,oo.asMonths=Vr,oo.asYears=Xr,oo.valueOf=Jn,oo._bubble=Xn,oo.get=ti,oo.milliseconds=Gr,oo.seconds=Qr,oo.minutes=Zr,oo.hours=Jr,oo.days=Kr,oo.weeks=ni,oo.months=to,oo.years=eo,oo.humanize=si,oo.toISOString=ai,oo.toString=ai,oo.toJSON=ai,oo.locale=Oe,oo.localeData=Me,oo.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ai),oo.lang=yr,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Q("x",Ai),Q("X",$i),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(_(t))}),n.version="2.13.0",i(jt),n.fn=Rr,n.min=Nt,n.max=Wt,n.now=cr,n.utc=l,n.unix=Dn,n.months=jn,n.isDate=o,n.locale=R,n.invalid=p,n.duration=oe,n.isMoment=g,n.weekdays=Nn,n.parseZone=kn,n.localeData=I,n.isDuration=Ut,n.monthsShort=Hn,n.weekdaysMin=Yn,n.defineLocale=L,n.updateLocale=A,n.locales=F,n.weekdaysShort=Wn,n.normalizeUnits=j,n.relativeTimeThreshold=oi,n.prototype=Rr;var so=n;return so})},{}],34:[function(t,e,n){"use strict";e.exports=t("./lib/index")},{"./lib/index":38}],35:[function(t,e,n){"use strict";function i(){h=!1}function r(t){if(!t)return void(c!==f&&(c=f,i()));if(t!==c){if(t.length!==f.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. These characters were not unique: "+e.join(", "));c=t,i()}}function o(t){return r(t),c}function s(t){p.seed(t),d!==t&&(i(),d=t)}function a(){c||r(f);for(var t,e=c.split(""),n=[],i=p.nextValue();e.length>0;)i=p.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function u(){return h?h:h=a()}function l(t){var e=u();return e[t]}var c,d,h,p=t("./random/random-from-seed"),f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:o,seed:s,lookup:l,shuffled:u}},{"./random/random-from-seed":41}],36:[function(t,e,n){"use strict";function i(t){var e=r.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var r=t("./alphabet");e.exports=i},{"./alphabet":35}],37:[function(t,e,n){"use strict";function i(t,e){for(var n,i=0,o="";!n;)o+=t(e>>4*i&15|r()),n=e<Math.pow(16,i+1),i++;return o}var r=t("./random/random-byte");e.exports=i},{"./random/random-byte":40}],38:[function(t,e,n){"use strict";function i(){var t="",e=Math.floor(.001*(Date.now()-p));return e===u?a++:(a=0,u=e),t+=c(l.lookup,f),t+=c(l.lookup,m),a>0&&(t+=c(l.lookup,a)),t+=c(l.lookup,e)}function r(t){return l.seed(t),e.exports}function o(t){return m=t,e.exports}function s(t){return void 0!==t&&l.characters(t),l.shuffled()}var a,u,l=t("./alphabet"),c=t("./encode"),d=t("./decode"),h=t("./is-valid"),p=1459707606518,f=6,m=t("./util/cluster-worker-id")||0;e.exports=i,e.exports.generate=i,e.exports.seed=r,e.exports.worker=o,e.exports.characters=s,e.exports.decode=d,e.exports.isValid=h},{"./alphabet":35,"./decode":36,"./encode":37,"./is-valid":39,"./util/cluster-worker-id":42}],39:[function(t,e,n){"use strict";function i(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=r.characters(),n=t.length,i=0;n>i;i++)if(-1===e.indexOf(t[i]))return!1;return!0}var r=t("./alphabet");e.exports=i},{"./alphabet":35}],40:[function(t,e,n){"use strict";function i(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return r.getRandomValues(t),48&t[0]}var r="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=i},{}],41:[function(t,e,n){"use strict";function i(){return o=(9301*o+49297)%233280,o/233280}function r(t){o=t}var o=1;e.exports={nextValue:i,seed:r}},{}],42:[function(t,e,n){"use strict";e.exports=0},{}],43:[function(t,e,n){!function(t,n){function i(e,i){function r(t){return lt.preferFlash&&it&&!lt.ignoreFlash&&lt.flash[t]!==n&&lt.flash[t]}function o(t){return function(e){var n=this._s;return n&&n._a?t.call(this,e):null;
}}this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var s,a,u,l,c,d,h,p,f,m,y,g,v,_,w,b,x,S,T,C,D,k,P,O,M,E,R,L,A,I,F,$,j,H,N,W,Y,U,q,z,B,V,X,G,Q,Z,J,K,tt,et,nt,it,rt,ot,st,at,ut,lt=this,ct=null,dt=null,ht=navigator.userAgent,pt=t.location.href.toString(),ft=document,mt=[],yt=!1,gt=!1,vt=!1,_t=!1,wt=!1,bt=null,xt=null,St=!1,Tt=!1,Ct=0,Dt=null,kt=[],Pt=null,Ot=Array.prototype.slice,Mt=!1,Et=0,Rt=ht.match(/(ipad|iphone|ipod)/i),Lt=ht.match(/android/i),At=ht.match(/msie/i),It=ht.match(/webkit/i),Ft=ht.match(/safari/i)&&!ht.match(/chrome/i),$t=ht.match(/opera/i),jt=ht.match(/(mobile|pre\/|xoom)/i)||Rt||Lt,Ht=!pt.match(/usehtml5audio/i)&&!pt.match(/sm2\-ignorebadua/i)&&Ft&&!ht.match(/silk/i)&&ht.match(/OS X 10_6_([3-7])/i),Nt=ft.hasFocus!==n?ft.hasFocus():null,Wt=Ft&&(ft.hasFocus===n||!ft.hasFocus()),Yt=!Wt,Ut=/(mp3|mp4|mpa|m4a|m4b)/i,qt=ft.location?ft.location.protocol.match(/http/i):null,zt=qt?"":"http://",Bt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Vt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),Xt=new RegExp("\\.("+Vt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!qt;var Gt;try{Gt=Audio!==n&&($t&&opera!==n&&10>opera.version()?new Audio(null):new Audio).canPlayType!==n}catch(Qt){Gt=!1}this.hasHTML5=Gt,this.setup=function(t){var e=!lt.url;return t!==n&&vt&&Pt&&lt.ok(),f(t),Mt||(jt?lt.setupOptions.ignoreMobileRestrictions&&!lt.setupOptions.forceUseGlobalHTML5Audio||(kt.push(T.globalHTML5),Mt=!0):lt.setupOptions.forceUseGlobalHTML5Audio&&(kt.push(T.globalHTML5),Mt=!0)),!ut&&jt&&(lt.setupOptions.ignoreMobileRestrictions?kt.push(T.ignoreMobile):(lt.setupOptions.useHTML5Audio=!0,lt.setupOptions.preferFlash=!1,Rt?lt.ignoreFlash=!0:(Lt&&!ht.match(/android\s2\.3/i)||!Lt)&&(Mt=!0))),t&&(e&&P&&t.url!==n&&lt.beginDelayedInit(),P||t.url===n||"complete"!==ft.readyState||setTimeout(D,1)),ut=!0,lt},this.supported=this.ok=function(){return Pt?vt&&!_t:lt.useHTML5Audio&&lt.hasHTML5},this.getMovie=function(e){return a(e)||ft[e]||t[e]},this.createSound=function(t,e){function i(){return r=N(r),lt.sounds[r.id]=new s(r),lt.soundIDs.push(r.id),lt.sounds[r.id]}var r,o=null;if(!vt||!lt.ok())return!1;if(e!==n&&(t={id:t,url:e}),r=p(t),r.url=B(r.url),r.id===n&&(r.id=lt.setupOptions.idPrefix+Et++),Y(r.id,!0))return lt.sounds[r.id];if(G(r))o=i(),o._setup_html5(r);else{if(lt.html5Only||lt.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return i();d>8&&null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||r.type&&r.type.match(Bt)||r.url&&r.url.match(Xt))),r=W(r,void 0),o=i(),8===d?dt._createSound(r.id,r.loops||1,r.usePolicyFile):(dt._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,r.isMovieStar?r.bufferTime:!1,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(o.connected=!0,r.onconnect&&r.onconnect.apply(o))),r.serverURL||!r.autoLoad&&!r.autoPlay||o.load(r)}return!r.serverURL&&r.autoPlay&&o.play(),o},this.destroySound=function(t,e){if(!Y(t))return!1;var n,i=lt.sounds[t];for(i.stop(),i._iO={},i.unload(),n=0;n<lt.soundIDs.length;n++)if(lt.soundIDs[n]===t){lt.soundIDs.splice(n,1);break}return e||i.destruct(!0),delete lt.sounds[t],!0},this.load=function(t,e){return Y(t)?lt.sounds[t].load(e):!1},this.unload=function(t){return Y(t)?lt.sounds[t].unload():!1},this.onposition=this.onPosition=function(t,e,n,i){return Y(t)?lt.sounds[t].onposition(e,n,i):!1},this.clearOnPosition=function(t,e,n){return Y(t)?lt.sounds[t].clearOnPosition(e,n):!1},this.start=this.play=function(t,e){var n=null,i=e&&!(e instanceof Object);if(!vt||!lt.ok())return!1;if(Y(t,i))i&&(e={url:e});else{if(!i)return!1;i&&(e={url:e}),e&&e.url&&(e.id=t,n=lt.createSound(e).play())}return null===n&&(n=lt.sounds[t].play(e)),n},this.setPosition=function(t,e){return Y(t)?lt.sounds[t].setPosition(e):!1},this.stop=function(t){return Y(t)?lt.sounds[t].stop():!1},this.stopAll=function(){for(var t in lt.sounds)lt.sounds.hasOwnProperty(t)&&lt.sounds[t].stop()},this.pause=function(t){return Y(t)?lt.sounds[t].pause():!1},this.pauseAll=function(){var t;for(t=lt.soundIDs.length-1;t>=0;t--)lt.sounds[lt.soundIDs[t]].pause()},this.resume=function(t){return Y(t)?lt.sounds[t].resume():!1},this.resumeAll=function(){var t;for(t=lt.soundIDs.length-1;t>=0;t--)lt.sounds[lt.soundIDs[t]].resume()},this.togglePause=function(t){return Y(t)?lt.sounds[t].togglePause():!1},this.setPan=function(t,e){return Y(t)?lt.sounds[t].setPan(e):!1},this.setVolume=function(t,e){var i,r;if(t===n||isNaN(t)||e!==n)return Y(t)?lt.sounds[t].setVolume(e):!1;for(i=0,r=lt.soundIDs.length;r>i;i++)lt.sounds[lt.soundIDs[i]].setVolume(t)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return Y(t)?lt.sounds[t].mute():!1;for(e=lt.soundIDs.length-1;e>=0;e--)lt.sounds[lt.soundIDs[e]].mute();return lt.muted=!0},this.muteAll=function(){lt.mute()},this.unmute=function(t){if(t instanceof String&&(t=null),t)return Y(t)?lt.sounds[t].unmute():!1;for(t=lt.soundIDs.length-1;t>=0;t--)lt.sounds[lt.soundIDs[t]].unmute();return lt.muted=!1,!0},this.unmuteAll=function(){lt.unmute()},this.toggleMute=function(t){return Y(t)?lt.sounds[t].toggleMute():!1},this.getMemoryUse=function(){var t=0;return dt&&8!==d&&(t=parseInt(dt._getMemoryUse(),10)),t},this.disable=function(e){var i;if(e===n&&(e=!1),_t)return!1;for(_t=!0,i=lt.soundIDs.length-1;i>=0;i--)A(lt.sounds[lt.soundIDs[i]]);return h(e),et.remove(t,"load",v),!0},this.canPlayMIME=function(t){var e;return lt.hasHTML5&&(e=Q({type:t})),!e&&Pt&&(e=t&&lt.ok()?!!(d>8&&t.match(Bt)||t.match(lt.mimePattern)):null),e},this.canPlayURL=function(t){var e;return lt.hasHTML5&&(e=Q({url:t})),!e&&Pt&&(e=t&&lt.ok()?!!t.match(lt.filePattern):null),e},this.canPlayLink=function(t){return t.type!==n&&t.type&&lt.canPlayMIME(t.type)?!0:lt.canPlayURL(t.href)},this.getSoundById=function(t,e){return t?lt.sounds[t]:null},this.onready=function(e,n){if("function"!=typeof e)throw $("needFunction","onready");return n||(n=t),y("onready",e,n),g(),!0},this.ontimeout=function(e,n){if("function"!=typeof e)throw $("needFunction","ontimeout");return n||(n=t),y("ontimeout",e,n),g({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(t,e){return!0},this._debug=function(){},this.reboot=function(e,n){var i,r,o;for(i=lt.soundIDs.length-1;i>=0;i--)lt.sounds[lt.soundIDs[i]].destruct();if(dt)try{At&&(xt=dt.innerHTML),bt=dt.parentNode.removeChild(dt)}catch(s){}if(xt=bt=Pt=dt=null,lt.enabled=P=vt=St=Tt=yt=gt=_t=Mt=lt.swfLoaded=!1,lt.soundIDs=[],lt.sounds={},Et=0,ut=!1,e)mt=[];else for(i in mt)if(mt.hasOwnProperty(i))for(r=0,o=mt[i].length;o>r;r++)mt[i][r].fired=!1;return lt.html5={usingFlash:null},lt.flash={},lt.html5Only=!1,lt.ignoreFlash=!1,t.setTimeout(function(){n||lt.beginDelayedInit()},20),lt},this.reset=function(){return lt.reboot(!0,!0)},this.getMoviePercent=function(){return dt&&"PercentLoaded"in dt?dt.PercentLoaded():null},this.beginDelayedInit=function(){wt=!0,D(),setTimeout(function(){return Tt?!1:(M(),C(),Tt=!0)},20),_()},this.destruct=function(){lt.disable(!0)},s=function(t){var e,i,r,o,s,a,u,l,c,h,f,m=this,y=!1,g=[],v=0,_=null;i=e=null,this.sID=this.id=t.id,this.url=t.url,this._iO=this.instanceOptions=this.options=p(t),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,f=!this.url,this.id3={},this._debug=function(){},this.load=function(t){var e,i=null;if(t!==n?m._iO=p(t,m.options):(t=m.options,m._iO=t,_&&_!==m.url&&(m._iO.url=m.url,m.url=null)),m._iO.url||(m._iO.url=m.url),m._iO.url=B(m._iO.url),e=m.instanceOptions=m._iO,!e.url&&!m.url)return m;if(e.url===m.url&&0!==m.readyState&&2!==m.readyState)return 3===m.readyState&&e.onload&&at(m,function(){e.onload.apply(m,[!!m.duration])}),m;if(m.loaded=!1,m.readyState=1,m.playState=0,m.id3={},G(e))i=m._setup_html5(e),i._called_load||(m._html5_canplay=!1,m.url!==e.url&&(m._a.src=e.url,m.setPosition(0)),m._a.autobuffer="auto",m._a.preload="auto",m._a._called_load=!0);else{if(lt.html5Only||m._iO.url&&m._iO.url.match(/data\:/i))return m;try{m.isHTML5=!1,m._iO=W(N(e)),m._iO.autoPlay&&(m._iO.position||m._iO.from)&&(m._iO.autoPlay=!1),e=m._iO,8===d?dt._load(m.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):dt._load(m.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(r){E({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return m.url=e.url,m},this.unload=function(){return 0!==m.readyState&&(m.isHTML5?(a(),m._a&&(m._a.pause(),_=J(m._a))):8===d?dt._unload(m.id,"about:blank"):dt._unload(m.id),r()),m},this.destruct=function(t){m.isHTML5?(a(),m._a&&(m._a.pause(),J(m._a),Mt||s(),m._a._s=null,m._a=null)):(m._iO.onfailure=null,dt._destroySound(m.id)),t||lt.destroySound(m.id,!0)},this.start=this.play=function(t,e){var i,r,o,s,a;if(r=!0,r=null,e=e===n?!0:e,t||(t={}),m.url&&(m._iO.url=m.url),m._iO=p(m._iO,m.options),m._iO=p(t,m._iO),m._iO.url=B(m._iO.url),m.instanceOptions=m._iO,!m.isHTML5&&m._iO.serverURL&&!m.connected)return m.getAutoPlay()||m.setAutoPlay(!0),m;if(G(m._iO)&&(m._setup_html5(m._iO),u()),1!==m.playState||m.paused||(i=m._iO.multiShot,i||(m.isHTML5&&m.setPosition(m._iO.position),r=m)),null!==r)return r;if(t.url&&t.url!==m.url&&(m.readyState||m.isHTML5||8!==d||!f?m.load(m._iO):f=!1),m.loaded||(0===m.readyState?(m.isHTML5||lt.html5Only?m.isHTML5?m.load(m._iO):r=m:(m._iO.autoPlay=!0,m.load(m._iO)),m.instanceOptions=m._iO):2===m.readyState&&(r=m)),null!==r)return r;if(!m.isHTML5&&9===d&&0<m.position&&m.position===m.duration&&(t.position=0),m.paused&&0<=m.position&&(!m._iO.serverURL||0<m.position))m.resume();else{if(m._iO=p(t,m._iO),(!m.isHTML5&&null!==m._iO.position&&0<m._iO.position||null!==m._iO.from&&0<m._iO.from||null!==m._iO.to)&&0===m.instanceCount&&0===m.playState&&!m._iO.serverURL){if(i=function(){m._iO=p(t,m._iO),m.play(m._iO)},m.isHTML5&&!m._html5_canplay?(m.load({_oncanplay:i}),r=!1):m.isHTML5||m.loaded||m.readyState&&2===m.readyState||(m.load({onload:i}),r=!1),null!==r)return r;m._iO=h()}(!m.instanceCount||m._iO.multiShotEvents||m.isHTML5&&m._iO.multiShot&&!Mt||!m.isHTML5&&d>8&&!m.getAutoPlay())&&m.instanceCount++,m._iO.onposition&&0===m.playState&&l(m),m.playState=1,m.paused=!1,m.position=m._iO.position===n||isNaN(m._iO.position)?0:m._iO.position,m.isHTML5||(m._iO=W(N(m._iO))),m._iO.onplay&&e&&(m._iO.onplay.apply(m),y=!0),m.setVolume(m._iO.volume,!0),m.setPan(m._iO.pan,!0),m.isHTML5?2>m.instanceCount?(u(),r=m._setup_html5(),m.setPosition(m._iO.position),r.play()):(o=new Audio(m._iO.url),s=function(){et.remove(o,"ended",s),m._onfinish(m),J(o),o=null},a=function(){et.remove(o,"canplay",a);try{o.currentTime=m._iO.position/1e3}catch(t){}o.play()},et.add(o,"ended",s),m._iO.volume!==n&&(o.volume=Math.max(0,Math.min(1,m._iO.volume/100))),m.muted&&(o.muted=!0),m._iO.position?et.add(o,"canplay",a):o.play()):(r=dt._start(m.id,m._iO.loops||1,9===d?m.position:m.position/1e3,m._iO.multiShot||!1),9!==d||r||m._iO.onplayerror&&m._iO.onplayerror.apply(m))}return m},this.stop=function(t){var e=m._iO;return 1===m.playState&&(m._onbufferchange(0),m._resetOnPosition(0),m.paused=!1,m.isHTML5||(m.playState=0),c(),e.to&&m.clearOnPosition(e.to),m.isHTML5?m._a&&(t=m.position,m.setPosition(0),m.position=t,m._a.pause(),m.playState=0,m._onTimer(),a()):(dt._stop(m.id,t),e.serverURL&&m.unload()),m.instanceCount=0,m._iO={},e.onstop&&e.onstop.apply(m)),m},this.setAutoPlay=function(t){m._iO.autoPlay=t,m.isHTML5||(dt._setAutoPlay(m.id,t),t&&(m.instanceCount||1!==m.readyState||m.instanceCount++))},this.getAutoPlay=function(){return m._iO.autoPlay},this.setPosition=function(t){t===n&&(t=0);var e=m.isHTML5?Math.max(t,0):Math.min(m.duration||m._iO.duration,Math.max(t,0));if(m.position=e,t=m.position/1e3,m._resetOnPosition(m.position),m._iO.position=e,m.isHTML5){if(m._a){if(m._html5_canplay){if(m._a.currentTime!==t)try{m._a.currentTime=t,(0===m.playState||m.paused)&&m._a.pause()}catch(i){}}else if(t)return m;m.paused&&m._onTimer(!0)}}else t=9===d?m.position:t,m.readyState&&2!==m.readyState&&dt._setPosition(m.id,t,m.paused||!m.playState,m._iO.multiShot);return m},this.pause=function(t){return m.paused||0===m.playState&&1!==m.readyState?m:(m.paused=!0,m.isHTML5?(m._setup_html5().pause(),a()):(t||t===n)&&dt._pause(m.id,m._iO.multiShot),m._iO.onpause&&m._iO.onpause.apply(m),m)},this.resume=function(){var t=m._iO;return m.paused?(m.paused=!1,m.playState=1,m.isHTML5?(m._setup_html5().play(),u()):(t.isMovieStar&&!t.serverURL&&m.setPosition(m.position),dt._pause(m.id,t.multiShot)),!y&&t.onplay?(t.onplay.apply(m),y=!0):t.onresume&&t.onresume.apply(m),m):m},this.togglePause=function(){return 0===m.playState?(m.play({position:9!==d||m.isHTML5?m.position/1e3:m.position}),m):(m.paused?m.resume():m.pause(),m)},this.setPan=function(t,e){return t===n&&(t=0),e===n&&(e=!1),m.isHTML5||dt._setPan(m.id,t),m._iO.pan=t,e||(m.pan=t,m.options.pan=t),m},this.setVolume=function(t,e){return t===n&&(t=100),e===n&&(e=!1),m.isHTML5?m._a&&(lt.muted&&!m.muted&&(m.muted=!0,m._a.muted=!0),m._a.volume=Math.max(0,Math.min(1,t/100))):dt._setVolume(m.id,lt.muted&&!m.muted||m.muted?0:t),m._iO.volume=t,e||(m.volume=t,m.options.volume=t),m},this.mute=function(){return m.muted=!0,m.isHTML5?m._a&&(m._a.muted=!0):dt._setVolume(m.id,0),m},this.unmute=function(){m.muted=!1;var t=m._iO.volume!==n;return m.isHTML5?m._a&&(m._a.muted=!1):dt._setVolume(m.id,t?m._iO.volume:m.options.volume),m},this.toggleMute=function(){return m.muted?m.unmute():m.mute()},this.onposition=this.onPosition=function(t,e,i){return g.push({position:parseInt(t,10),method:e,scope:i!==n?i:m,fired:!1}),m},this.clearOnPosition=function(t,e){var n;if(t=parseInt(t,10),isNaN(t))return!1;for(n=0;n<g.length;n++)t!==g[n].position||e&&e!==g[n].method||(g[n].fired&&v--,g.splice(n,1))},this._processOnPosition=function(){var t,e;if(t=g.length,!t||!m.playState||v>=t)return!1;for(--t;t>=0;t--)e=g[t],!e.fired&&m.position>=e.position&&(e.fired=!0,v++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(t){var e,n;if(e=g.length,!e)return!1;for(--e;e>=0;e--)n=g[e],n.fired&&t<=n.position&&(n.fired=!1,v--);return!0},h=function(){var t,e,n=m._iO,i=n.from,r=n.to;return e=function(){m.clearOnPosition(r,e),m.stop()},t=function(){null===r||isNaN(r)||m.onPosition(r,e)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,t()),n},l=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.onPosition(parseInt(t,10),e[t])},c=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.clearOnPosition(parseInt(t,10))},u=function(){m.isHTML5&&U(m)},a=function(){m.isHTML5&&q(m)},r=function(t){t||(g=[],v=0),y=!1,m._hasTimer=null,m._a=null,m._html5_canplay=!1,m.bytesLoaded=null,m.bytesTotal=null,m.duration=m._iO&&m._iO.duration?m._iO.duration:null,m.durationEstimate=null,m.buffered=[],m.eqData=[],m.eqData.left=[],m.eqData.right=[],m.failures=0,m.isBuffering=!1,m.instanceOptions={},m.instanceCount=0,m.loaded=!1,m.metadata={},m.readyState=0,m.muted=!1,m.paused=!1,m.peakData={left:0,right:0},m.waveformData={left:[],right:[]},m.playState=0,m.position=null,m.id3={}},r(),this._onTimer=function(t){var n,r=!1,o={};return m._hasTimer||t?(m._a&&(t||(0<m.playState||1===m.readyState)&&!m.paused)&&(n=m._get_html5_duration(),n!==e&&(e=n,m.duration=n,r=!0),m.durationEstimate=m.duration,n=1e3*m._a.currentTime||0,n!==i&&(i=n,r=!0),(r||t)&&m._whileplaying(n,o,o,o,o)),r):void 0},this._get_html5_duration=function(){var t=m._iO;return(t=m._a&&m._a.duration?1e3*m._a.duration:t&&t.duration?t.duration:null)&&!isNaN(t)&&1/0!==t?t:null},this._apply_loop=function(t,e){t.loop=e>1?"loop":""},this._setup_html5=function(t){t=p(m._iO,t);var e,n=Mt?ct:m._a,i=decodeURI(t.url);if(Mt?i===decodeURI(nt)&&(e=!0):i===decodeURI(_)&&(e=!0),n){if(n._s)if(Mt)n._s&&n._s.playState&&!e&&n._s.stop();else if(!Mt&&i===decodeURI(_))return m._apply_loop(n,t.loops),n;e||(_&&r(!1),n.src=t.url,nt=_=m.url=t.url,n._called_load=!1)}else t.autoLoad||t.autoPlay?(m._a=new Audio(t.url),m._a.load()):m._a=$t&&10>opera.version()?new Audio(null):new Audio,n=m._a,n._called_load=!1,Mt&&(ct=n);return m.isHTML5=!0,m._a=n,n._s=m,o(),m._apply_loop(n,t.loops),t.autoLoad||t.autoPlay?m.load():(n.autobuffer=!1,n.preload="auto"),n},o=function(){if(m._a._added_events)return!1;var t;m._a._added_events=!0;for(t in st)st.hasOwnProperty(t)&&m._a&&m._a.addEventListener(t,st[t],!1);return!0},s=function(){var t;m._a._added_events=!1;for(t in st)st.hasOwnProperty(t)&&m._a&&m._a.removeEventListener(t,st[t],!1)},this._onload=function(t){var e=!!t||!m.isHTML5&&8===d&&m.duration;return m.loaded=e,m.readyState=e?3:2,m._onbufferchange(0),m._iO.onload&&at(m,function(){m._iO.onload.apply(m,[e])}),!0},this._onbufferchange=function(t){return 0===m.playState||t&&m.isBuffering||!t&&!m.isBuffering?!1:(m.isBuffering=1===t,m._iO.onbufferchange&&m._iO.onbufferchange.apply(m,[t]),!0)},this._onsuspend=function(){return m._iO.onsuspend&&m._iO.onsuspend.apply(m),!0},this._onfailure=function(t,e,n){m.failures++,m._iO.onfailure&&1===m.failures&&m._iO.onfailure(t,e,n)},this._onwarning=function(t,e,n){m._iO.onwarning&&m._iO.onwarning(t,e,n)},this._onfinish=function(){var t=m._iO.onfinish;m._onbufferchange(0),m._resetOnPosition(0),m.instanceCount&&(m.instanceCount--,m.instanceCount||(c(),m.playState=0,m.paused=!1,m.instanceCount=0,m.instanceOptions={},m._iO={},a(),m.isHTML5&&(m.position=0)),(!m.instanceCount||m._iO.multiShotEvents)&&t&&at(m,function(){t.apply(m)}))},this._whileloading=function(t,e,n,i){var r=m._iO;m.bytesLoaded=t,m.bytesTotal=e,m.duration=Math.floor(n),m.bufferLength=i,m.durationEstimate=m.isHTML5||r.isMovieStar?m.duration:r.duration?m.duration>r.duration?m.duration:r.duration:parseInt(m.bytesTotal/m.bytesLoaded*m.duration,10),m.isHTML5||(m.buffered=[{start:0,end:m.duration}]),(3!==m.readyState||m.isHTML5)&&r.whileloading&&r.whileloading.apply(m)},this._whileplaying=function(t,e,i,r,o){var s=m._iO;return isNaN(t)||null===t?!1:(m.position=Math.max(0,t),m._processOnPosition(),!m.isHTML5&&d>8&&(s.usePeakData&&e!==n&&e&&(m.peakData={left:e.leftPeak,right:e.rightPeak}),s.useWaveformData&&i!==n&&i&&(m.waveformData={left:i.split(","),right:r.split(",")}),s.useEQData&&o!==n&&o&&o.leftEQ&&(t=o.leftEQ.split(","),m.eqData=t,m.eqData.left=t,o.rightEQ!==n&&o.rightEQ&&(m.eqData.right=o.rightEQ.split(",")))),1===m.playState&&(m.isHTML5||8!==d||m.position||!m.isBuffering||m._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(m)),!0)},this._oncaptiondata=function(t){m.captiondata=t,m._iO.oncaptiondata&&m._iO.oncaptiondata.apply(m,[t])},this._onmetadata=function(t,e){var n,i,r={};for(n=0,i=t.length;i>n;n++)r[t[n]]=e[n];m.metadata=r,m._iO.onmetadata&&m._iO.onmetadata.call(m,m.metadata)},this._onid3=function(t,e){var n,i,r=[];for(n=0,i=t.length;i>n;n++)r[t[n]]=e[n];m.id3=p(m.id3,r),m._iO.onid3&&m._iO.onid3.apply(m)},this._onconnect=function(t){t=1===t,(m.connected=t)&&(m.failures=0,Y(m.id)&&(m.getAutoPlay()?m.play(n,m.getAutoPlay()):m._iO.autoLoad&&m.load()),m._iO.onconnect&&m._iO.onconnect.apply(m,[t]))},this._ondataerror=function(t){0<m.playState&&m._iO.ondataerror&&m._iO.ondataerror.apply(m)}},O=function(){return ft.body||ft.getElementsByTagName("div")[0]},a=function(t){return ft.getElementById(t)},p=function(t,e){var i,r,o=t||{};i=e===n?lt.defaultOptions:e;for(r in i)i.hasOwnProperty(r)&&o[r]===n&&(o[r]="object"!=typeof i[r]||null===i[r]?i[r]:p(o[r],i[r]));return o},at=function(e,n){e.isHTML5||8!==d?n():t.setTimeout(n,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},f=function(t,e){var i,r=!0,o=e!==n,s=lt.setupOptions;for(i in t)if(t.hasOwnProperty(i))if("object"!=typeof t[i]||null===t[i]||t[i]instanceof Array||t[i]instanceof RegExp)o&&m[e]!==n?lt[e][i]=t[i]:s[i]!==n?(lt.setupOptions[i]=t[i],lt[i]=t[i]):m[i]===n?r=!1:lt[i]instanceof Function?lt[i].apply(lt,t[i]instanceof Array?t[i]:[t[i]]):lt[i]=t[i];else{if(m[i]!==n)return f(t[i],i);r=!1}return r},et=function(){function e(t){t=Ot.call(t);var e=t.length;return i?(t[1]="on"+t[1],e>3&&t.pop()):3===e&&t.push(!1),t}function n(t,e){var n=t.shift(),o=[r[e]];i?n[o](t[0],t[1]):n[o].apply(n,t)}var i=t.attachEvent,r={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"};return{add:function(){n(e(arguments),"add")},remove:function(){n(e(arguments),"remove")}}}(),st={abort:o(function(){}),canplay:o(function(){var t,e=this._s;if(e._html5_canplay)return!0;if(e._html5_canplay=!0,e._onbufferchange(0),t=e._iO.position===n||isNaN(e._iO.position)?null:e._iO.position/1e3,this.currentTime!==t)try{this.currentTime=t}catch(i){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:o(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:o(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(e.durationEstimate=e.duration=t)}),ended:o(function(){this._s._onfinish()}),error:o(function(){this._s._onload(!1)}),loadeddata:o(function(){var t=this._s;t._loaded||Ft||(t.duration=t._get_html5_duration())}),loadedmetadata:o(function(){}),loadstart:o(function(){this._s._onbufferchange(1)}),play:o(function(){this._s._onbufferchange(0)}),playing:o(function(){this._s._onbufferchange(0)}),progress:o(function(t){var e,n,i=this._s,r=0,r=t.target.buffered;e=t.loaded||0;var o=t.total||1;if(i.buffered=[],r&&r.length){for(e=0,n=r.length;n>e;e++)i.buffered.push({start:1e3*r.start(e),end:1e3*r.end(e)});r=1e3*(r.end(0)-r.start(0)),e=Math.min(1,r/(1e3*t.target.duration))}isNaN(e)||(i._whileloading(e,o,i._get_html5_duration()),e&&o&&e===o&&st.canplaythrough.call(this,t))}),ratechange:o(function(){}),suspend:o(function(t){var e=this._s;st.progress.call(this,t),e._onsuspend()}),stalled:o(function(){}),timeupdate:o(function(){this._s._onTimer()}),waiting:o(function(){this._s._onbufferchange(1)})},G=function(t){return t&&(t.type||t.url||t.serverURL)?t.serverURL||t.type&&r(t.type)?!1:t.type?Q({type:t.type}):Q({url:t.url})||lt.html5Only||t.url.match(/data\:/i):!1},J=function(t){var e;return t&&(e=Ft?"about:blank":lt.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",t.src=e,t._called_unload!==n&&(t._called_load=!1)),Mt&&(nt=null),e},Q=function(t){if(!lt.useHTML5Audio||!lt.hasHTML5)return!1;var e=t.url||null;t=t.type||null;var i,o=lt.audioFormats;if(t&&lt.html5[t]!==n)return lt.html5[t]&&!r(t);if(!Z){Z=[];for(i in o)o.hasOwnProperty(i)&&(Z.push(i),o[i].related&&(Z=Z.concat(o[i].related)));Z=new RegExp("\\.("+Z.join("|")+")(\\?.*)?$","i")}return(i=e?e.toLowerCase().match(Z):null)&&i.length?i=i[1]:t&&(e=t.indexOf(";"),i=(-1!==e?t.substr(0,e):t).substr(6)),i&&lt.html5[i]!==n?e=lt.html5[i]&&!r(i):(t="audio/"+i,e=lt.html5.canPlayType({type:t}),e=(lt.html5[i]=e)&&lt.html5[t]&&!r(t)),e},tt=function(){function t(t){var e,n=e=!1;if(!s||"function"!=typeof s.canPlayType)return e;if(t instanceof Array){for(o=0,e=t.length;e>o;o++)(lt.html5[t[o]]||s.canPlayType(t[o]).match(lt.html5Test))&&(n=!0,lt.html5[t[o]]=!0,lt.flash[t[o]]=!!t[o].match(Ut));e=n}else t=s&&"function"==typeof s.canPlayType?s.canPlayType(t):!1,e=!(!t||!t.match(lt.html5Test));return e}if(!lt.useHTML5Audio||!lt.hasHTML5)return Pt=lt.html5.usingFlash=!0,!1;var e,i,r,o,s=Audio!==n?$t&&10>opera.version()?new Audio(null):new Audio:null,a={};r=lt.audioFormats;for(e in r)if(r.hasOwnProperty(e)&&(i="audio/"+e,a[e]=t(r[e].type),a[i]=a[e],e.match(Ut)?(lt.flash[e]=!0,lt.flash[i]=!0):(lt.flash[e]=!1,lt.flash[i]=!1),r[e]&&r[e].related))for(o=r[e].related.length-1;o>=0;o--)a["audio/"+r[e].related[o]]=a[e],lt.html5[r[e].related[o]]=a[e],lt.flash[r[e].related[o]]=a[e];return a.canPlayType=s?t:null,lt.html5=p(lt.html5,a),lt.html5.usingFlash=X(),Pt=lt.html5.usingFlash,!0},T={},$=function(){},N=function(t){return 8===d&&1<t.loops&&t.stream&&(t.stream=!1),t},W=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},u=function(){return!1},A=function(t){for(var e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=u)},I=function(t){t===n&&(t=!1),(_t||t)&&lt.disable(t)},F=function(t){var e=null;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(e=t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return t=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+lt.movieURL,lt.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},x=function(){d=parseInt(lt.flashVersion,10),8!==d&&9!==d&&(lt.flashVersion=d=8);var t=lt.debugMode||lt.debugFlash?"_debug.swf":".swf";lt.useHTML5Audio&&!lt.html5Only&&lt.audioFormats.mp4.required&&9>d&&(lt.flashVersion=d=9),lt.version=lt.versionNumber+(lt.html5Only?" (HTML5-only mode)":9===d?" (AS3/Flash 9)":" (AS2/Flash 8)"),d>8?(lt.defaultOptions=p(lt.defaultOptions,lt.flash9Options),lt.features.buffering=!0,lt.defaultOptions=p(lt.defaultOptions,lt.movieStarOptions),lt.filePatterns.flash9=new RegExp("\\.(mp3|"+Vt.join("|")+")(\\?.*)?$","i"),lt.features.movieStar=!0):lt.features.movieStar=!1,lt.filePattern=lt.filePatterns[8!==d?"flash9":"flash8"],lt.movieURL=(8===d?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),lt.features.peakData=lt.features.waveformData=lt.features.eqData=d>8},R=function(t,e){return dt?void dt._setPolling(t,e):!1},L=function(){},Y=this.getSoundById,H=function(){var t=[];return lt.debugMode&&t.push("sm2_debug"),lt.debugFlash&&t.push("flash_debug"),lt.useHighPerformance&&t.push("high_performance"),t.join(" ")},j=function(){$("fbHandler");var t=lt.getMoviePercent(),e={type:"FLASHBLOCK"};return lt.html5Only?!1:void(lt.ok()?lt.oMC&&(lt.oMC.className=[H(),"movieContainer","swf_loaded"+(lt.didFlashBlock?" swf_unblocked":"")].join(" ")):(Pt&&(lt.oMC.className=H()+" movieContainer "+(null===t?"swf_timedout":"swf_error")),lt.didFlashBlock=!0,g({type:"ontimeout",ignoreInit:!0,error:e}),E(e)))},y=function(t,e,i){mt[t]===n&&(mt[t]=[]),mt[t].push({method:e,scope:i||null,fired:!1})},g=function(t){if(t||(t={type:lt.ok()?"onready":"ontimeout"}),!vt&&t&&!t.ignoreInit||"ontimeout"===t.type&&(lt.ok()||_t&&!t.ignoreInit))return!1;var e,n={success:t&&t.ignoreInit?lt.ok():!_t},i=t&&t.type?mt[t.type]||[]:[],r=[],n=[n],o=Pt&&!lt.ok();for(t.error&&(n[0].error=t.error),t=0,e=i.length;e>t;t++)!0!==i[t].fired&&r.push(i[t]);if(r.length)for(t=0,e=r.length;e>t;t++)r[t].scope?r[t].method.apply(r[t].scope,n):r[t].method.apply(this,n),o||(r[t].fired=!0);return!0},v=function(){t.setTimeout(function(){lt.useFlashBlock&&j(),g(),"function"==typeof lt.onload&&lt.onload.apply(t),lt.waitForWindowLoad&&et.add(t,"load",v)},1)},rt=function(){if(it!==n)return it;var e,i=!1,r=navigator,o=r.plugins,s=t.ActiveXObject;if(o&&o.length)(r=r.mimeTypes)&&r["application/x-shockwave-flash"]&&r["application/x-shockwave-flash"].enabledPlugin&&r["application/x-shockwave-flash"].enabledPlugin.description&&(i=!0);else if(s!==n&&!ht.match(/MSAppHost/i)){try{e=new s("ShockwaveFlash.ShockwaveFlash")}catch(a){e=null}i=!!e}return it=i},X=function(){var t,e,n=lt.audioFormats;if(Rt&&ht.match(/os (1|2|3_0|3_1)\s/i)?(lt.hasHTML5=!1,lt.html5Only=!0,lt.oMC&&(lt.oMC.style.display="none")):!lt.useHTML5Audio||lt.html5&&lt.html5.canPlayType||(lt.hasHTML5=!1),lt.useHTML5Audio&&lt.hasHTML5)for(e in V=!0,n)n.hasOwnProperty(e)&&n[e].required&&(lt.html5.canPlayType(n[e].type)?lt.preferFlash&&(lt.flash[e]||lt.flash[n[e].type])&&(t=!0):(V=!1,t=!0));return lt.ignoreFlash&&(t=!1,V=!0),lt.html5Only=lt.hasHTML5&&lt.useHTML5Audio&&!t,!lt.html5Only},B=function(t){var e,n,i=0;if(t instanceof Array){for(e=0,n=t.length;n>e;e++)if(t[e]instanceof Object){if(lt.canPlayMIME(t[e].type)){i=e;break}}else if(lt.canPlayURL(t[e])){i=e;break}t[i].url&&(t[i]=t[i].url),t=t[i]}return t},U=function(t){t._hasTimer||(t._hasTimer=!0,!jt&&lt.html5PollingInterval&&(null===Dt&&0===Ct&&(Dt=setInterval(z,lt.html5PollingInterval)),Ct++))},q=function(t){t._hasTimer&&(t._hasTimer=!1,!jt&&lt.html5PollingInterval&&Ct--)},z=function(){var t;if(null!==Dt&&!Ct)return clearInterval(Dt),Dt=null,!1;for(t=lt.soundIDs.length-1;t>=0;t--)lt.sounds[lt.soundIDs[t]].isHTML5&&lt.sounds[lt.soundIDs[t]]._hasTimer&&lt.sounds[lt.soundIDs[t]]._onTimer()},E=function(e){e=e!==n?e:{},"function"==typeof lt.onerror&&lt.onerror.apply(t,[{type:e.type!==n?e.type:null}]),e.fatal!==n&&e.fatal&&lt.disable()},ot=function(){if(!Ht||!rt())return!1;var t,e,n=lt.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(lt.html5[e]=!1,n[e]&&n[e].related))for(t=n[e].related.length-1;t>=0;t--)lt.html5[n[e].related[t]]=!1},this._setSandboxType=function(t){},this._externalInterfaceOK=function(t){return lt.swfLoaded?!1:(lt.swfLoaded=!0,Wt=!1,Ht&&ot(),void setTimeout(c,At?100:1))},M=function(t,e){function i(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(yt&&gt)return!1;if(lt.html5Only)return x(),lt.oMC=a(lt.movieID),c(),gt=yt=!0,!1;var r,o,s,u=e||lt.url,l=lt.altURL||u,d=O(),h=H(),p=null,p=ft.getElementsByTagName("html")[0],p=p&&p.dir&&p.dir.match(/rtl/i);if(t=t===n?lt.id:t,x(),lt.url=F(qt?u:l),e=lt.url,lt.wmode=!lt.wmode&&lt.useHighPerformance?"transparent":lt.wmode,null!==lt.wmode&&(ht.match(/msie 8/i)||!At&&!lt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(kt.push(T.spcWmode),lt.wmode=null),d={name:t,id:t,src:e,quality:"high",allowScriptAccess:lt.allowScriptAccess,bgcolor:lt.bgColor,pluginspage:zt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:lt.wmode,hasPriority:"true"},lt.debugFlash&&(d.FlashVars="debug=1"),lt.wmode||delete d.wmode,At)u=ft.createElement("div"),o=['<object id="'+t+'" data="'+e+'" type="'+d.type+'" title="'+d.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",e),i("AllowScriptAccess",lt.allowScriptAccess),i("quality",d.quality),lt.wmode?i("wmode",lt.wmode):"",i("bgcolor",lt.bgColor),i("hasPriority","true"),lt.debugFlash?i("FlashVars",d.FlashVars):"","</object>"].join("");else for(r in u=ft.createElement("embed"),
d)d.hasOwnProperty(r)&&u.setAttribute(r,d[r]);if(L(),h=H(),d=O())if(lt.oMC=a(lt.movieID)||ft.createElement("div"),lt.oMC.id)s=lt.oMC.className,lt.oMC.className=(s?s+" ":"movieContainer")+(h?" "+h:""),lt.oMC.appendChild(u),At&&(r=lt.oMC.appendChild(ft.createElement("div")),r.className="sm2-object-box",r.innerHTML=o),gt=!0;else{if(lt.oMC.id=lt.movieID,lt.oMC.className="movieContainer "+h,r=h=null,lt.useFlashBlock||(lt.useHighPerformance?h={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(h={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},p&&(h.left=Math.abs(parseInt(h.left,10))+"px"))),It&&(lt.oMC.style.zIndex=1e4),!lt.debugFlash)for(s in h)h.hasOwnProperty(s)&&(lt.oMC.style[s]=h[s]);try{At||lt.oMC.appendChild(u),d.appendChild(lt.oMC),At&&(r=lt.oMC.appendChild(ft.createElement("div")),r.className="sm2-object-box",r.innerHTML=o),gt=!0}catch(f){throw Error($("domError")+" \n"+f.toString())}}return yt=!0},C=function(){return lt.html5Only?(M(),!1):dt||!lt.url?!1:(dt=lt.getMovie(lt.id),dt||(bt?(At?lt.oMC.innerHTML=xt:lt.oMC.appendChild(bt),bt=null,yt=!0):M(lt.id,lt.url),dt=lt.getMovie(lt.id)),"function"==typeof lt.oninitmovie&&setTimeout(lt.oninitmovie,1),!0)},_=function(){setTimeout(w,1e3)},b=function(){t.setTimeout(function(){lt.setup({preferFlash:!1}).reboot(),lt.didFlashBlock=!0,lt.beginDelayedInit()},1)},w=function(){var e,n=!1;return!lt.url||St?!1:(St=!0,et.remove(t,"load",_),it&&Wt&&!Nt?!1:(vt||(e=lt.getMoviePercent(),e>0&&100>e&&(n=!0)),void setTimeout(function(){return e=lt.getMoviePercent(),n?(St=!1,t.setTimeout(_,1),!1):void(!vt&&Yt&&(null===e?lt.useFlashBlock||0===lt.flashLoadTimeout?lt.useFlashBlock&&j():!lt.useFlashBlock&&V?b():g({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==lt.flashLoadTimeout&&(!lt.useFlashBlock&&V?b():I(!0))))},lt.flashLoadTimeout)))},S=function(){return Nt||!Wt?(et.remove(t,"focus",S),!0):(Nt=Yt=!0,St=!1,_(),et.remove(t,"focus",S),!0)},h=function(e){if(vt)return!1;if(lt.html5Only)return vt=!0,v(),!0;var n,i=!0;return lt.useFlashBlock&&lt.flashLoadTimeout&&!lt.getMoviePercent()||(vt=!0),n={type:!it&&Pt?"NO_FLASH":"INIT_TIMEOUT"},(_t||e)&&(lt.useFlashBlock&&lt.oMC&&(lt.oMC.className=H()+" "+(null===lt.getMoviePercent()?"swf_timedout":"swf_error")),g({type:"ontimeout",error:n,ignoreInit:!0}),E(n),i=!1),_t||(lt.waitForWindowLoad&&!wt?et.add(t,"load",v):v()),i},l=function(){var t,e=lt.setupOptions;for(t in e)e.hasOwnProperty(t)&&(lt[t]===n?lt[t]=e[t]:lt[t]!==e[t]&&(lt.setupOptions[t]=lt[t]))},c=function(){if(vt)return!1;if(lt.html5Only)return vt||(et.remove(t,"load",lt.beginDelayedInit),lt.enabled=!0,h()),!0;C();try{dt._externalInterfaceTest(!1),R(!0,lt.flashPollingInterval||(lt.useHighPerformance?10:50)),lt.debugMode||dt._disableDebug(),lt.enabled=!0,lt.html5Only||et.add(t,"unload",u)}catch(e){return E({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),I(!0),h(),!1}return h(),et.remove(t,"load",lt.beginDelayedInit),!0},D=function(){return P?!1:(P=!0,l(),L(),!it&&lt.hasHTML5&&lt.setup({useHTML5Audio:!0,preferFlash:!1}),tt(),!it&&Pt&&(kt.push(T.needFlash),lt.setup({flashLoadTimeout:1})),ft.removeEventListener&&ft.removeEventListener("DOMContentLoaded",D,!1),C(),!0)},K=function(){return"complete"===ft.readyState&&(D(),ft.detachEvent("onreadystatechange",K)),!0},k=function(){wt=!0,D(),et.remove(t,"load",k)},rt(),et.add(t,"focus",S),et.add(t,"load",_),et.add(t,"load",k),ft.addEventListener?ft.addEventListener("DOMContentLoaded",D,!1):ft.attachEvent?ft.attachEvent("onreadystatechange",K):E({type:"NO_DOM2_EVENTS",fatal:!0})}if(!t||!t.document)throw Error("SoundManager requires a browser with window and document objects.");var r=null;t.SM2_DEFER!==n&&SM2_DEFER||(r=new i),"object"==typeof e&&e&&"object"==typeof e.exports?(e.exports.SoundManager=i,e.exports.soundManager=r):"function"==typeof define&&define.amd&&define(function(){return{constructor:i,getInstance:function(e){return!t.soundManager&&e instanceof Function&&(e=e(i),e instanceof i&&(t.soundManager=e)),t.soundManager}}}),t.SoundManager=i,t.soundManager=r}(window)},{}]},{},[2]);