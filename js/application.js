!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i;i=function(){function e(){}return e.opts={confirm:!1,doConfirm:null,type:"warning",fadeIn:.5,fadeOut:.5,delay:4,container:"#flash_message"},e.flash=function(n,i){var r,o,s,a,l,u;switch(null==i&&(i={}),s=$.extend({},e.prototype.constructor.opts,i),n="object"==typeof n?JSON.stringify(n):n,l=s.container.slice(1),o=$(s.container),0===(null!=o?o.length:void 0)&&(o=$("<div>",{id:l}).appendTo($("body"))),r=o.empty().prepend(t("./alert.jade")({msg:n,confirm:s.confirm})).find(".alert"),s.type){case"warning":a="bounceInDown";break;case"info":a="pulse";break;case"danger":a="jello";break;case"success":a="fadeInDown",s.delay=3}return r.addClass("alert-"+s.type).anim(a).delay(1e3*s.delay),u=function(t){return null==t&&(t=!1),t&&r.stop(!0),r.fadeOut(1e3*s.fadeOut,function(){return $(this).remove(),s=null})},r.find(".close").click(function(){return u(!0)}),s.confirm&&s.doConfirm?r.find(".confirm").click(function(t){return t.preventDefault(),s.doConfirm(),u(!0)}):u()},e.danger=function(t,e){return this.flash(t,$.extend({},this.opts,e,{type:"danger"}))},e.success=function(t,e){return this.flash(t,$.extend({},this.opts,e,{type:"success"}))},e.warning=function(t,e){return this.flash(t,$.extend({},this.opts,e,{type:"warning"}))},e.info=function(t,e){return this.flash(t,$.extend({},this.opts,e,{type:"info"}))},e}(),e.exports=i},{"./alert.jade":2}],2:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r){n.push('<div class="alert text-center flash-msg alert-dismissible"><button type="button" class="close"><i>&times;</i></button><strong>'+(null==(e=r)?"":e)+"</strong>"),t&&n.push('<a href="#" class="confirm">'+i.escape(null==(e=t)?"":e)+"</a>"),n.push("</div>")}.call(this,"confirm"in r?r.confirm:"undefined"!=typeof confirm?confirm:void 0,"msg"in r?r.msg:"undefined"!=typeof msg?msg:void 0),n.join("")}},{"jade/runtime":136}],3:[function(t,e,n){var i;i={getCanvas:function(t,e){var n;return n=document.createElement("canvas"),n.width=t,n.height=e,n},getPixels:function(t){var e,n,i,r,o;return(n=t.getContext("2d"))?(o=t.width,i=t.height):(r=t[0],o=t.width(),i=t.height(),e=this.getCanvas(o,i),n=e.getContext("2d"),n.drawImage(r,0,0,o,i)),n.getImageData(0,0,o,i)},filterImage:function(t,e,n){var i,r;for(i=[this.getPixels(e)],r=2;r<arguments.length;)i.push(arguments[r]),r++;return t.apply(null,i)},sharpen:function(t){return i.convolute(t,[0,-1,0,-1,5,-1,0,-1,0])},grayscale:function(t){var e,n,r,o,s,a;for(t=i.convolute(t,[0,-1,0,-1,5,-1,0,-1,0]),n=t.data,o=0;o<n.length;)s=n[o],r=n[o+1],e=n[o+2],a=.2126*s+.7152*r+.0722*e,n[o]=n[o+1]=n[o+2]=a,o+=4;return t},convolute:function(t,e,n){var i,r,o,s,a,l,u,c,d,p,h,f,v,y,g,m,b,_,w,x,k,C,O,S,T,E;for(m=Math.round(Math.sqrt(e.length)),p=Math.floor(m/2),b=t.data,w=t.width,g=t.height,O=w,d=g,C=document.createElement("canvas").getContext("2d"),h=C.createImageData(O,d),l=h.data,r=n?1:0,E=0;d>E;){for(T=0;O>T;){for(k=E,x=T,u=4*(E*O+T),f=0,c=0,o=0,i=0,a=0;m>a;){for(s=0;m>s;)y=k+a-p,v=x+s-p,y>=0&&g>y&&v>=0&&w>v&&(_=4*(y*w+v),S=e[a*m+s],f+=b[_]*S,c+=b[_+1]*S,o+=b[_+2]*S,i+=b[_+3]*S),s++;a++}l[u]=f,l[u+1]=c,l[u+2]=o,l[u+3]=i+r*(255-i),T++}E++}return h}},e.exports=i},{}],4:[function(t,e,n){var i,r;r=t("./ogg_recorder.js"),i=function(){function t(t){var e,n,i,o,s,a;null==t&&(t={}),this.rec=new r({encoderPath:CDN_PF+"/js/encoderWorker.min.js"}),this.rec.addEventListener("start",null!=(e=t.start)?e.bind(this):void 0),this.rec.addEventListener("streamError",null!=(n=t.error)?n.bind(this):void 0),this.rec.addEventListener("dataAvailable",function(e){var n,i;return n=new Blob([e.detail],{type:"audio/ogg"}),i=URL.createObjectURL(n),t.done?t.done(i,n):void 0}),this.rec.addEventListener("pause",null!=(i=t.pause)?i.bind(this):void 0),this.rec.addEventListener("resume",null!=(o=t.resume)?o.bind(this):void 0),this.rec.addEventListener("stop",null!=(s=t.stop)?s.bind(this):void 0),this.rec.addEventListener("streamReady",null!=(a=t.ready)?a.bind(this):void 0)}return t}(),e.exports=i},{"./ogg_recorder.js":5}],5:[function(t,e,n){(function(){"use strict";window.AudioContext=window.AudioContext||window.webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var t=function(e){var n=this;if(!t.isRecordingSupported())throw"Recording is not supported in this browser";this.config=e=e||{},this.config.command="init",this.config.bufferLength=e.bufferLength||4096,this.config.monitorGain=e.monitorGain||0,this.config.numberOfChannels=e.numberOfChannels||1,this.config.originalSampleRate=this.audioContext.sampleRate,this.config.encoderSampleRate=e.encoderSampleRate||48e3,this.config.encoderPath=e.encoderPath||"encoderWorker.min.js",this.config.streamPages=e.streamPages||!1,this.config.leaveStreamOpen=e.leaveStreamOpen||!1,this.config.maxBuffersPerPage=e.maxBuffersPerPage||40,this.config.encoderApplication=e.encoderApplication||2049,this.config.encoderFrameSize=e.encoderFrameSize||20,this.config.resampleQuality=e.resampleQuality||3,this.config.streamOptions=e.streamOptions||{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}},this.state="inactive",this.eventTarget=document.createDocumentFragment(),this.monitorNode=this.audioContext.createGain(),this.setMonitorGain(this.config.monitorGain),this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.scriptProcessorNode.onaudioprocess=function(t){n.encodeBuffers(t.inputBuffer)}};t.isRecordingSupported=function(){return window.AudioContext&&navigator.getUserMedia},t.prototype.addEventListener=function(t,e,n){this.eventTarget.addEventListener(t,e,n)},t.prototype.audioContext=new window.AudioContext,t.prototype.clearStream=function(){this.stream&&(this.stream.getTracks?this.stream.getTracks().forEach(function(t){t.stop()}):this.stream.stop(),delete this.stream)},t.prototype.encodeBuffers=function(t){if("recording"===this.state){for(var e=[],n=0;n<t.numberOfChannels;n++)e[n]=t.getChannelData(n);this.encoder.postMessage({command:"encode",buffers:e})}},t.prototype.initStream=function(){if(this.stream)return void this.eventTarget.dispatchEvent(new Event("streamReady"));var t=this;navigator.getUserMedia({audio:this.config.streamOptions},function(e){t.stream=e,t.sourceNode=t.audioContext.createMediaStreamSource(e),t.sourceNode.connect(t.scriptProcessorNode),t.sourceNode.connect(t.monitorNode),t.eventTarget.dispatchEvent(new Event("streamReady"))},function(e){t.eventTarget.dispatchEvent(new ErrorEvent("streamError",{error:e}))})},t.prototype.pause=function(){"recording"===this.state&&(this.state="paused",this.eventTarget.dispatchEvent(new Event("pause")))},t.prototype.removeEventListener=function(t,e,n){this.eventTarget.removeEventListener(t,e,n)},t.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.eventTarget.dispatchEvent(new Event("resume")))},t.prototype.setMonitorGain=function(t){this.monitorNode.gain.value=t},t.prototype.start=function(){if("inactive"===this.state&&this.stream){var t=this;this.encoder=new Worker(this.config.encoderPath),this.config.streamPages?this.encoder.addEventListener("message",function(e){t.streamPage(e.data)}):(this.recordedPages=[],this.totalLength=0,this.encoder.addEventListener("message",function(e){t.storePage(e.data)})),this.encodeBuffers=function(){delete this.encodeBuffers},this.state="recording",this.monitorNode.connect(this.audioContext.destination),this.scriptProcessorNode.connect(this.audioContext.destination),this.eventTarget.dispatchEvent(new Event("start")),this.encoder.postMessage(this.config)}},t.prototype.stop=function(){"inactive"!==this.state&&(this.state="inactive",this.monitorNode.disconnect(),this.scriptProcessorNode.disconnect(),this.config.leaveStreamOpen||this.clearStream(),this.encoder.postMessage({command:"done"}))},t.prototype.storePage=function(t){if(this.recordedPages.push(t),this.totalLength+=t.length,4&t[5]){for(var e=new Uint8Array(this.totalLength),n=0,i=0;i<this.recordedPages.length;i++)e.set(this.recordedPages[i],n),n+=this.recordedPages[i].length;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:e})),this.recordedPages=[],this.eventTarget.dispatchEvent(new Event("stop"))}},t.prototype.streamPage=function(t){this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:t})),4&t[5]&&this.eventTarget.dispatchEvent(new Event("stop"))},"undefined"!=typeof e&&null!==e&&(e.exports=t)}).call(this)},{}],6:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<input accept="image/png,image/gif,image/jpeg,application/pdf" name="file" type="file" multiple="multiple" class="veg-uploader"/><div class="canvas-layer"></div>'),e.join("")}},{"jade/runtime":136}],7:[function(t,e,n){var i,r,o,s,a,l,u,c,d,p,h=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;o=t("./edit-layer/curve_edit_layer"),a=t("./edit-layer/erase_edit_layer"),c=t("./edit-layer/picture_edit_layer"),p=t("./edit-layer/text_edit_layer"),s=t("./static-layer/display_layer"),d=t("./static-layer/stage_layer"),l=t("./static-layer/fake_layer"),r=t("./canvas_controller"),u=t("./models/history"),i=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.render(),this.setupLayer()}return h(n,e),n.prototype.className="canvas-base",n.prototype.opts={viewSize:[900,506],require_text:!1,live:!1},n.prototype.elements={".canvas-layer":"$canvasLayer",".veg-uploader":"$uploader"},n.prototype.render=function(){return this.html(t("./canvas.jade")(this.data))},n.prototype.recordable=function(t,e){return this.currentTs>0?this.currentAc={data:t,ac:e,ts:this.currentTs}:this.trigger("LIVE_EVENT",e,t)},n.prototype.setupLayer=function(){return this.canvasCtrl=new r(this.$canvasLayer,this.data.viewSize),this.canvasCtrl.displayLayerInstance=new s(this.data.viewSize),this.canvasCtrl.displayLayerInstance.setup(this.$canvasLayer),this.canvasCtrl.fakeLayerInstance=new l(this.data.viewSize),this.canvasCtrl.fakeLayerInstance.setup(this.$canvasLayer),this.canvasCtrl.bgLayerInstance=new d(this.data.viewSize),this.canvasCtrl.bgLayerInstance.on("convert:end",this.handleConvertEnd).on("convert:start",this.handleConvertStart).on("convert:progress",this.handleConvertProgress),this.canvasCtrl.bgLayerInstance.setup(this.$canvasLayer),this.eraseLayer=new a(this.data.viewSize),this.eraseLayer.on("done",function(t){return function(e){var n,i;return i=t.canvasCtrl.displayLayerInstance.checkCollision(e.pos,e.flag),n=$.map(i,function(t){return t.id}),n.length?(t.canvasCtrl.removeObjs(n),t.recordable(n,"E"),u.create({c_at:(new Date).getTime(),objs:i}),u.count()>15?u.first().destroy():void 0):void 0}}(this)).on("moving",function(t){return function(e){var n;return n=t.canvasCtrl.displayLayerInstance.checkCollision(e.pos,e.flag),t.eraseLayer.handleMoving(n)}}(this)),this.canvasCtrl.registerLayer("E",this.eraseLayer,!0),this.curveLayer=new o(this.data.viewSize),this.curveLayer.on("editing",function(t){return function(e){return t.recordable(e,"CSync")}}(this)).on("edit_end",function(t){return function(e){return t.canvasCtrl.batchRender(e),t.recordable(e,"CEnd")}}(this)).on("cursor_move",function(t){return function(e){return t.recordable(e,"CM")}}(this)),this.canvasCtrl.registerLayer("C",this.curveLayer,!0),this.pictureLayer=new c(this.data.viewSize),this.pictureLayer.$uploader=this.$uploader,this.pictureLayer.on("active",function(t){return function(){return t.$pictureCtrlBtn.hasClass("active")?void 0:t.$pictureCtrlBtn.click()}}(this)).on("edit_start",this.canvasCtrl.handleLayerEditing).on("edit_end",function(t){return function(e){return t.canvasCtrl.batchRender(e),t.recordable(e,"PEnd")}}(this)).on("edit_obj",function(t){return function(e){return t.recordable(e,"PAct")}}(this)).on("PDF:upload",function(t){return function(e){return $loading.start({container:t.$canvasLayer}),$.getCachedScript("/js/pdf.js",function(){return PDFJS.workerSrc="/js/pdf.worker.js",PDFJS.cMapUrl="./cmaps/",PDFJS.cMapPacked=!0,$loading.stop(t.$canvasLayer),t.canvasCtrl.bgLayerInstance.convert(e)})}}(this)),this.canvasCtrl.registerLayer("P",this.pictureLayer,!0),this.data.require_text?(this.textLayer=new p(this.data.viewSize),this.textLayer.on("edit_start",this.canvasCtrl.handleLayerEditing).on("edit_end",function(t){return function(e){return t.canvasCtrl.batchRender(e),t.recordable(e,"TEnd")}}(this)).on("edit_obj",function(t){return function(e){return t.recordable(e,"TAct")}}(this)),this.data.live&&this.textLayer.on("editing",function(t){return function(e){return t.recordable(e,"TSync")}}(this)),this.canvasCtrl.registerLayer("T",this.textLayer,!0)):void 0},n.prototype.handleLineWidthChange=function(t){return this.curveLayer.changeLineWidth(t)},n.prototype.handleColorChange=function(t){return this.curveLayer.changeColor(t),this.textLayer.setColor(t),this.recordable(t,"CC")},n.prototype.handleUndoEarse=function(){var t,e,n,i,r;if(n=u.last()){for(r=n.objs,e=0,i=r.length;i>e;e++)t=r[e],this.canvasCtrl.batchRender(t);return this.recordable(n.objs,"UE"),n.destroy()}},n.prototype.getImageData=function(){return this.canvasCtrl.displayLayerInstance.toDataURL()},n.prototype.clearHistoryData=function(){return u.destroyAll()},n.prototype.handleConvertProgress=function(t){return console.log(t)},n.prototype.handleConvertStart=function(t){return console.log(t)},n.prototype.handleConvertEnd=function(){},n.prototype.release=function(){return this.canvasCtrl.release(),this.clearHistoryData(),n.__super__.release.apply(this,arguments)},n}(Spine.Controller),e.exports=i},{"./canvas.jade":6,"./canvas_controller":8,"./edit-layer/curve_edit_layer":13,"./edit-layer/erase_edit_layer":14,"./edit-layer/picture_edit_layer":16,"./edit-layer/text_edit_layer":19,"./models/history":25,"./static-layer/display_layer":28,"./static-layer/fake_layer":29,"./static-layer/stage_layer":31}],8:[function(t,e,n){var i,r=function(t,e){return function(){return t.apply(e,arguments)}};i=function(){function t(t,e){this.$container=t,this.viewSize=e,this.handleLayerEditing=r(this.handleLayerEditing,this),this.batchRenderLayer=r(this.batchRenderLayer,this),this.defaultHeight=this.viewSize[1],this.$container.css({width:this.viewSize[0],height:this.viewSize[1]}),this.displayLayerInstance=null,this.activeLayerInstance=null,this.bgLayerInstance=null,this.syncLayerInstance=null,this.syncCursorLayerInstance=null,this.motionLayerInstance=null,this.fakeLayerInstance=null,this._layerInstanceDict={},this.scaleRate=1}return t.prototype.registerLayer=function(t,e,n){return null==n&&(n=!1),this._layerInstanceDict[t]=e,n?e.setup(this.$container):void 0},t.prototype.setActiveLayer=function(t,e){var n,i,r;i=this._layerInstanceDict;for(n in i)r=i[n],r.isActive=t===n,t===n?r.active():r.deactive();return this.activeLayerInstance=this._layerInstanceDict[t],e?this.activeLayerInstance.changeMode(e):void 0},t.prototype.batchRenderLayer=function(t,e){return this._layerInstanceDict[t.ty].renderToDisplay(this.displayLayerInstance.ctx,t,e)},t.prototype.batchRenderSyncLayer=function(t,e){return this._layerInstanceDict[t.ty].renderToSync(this.syncLayerInstance,t,e)},t.prototype.batchRenderMotionLayer=function(t,e){return this._layerInstanceDict[t.ty].renderToMotion(this.motionLayerInstance,t,e)},t.prototype.batchRender=function(t,e){return this.displayLayerInstance.addObj(t),this.batchRenderLayer(t,e)},t.prototype.batchRenderObjs=function(t,e,n){var i,r,o,s,a;for(null==n&&(n={}),this.fakeLayerInstance.clear(),s=async.queue(function(t){return function(e,n){return t._layerInstanceDict[e.path.ty].renderToDisplay(t.fakeLayerInstance.ctx,e.path,n)}}(this)),s.drain=function(t){return function(){var i;return e.clear(),i=t.fakeLayerInstance.viewSize,e.ctx.drawImage(t.fakeLayerInstance.el[0],0,0,i[0]*t.scaleRate,i[1]*t.scaleRate),"function"==typeof n.done?n.done():void 0}}(this),a=[],i=0,r=t.length;r>i;i++)o=t[i],a.push(s.push({path:o}));return a},t.prototype.scale=function(t){var e,n,i,r,o;return this.scaleRate=t,$.each(this._layerInstanceDict,function(e,n){return n.scale(t)}),this.displayLayerInstance.scale(t),null!=(e=this.syncLayerInstance)&&e.scale(t),null!=(n=this.bgLayerInstance)&&n.scale(t),null!=(i=this.syncCursorLayerInstance)&&i.scale(t),null!=(r=this.motionLayerInstance)&&r.scale(t),null!=(o=this.fakeLayerInstance)&&o.scale(t),this.$container.css({width:this.viewSize[0]*t,height:this.viewSize[1]*t})},t.prototype.removeObjs=function(t){return this.displayLayerInstance.removeObj(t),this.reRender()},t.prototype.reRender=function(t,e){var n;return null==e&&(e={}),t&&(this.displayLayerInstance._canvasData=t),n=this.displayLayerInstance._canvasData,n.length?this.batchRenderObjs(n,this.displayLayerInstance,{done:e.done}):(this.displayLayerInstance.clear(),"function"==typeof e.done?e.done():void 0)},t.prototype.refresh=function(t){var e,n,i;return this.displayLayerInstance.refresh(),t||null!=(e=this.bgLayerInstance)&&e.clear(),null!=(n=this.syncLayerInstance)&&n.clear(),null!=(i=this.motionLayerInstance)?i.clear():void 0},t.prototype.deactiveCurrent=function(){return this.activeLayerInstance.deactive(),this.activeLayerInstance=null},t.prototype.saveActiveLayerData=function(){return this.activeLayerInstance?(this.activeLayerInstance.deactive(),this.activeLayerInstance.active()):void 0},t.prototype.handleLayerEditing=function(t){return t.objs=this.getObjsByCheckCollision(t,t.ty),this._layerInstanceDict[t.ty].handleEditing(t),t.objs.length?this.reRender([t.objs[0].id]):void 0},t.prototype.getObjsByCheckCollision=function(t,e){var n,i,r;return r={x:t.x-5,y:t.y-5},i={x:t.x+5,y:t.y+5},n=this.displayLayerInstance.checkCollision([r,i]),$.grep(n,function(t){return t.ty===e})},t.prototype.setBgLayer=function(t,e){var n,i,r,o,s,a;if(n=t&&t.bg?t.bg.h:this.defaultHeight,!e){this.$container.css({height:n*this.scaleRate}),r=this._layerInstanceDict;for(i in r)a=r[i],a.updateViewHeight(n)}return null!=(o=this.fakeLayerInstance)&&o.updateViewHeight(n),this.displayLayerInstance.updateViewHeight(n),this.bgLayerInstance.updateViewHeight(n),null!=(s=this.syncLayerInstance)&&s.updateViewHeight(n),t&&t.bg?this.bgLayerInstance.setBg(t.bg.url,t.id):this.bgLayerInstance.clear()},t.prototype.release=function(){var t,e,n,i,r,o,s,a,l;e=this._layerInstanceDict;for(t in e)l=e[t],l.release();return null!=(n=this.displayLayerInstance)&&n.release(),null!=(i=this.syncLayerInstance)&&i.release(),null!=(r=this.bgLayerInstance)&&r.release(),null!=(o=this.motionLayerInstance)&&o.release(),null!=(s=this.fakeLayerInstance)&&s.release(),null!=(a=this.syncCursorLayerInstance)?a.release():void 0},t.prototype.clearBgCache=function(t){return this.bgLayerInstance.imageDict[t]=null},t}(),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{}],9:[function(t,e,n){var i,r,o,s,a,l,u,c,d,p,h,f,v,y,g,m,b=function(t,e){function n(){this.constructor=t}for(var i in e)_.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;m=t("moment"),d=t("./models/record"),t("soundmanager2/script/soundmanager2-nodebug-jsmin.js"),y=t("./models/utils_module"),f=t("./static-layer/sync_editing_layer"),u=t("./static-layer/motion_layer"),s=t("./static-layer/display_layer"),h=t("./static-layer/sync_cursor_layer"),o=t("./edit-layer/curve_edit_layer"),a=t("./edit-layer/erase_edit_layer"),c=t("./edit-layer/picture_edit_layer"),v=t("./edit-layer/text_edit_layer"),p=t("./static-layer/stage_layer"),l=t("./static-layer/fake_layer"),i=t("./canvas_controller"),g=t("./lib/recorder"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.render(),$(document).on("keypress.cPl",function(t){return function(e){var n;if(0===$("input:focus,textarea:focus").length)switch(n=e.which){case 32:return e.preventDefault(),e.stopPropagation(),t.handlePlay()}}}(this)),this.playStatus=0,this.timeTotalRecord=0,this.frameRate=100,window.cp_cu_fid=null,this.frames_data={},this.stage_data={}}return b(n,e),n.include(y.Timer),n.include(y.Download),n.prototype.className="canvas-player",n.prototype.opts={viewSize:[900,506],convertType:0,ratio:[16,9],jszip_path:"/js/jszip.min.js",can_open_local:!1,canSeek:!1,handleQuiz:!1,cls:"",tsFormat:"MM月DD日HH点mm分",live:!1,_t:{load_a:"",err_cs:"",err_fns:"",err_snap:"",t_ol:"",t_pb:"",t_brf:"",t_snap:"",t_play:"",t_resume:"",t_replay:""}},n.prototype.elements={".tip-msg":"$tip",".canvas-layer-wrap":"$canvasLayer",".timerPlay":"$timerPlay",".play":"$play",".player-toolbar":"$playerToolbar",".progress":"$playerProgress",".progress .ts-hint":"$tsHint",".progress-bar":"$playerProgressBar",".fa-play":"$changeIcon",".veg-uploader":"$fileUploader",".toolbar":"$toolbar",".player-toolbar .toolbar-bt":"$playerBtToolbar",".player-toolbar .cover-btn":"$coverBtn"},n.prototype.events={"click .player-toolbar .upload":"handleFileUpload","change .veg-uploader":"handleFileUploaded","click .player-toolbar":"handlePlay","click .play":"handlePlay","click .player-toolbar .expand":"handleExpand","click .player-toolbar .snap":"hanldeSnap","mouseenter .canvas-layer":"showPlayerTool","touchstart .canvas-layer":"showPlayerTool","click .canvas-layer-wrap":"showPlayerTool","mouseleave .canvas-layer":"hidePlayerTool","touchend .canvas-layer":"hidePlayerTool","click .player-toolbar .progress":"handleAdjustProgress","mousemove .player-toolbar .progress":"handleProgressHint"},n.prototype.render=function(){return this.html(t("./canvas_player.jade")(this.data)),this.canvasCtrl=new i(this.$canvasLayer,this.data.viewSize),this.canvasCtrl.bgLayerInstance=new p(this.data.viewSize),this.canvasCtrl.bgLayerInstance.setup(this.$canvasLayer,!0),this.canvasCtrl.displayLayerInstance=new s(this.data.viewSize),this.canvasCtrl.displayLayerInstance.setup(this.$canvasLayer,!0),this.canvasCtrl.syncLayerInstance=new f(this.data.viewSize),this.canvasCtrl.syncLayerInstance.setup(this.$canvasLayer,!0),this.canvasCtrl.syncCursorLayerInstance=new h,this.canvasCtrl.syncCursorLayerInstance.setup(this.$canvasLayer),this.data.live||(this.canvasCtrl.motionLayerInstance=new u(this.data.viewSize),this.canvasCtrl.motionLayerInstance.setup(this.$canvasLayer)),this.canvasCtrl.fakeLayerInstance=new l(this.data.viewSize),this.canvasCtrl.fakeLayerInstance.setup(this.$canvasLayer,!0),this.canvasCtrl.registerLayer("E",new a(this.data.viewSize)),this.canvasCtrl.registerLayer("C",new o(this.data.viewSize)),this.canvasCtrl.registerLayer("P",new c(this.data.viewSize)),this.canvasCtrl.registerLayer("T",new v(this.data.viewSize)),this.recordRTC=new g(this.$canvasLayer,900,506)},n.prototype.clearClock=function(){var t;return null!=(t=this.clock)?t.cancel():void 0},n.prototype.loadFrameData=function(){var t,e;return t=this.canvasCtrl.displayLayerInstance._canvasData,t.length&&(this.frames_data[cp_pre_fid]=t),e=this.frames_data[cp_cu_fid]||[],this.canvasCtrl.reRender(e)},n.prototype.playEachRecord=function(t){var e,n,i,r,o,s,a,l;switch(t.ac){case"End":return this.stopPlay(),this.trigger("play:end");case"TSync":return this.canvasCtrl.batchRenderSyncLayer(t.data);case"CSync":return this.canvasCtrl.batchRenderSyncLayer(t.data),this.canvasCtrl.syncCursorLayerInstance.move(t.data.po[t.data.po.length-1],!0);case"CEnd":return this.canvasCtrl.syncLayerInstance.clear(),this.canvasCtrl.batchRender(t.data);case"TEnd":case"PEnd":return this.canvasCtrl.syncLayerInstance.clear(),this.data.live?this.canvasCtrl.batchRender(t.data):this.canvasCtrl.batchRenderMotionLayer(t.data,function(e){return function(){return e.canvasCtrl.motionLayerInstance.action(function(){return e.canvasCtrl.batchRender(t.data)})}}(this));case"PAct":case"TAct":return this.canvasCtrl.removeObjs([t.data.id]),this.canvasCtrl.batchRenderSyncLayer(t.data);case"E":return this.canvasCtrl.removeObjs(t.data);case"Frame":return 0!==t.ts&&this.$canvasLayer.anim("fadeIn"),null!=(o=this.recordRTC)&&(o.y=0),window.cp_pre_fid=window.cp_cu_fid,window.cp_cu_fid=t.data,(this.cframe=this.stage_data[t.data])&&this.canvasCtrl.setBgLayer(this.cframe,!0),cp_pre_fid&&this.loadFrameData(),this.canvasCtrl.syncCursorLayerInstance.toggle(!0);case"CM":return this.canvasCtrl.syncCursorLayerInstance.move(t.data);case"SL":return this.$canvasLayer.scrollTop(t.data),null!=(s=this.recordRTC)?s.y=t.data:void 0;case"CC":return this.canvasCtrl.syncCursorLayerInstance.setColor(t.data);case"UE":for(a=t.data,l=[],i=0,r=a.length;r>i;i++)n=a[i],l.push(this.canvasCtrl.batchRender(n));return l;case"Qz":if(this.data.handleQuiz)return this.pausePlay(),this.data.handleQuiz(t.data,this);break;default:return"function"==typeof(e=this.data).handleOtherAc?e.handleOtherAc(t.ac,t.data):void 0}},n.prototype.setupPlayerClock=function(){return console.debug("total record count:",d.count()),this.clock=this.accurateInterval(this.frameRate,function(t){return function(){var e,n,i,r,o,s;if(1===t.playStatus){for(t.currentTs+=t.frameRate,e=t.currentTs,e%1e3===0&&t.displayCurrentDuration(),s=d.select(function(n){var i;return e-t.frameRate<=(i=n.ts)&&e>i}),n=0,i=s.length;i>n;n++)o=s[n],t.playEachRecord(o);if(r=(100*e/t.timeTotalRecord).toFixed()+"%",t.$playerProgressBar.css({width:r,"transition-duration":".6s"}),e<t.timeTotalRecord)return t.trigger("ing",e)}}}(this))},n.prototype.startPlay=function(){var t;if(0!==d.count())return this.currentTs=0,this.canvasCtrl.refresh(),this.$playerProgressBar.css({width:"0%"}),this.$changeIcon.addClass("fa-pause"),this.playStatus=1,this.setupPlayerClock(),null!=(t=this.audio)&&t.play(),this.$toolbar.addClass("playing"),this.trigger("play")},n.prototype.pausePlay=function(t){var e;return this.$changeIcon.removeClass("fa-pause"),this.playStatus=-1,this.clearClock(),null!=(e=this.audio)&&e.pause(),this.$toolbar.addClass("paused"),this.$coverBtn.removeClass("woo"),t?void 0:this.trigger("pause")},n.prototype.resumePlay=function(t){var e,n;return this.$changeIcon.addClass("fa-pause"),this.playStatus=1,this.setupPlayerClock(),(null!=(e=this.audio)?e.paused:void 0)&&null!=(n=this.audio)&&n.play(),this.$toolbar.removeClass("paused"),t?void 0:this.trigger("resume")},n.prototype.stopPlay=function(t){var e;return null==t&&(t={}),this.currentTs=0,this.$changeIcon.removeClass("fa-pause"),this.playStatus=0,this.clearClock(),null!=(e=this.audio)&&e.stop(),this.$toolbar.removeClass("playing paused"),this.$coverBtn.removeClass("ready"),t.nowoo||this.$coverBtn.addClass("woo"),this.canvasCtrl.refresh(),this.showPlayerTool(),this.canvasCtrl.syncCursorLayerInstance.toggle(!1),this.$canvasLayer.scrollTop(0),this.frames_data={},window.cp_cu_fid=null,this.trigger("stop")},n.prototype.handlePlay=function(t){switch(null!=t&&t.stopPropagation(),null!=t&&t.preventDefault(),this.log("play status: ",this.playStatus),this.playStatus){case-1:return this.resumePlay();case 1:return this.pausePlay();case 0:return this.startPlay()}},n.prototype.hidePlayerTool=function(){return 1===this.playStatus?this.playerToolClock=setTimeout(function(t){return function(){return t.$playerBtToolbar.addClass("mini")}}(this),4e3):void 0},n.prototype.showPlayerTool=function(){return this.playerToolClock?(clearTimeout(this.playerToolClock),this.$playerBtToolbar.removeClass("mini")):void 0},n.prototype.handleAdjustProgress=function(t){var e,n;return t.stopPropagation(),("function"==typeof(n=this.data).canSeek?n.canSeek():void 0)&&this.timeTotalRecord?(e=$(t.currentTarget),this.seekPlayTo(t.offsetX/e.width()*this.timeTotalRecord)):void 0},n.prototype.handleProgressHint=function(t){var e,n;return e=$(t.currentTarget),n=t.offsetX/e.width()*this.timeTotalRecord,this.$tsHint.text(this.getFormatDuration(n,"mm:ss")).css({left:t.offsetX-25})},n.prototype.seekPlayTo=function(t){var e,n,i,r;return this.currentTs=100*Math.round(t/100),i=(100*this.currentTs/this.timeTotalRecord).toFixed()+"%",this.$playerProgressBar.css({width:i,"transition-duration":"0s"}),this.displayCurrentDuration(),this.trigger("seeked",this.currentTs),this.pausePlay(!0),$loading.start({container:this.el}),n=d.frameByTs(this.currentTs),e=d.parseRealPathByRange(0,this.currentTs),this.frames_data=e[2],null!=(r=this.recordRTC)&&(r.y=e[1]||0),window.cp_cu_fid=e[3],this.canvasCtrl.setBgLayer(this.stage_data[n.data],!0),this.canvasCtrl.reRender(e[0],{done:function(t){return function(){return t.seekAudio(t.currentTs,function(){return $loading.stop(t.el),t.resumePlay(!0)})}}(this)})},n.prototype.snapCurrentFrame=function(t){return this.recordRTC.cloneCanvas().toDataURL("image/webp",t||.8)},n.prototype.snapCanvasByTs=function(t,e,n){var i,r,o;return r=d.frameByTs(t),i=d.parseRealPathByRange(r.ts,t),null!=(o=this.recordRTC)&&(o.y=i[1]||0),this.canvasCtrl.setBgLayer(this.stage_data[r.data],!0),this.canvasCtrl.reRender(i[0],{done:function(t){return function(){return n(t.snapCurrentFrame(e)),t.canvasCtrl.refresh()}}(this)})},n.prototype.snapCover=function(t){return this.snapCanvasByTs(d.firstFrameTs()-10,.5,t)},n.prototype.getDocument=function(t){var e,n;return e=d.filterBy("Frame"),e=e.filter(function(t,e,n){return e===n.indexOf(t)}),n=$.map(e,function(t){return function(e){return t.canvasCtrl.bgLayerInstance.imageDict[e]}}(this)),t(n)},n.prototype.hanldeSnap=function(t){var e;return t.stopPropagation(),t.preventDefault(),this.currentTs?(e=m().format(this.data.tsFormat),this.downloadFile("snap_"+e+".webp",this.snapCurrentFrame())):void $flash(this.data._t.err_snap,{type:"danger"})},n.prototype.handleFileUpload=function(t){return t.stopPropagation(),t.preventDefault(),this.$fileUploader.trigger("click")},n.prototype.handleExpand=function(t){var e;return t.stopPropagation(),t.preventDefault(),e=this.el.hasClass("player-is-expanded"),this.el.toggleClass("player-is-expanded"),$("body").toggleClass("has-player-expanded"),this.fitScreenWidth(e)},n.prototype.fitScreenWidth=function(t,e){var n;return t?this.canvasCtrl.scale(1):(null==e&&(e=$(window).width()),n=e/this.data.viewSize[0],this.canvasCtrl.scale(n)),this.canvasCtrl.setBgLayer(this.cframe,!0),this.canvasCtrl.reRender()},n.prototype.handleFileUploaded=function(t){var e;return this.currentTs&&this.stopPlay(),e=$(t.currentTarget)[0].files[0],"application/zip"!==e.type?void $flash(this.data._t.err_fns,{type:"danger"}):$.getCachedScript(this.data.jszip_path,function(t){return function(){var n;return n=new JSZip,n.loadAsync(e).then(function(e){var n;return n=e.file("canvas.json"),n.async("string").then(function(n){var i;return i=e.file("audio.ogg"),i.async("arraybuffer").then(function(e){var i;return i=new Blob([e],{type:"audio/ogg"}),t.trigger("load:local",n,URL.createObjectURL(i),i)})})})}}(this))},n.prototype.loadFromSourceFile=function(t,e){var n,i,r,o,s;if(!t.canvas)return void $flash(this.data._t.err_cs);if(this.reset(),t.blob&&(this.blob_audio=t.blob),t.stage){for(o=t.stage,i=0,r=o.length;r>i;i++)n=o[i],this.stage_data[n.id]=n;return s=$.grep(t.stage,function(t){return t.bg}),this.canvasCtrl.bgLayerInstance.preLoad(s,{done:function(n){return function(i){return n.loadCanvasData(t.canvas),n.$play.removeClass("disabled"),n.$coverBtn.addClass("ready"),"function"==typeof i&&i(),t.audio?($loading.start({container:n.$canvasLayer,msg:n.data._t.load_a}),n.loadAudio(t.audio,function(){return $loading.stop(n.$canvasLayer),"function"==typeof e?e():void 0})):"function"==typeof e?e():void 0}}(this)})}},n.prototype.loadCanvasData=function(t){var e,n,i,r,o;for(d.refresh(t,{clear:!0}),this.timeTotalRecord=d.last().ts,
this.$playerProgress.find(".po").remove(),o=d.quizTs(),n=0,i=o.length;i>n;n++)r=o[n],e=$("<span class='po'></span>").css({left:r.hp}).appendTo(this.$playerProgress);return d.count()===t.length?this.log("complete"):void 0},n.prototype.loadAudio=function(t,e){var n;return n=this,soundManager.setup({preferFlash:!1,onready:function(){return n.audio=soundManager.createSound({id:"main",url:t,autoLoad:!0,autoPlay:!1,volume:100,type:"audio/ogg",onload:e})}})},n.prototype.seekAudio=function(t,e){var n;if(this.audio)return n=function(){return this.clearOnPosition(0,n),"function"==typeof e?e():void 0},this.audio.onPosition(0,n),this.audio.setPosition(t)},n.prototype.displayCurrentDuration=function(){return this.$timerPlay.text(this.getFormatDuration(this.currentTs,"mm:ss"))},n.prototype.getFormatDuration=function(t,e){var n;return n=m.duration(t),m(n.as("milliseconds")).format(e)},n.prototype.reset=function(){var t;return d.deleteAll(),this.frames_data={},this.stage_data={},null!=(t=this.audio)&&t.destruct(),this.$coverBtn.removeClass("ready woo")},n.prototype.setAutoFit=function(){return this.$playerBtToolbar.addClass("auto-fit")},n.prototype.release=function(){return this.reset(),this.audio=null,$(document).off("keypress.cPl"),n.__super__.release.apply(this,arguments)},n}(Spine.Controller),e.exports=r},{"./canvas_controller":8,"./canvas_player.jade":10,"./edit-layer/curve_edit_layer":13,"./edit-layer/erase_edit_layer":14,"./edit-layer/picture_edit_layer":16,"./edit-layer/text_edit_layer":19,"./lib/recorder":21,"./models/record":26,"./models/utils_module":27,"./static-layer/display_layer":28,"./static-layer/fake_layer":29,"./static-layer/motion_layer":30,"./static-layer/stage_layer":31,"./static-layer/sync_cursor_layer":33,"./static-layer/sync_editing_layer":34,moment:140,"soundmanager2/script/soundmanager2-nodebug-jsmin.js":154}],10:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a){n.push('<div class="expand-backdrop"></div><input accept=".zip" name="file" type="file" multiple="multiple" class="veg-uploader"/><div class="tip-msg"></div><div class="canvas-layer"><div class="canvas-layer-wrap"></div>'),s||(n.push('<div class="player-toolbar toolbar"><div class="cover-btn"><a href="#"'+i.attr("data-play",t.t_play,!0,!1)+i.attr("data-resume",t.t_resume,!0,!1)+i.attr("data-replay",t.t_replay,!0,!1)+' class="play"><i class="fa fa-play-circle"></i></a>'),r&&n.push('<a href="#" class="upload"><i class="fa fa-folder-open-o"></i><span class="desc">'+i.escape(null==(e=t.t_ol)?"":e)+"</span></a>"),n.push("</div><div"+i.cls(["toolbar-bt",o],[null,!0])+"><span"+i.attr("title",t.t_pb,!0,!1)+' class="player-btn play disabled"><i class="fa fa-play"></i></span><div class="progress"><div role="progressbar"'+i.attr("aria-valuenow",a,!0,!1)+' aria-valuemin="0" aria-valuemax="100" class="progress-bar progress-bar-veg"></div><span class="ts-hint"></span></div><span class="timerPlay">00:00</span><span'+i.attr("title",t.t_brf,!0,!1)+' class="player-btn expand"><i class="fa fa-expand"></i></span><span'+i.attr("title",t.t_snap,!0,!1)+' class="player-btn snap"><i class="fa fa-camera"></i></span></div></div>')),n.push("</div>")}.call(this,"_t"in r?r._t:"undefined"!=typeof _t?_t:void 0,"can_open_local"in r?r.can_open_local:"undefined"!=typeof can_open_local?can_open_local:void 0,"cls"in r?r.cls:"undefined"!=typeof cls?cls:void 0,"live"in r?r.live:"undefined"!=typeof live?live:void 0,"value"in r?r.value:"undefined"!=typeof value?value:void 0),n.join("")}},{"jade/runtime":136}],11:[function(t,e,n){var i,r,o,s,a,l,u=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;l=t("moment"),s=t("./models/record"),a=t("./models/utils_module"),r=t("./canvas_base"),i=t("./audio/audio_recorder"),o=function(e){function n(){this.handleConvertEnd=u(this.handleConvertEnd,this),this.handleConvertProgress=u(this.handleConvertProgress,this),this.handleConvertStart=u(this.handleConvertStart,this);var t;n.__super__.constructor.apply(this,arguments),this.frameRate=100,this.playPaused=!1,this.time_total_record=0,t=this,this.el.on("scroll",function(){return t.recordable(this.scrollTop-10,"SL")});try{null==this.recorder&&(this.recorder=new i({start:function(t){return function(){return t.startCanvasRecord()}}(this),pause:function(){return console.log("paused")},resume:function(){return console.log("resumed")},done:function(t){return function(e,n){return t.blob_audio=n,t.src_audio=e,$loading.stop(t.$canvasLayer),t.trigger("record:over",t.packageRecordData()),$flash("录制结束，时长："+t.getFormatDuration(t.time_total_record,"mm:ss"),{type:"success"})}}(this),error:function(){return $flash("请允许使用您的麦克风哦！",{type:"danger"})},ready:function(){return this.rec.start()}}))}catch(e){}}return c(n,e),n.include(a.Timer),n.include(a.Download),n.prototype.className="canvas-recorder",n.prototype.frames_data={},n.prototype.opts={viewSize:[900,506],require_text:!0,live:!1,jszip_path:"/js/jszip.min.js"},n.prototype.clearClock=function(){var t;return null!=(t=this.clock)?t.cancel():void 0},n.prototype.setupRecordClock=function(){return this.clock=this.accurateInterval(this.frameRate,function(t){return function(){var e;return!t.playPaused&&(t.currentTs+=t.frameRate,e=t.currentTs,e%1e3===1&&t.displayCurrentDuration(),t.currentAc)?(s.create(t.currentAc),t.currentAc=null):void 0}}(this))},n.prototype.startCanvasRecord=function(){return this.currentTs=1,this.displayCurrentDuration(),this.addFrameRecord(),this.setupRecordClock()},n.prototype.pauseRecord=function(){return this.recorder.rec.pause(),this.playPaused=!0,this.clearClock()},n.prototype.resumeRecord=function(){return this.recorder.rec.resume(),this.playPaused=!1,this.currentAc=null,this.setupRecordClock()},n.prototype.stopCanvasRecord=function(t){return this.canvasCtrl.saveActiveLayerData(),setTimeout(function(e){return function(){return e.clearClock(),e.time_total_record=e.currentTs,s.create({ac:"End",ts:e.time_total_record}),e.currentTs=0,t?t():void 0}}(this),this.frameRate)},n.prototype.handleRecordPause=function(){return this.playPaused?this.resumeRecord():this.pauseRecord()},n.prototype.handleNewReply=function(){return this.clearClock(),this.playPaused=!1,s.destroyAll(),this.canvasCtrl.refresh(!0)},n.prototype.saveToLocal=function(t){var e,n;return n=l().format("MM月DD日HH点mm分"),e="17up_"+n+".zip",$.getCachedScript(this.data.jszip_path,function(n){return function(){var i;return i=new JSZip,i.file("canvas.json",n.packageRecordData({stringify:!0,qz:t})),i.file("audio.ogg",n.blob_audio,{binary:!0}),i.generateAsync({type:"blob"}).then(function(t){var i;return i=window.URL.createObjectURL(t),n.downloadFile(e,i)})}}(this))},n.prototype.displayCurrentDuration=function(){return this.$timerRecord.text(this.getFormatDuration(this.currentTs,"mm:ss"))},n.prototype.getFormatDuration=function(t,e){var n;return n=l.duration(t),l(n.as("milliseconds")).format(e)},n.prototype.startRecord=function(){return this.recorder.rec.initStream()},n.prototype.stopRecord=function(){return $loading.start({container:this.$canvasLayer,msg:"正在结束录制..."}),this.stopCanvasRecord(function(t){return function(){return t.recorder.rec.stop()}}(this))},n.prototype.packageRecordData=function(t){var e,n,i;return null==t&&(t={}),0===s.count()?void $flash("没有数据",{type:"danger"}):(e=s.filterBy("Frame"),i=$.grep(this.stage,function(t){return e.indexOf(t.id)>-1}),n={stage:i,size:this.viewSize,dur:this.time_total_record,canvas:s.toJSON(),audio:this.src_audio,blob:this.blob_audio},t.qz&&t.qz.length&&(n.qz=t.qz),t.stringify?(n.blob=null,n.audio=null,JSON.stringify(n)):n)},n.prototype.loadFrameData=function(t){var e;return this.frames_data[previous_fid]=this.canvasCtrl.displayLayerInstance._canvasData,e=this.frames_data[current_fid]||t||[],this.canvasCtrl.reRender(e)},n.prototype.addFrameRecord=function(){return current_fid?this.currentTs>0?s.create({ac:"Frame",data:current_fid,ts:this.currentTs}):void 0:void this.log("miss current_fid")},n.prototype.addQuizRecord=function(t){return this.recordable(t,"Qz")},n.prototype.activeFrame=function(t){return this.canvasCtrl.setBgLayer(t),this.el.scrollTop(0),this.addFrameRecord(),this.loadFrameData(t.pd)},n.prototype.scaleFrame=function(t,e){return this.canvasCtrl.scale(t),this.canvasCtrl.setBgLayer(e),this.canvasCtrl.reRender()},n.prototype.handleConvertStart=function(e){return this.$loader=$(t("./loader.jade")()).appendTo($("body"))},n.prototype.handleConvertProgress=function(t){return $loading.progress(this.$loader.find(".bar"),t)},n.prototype.handleConvertEnd=function(t){return this.trigger("frame:batch",t)},n.prototype.endLoader=function(){var t;return null!=(t=this.$loader)?t.remove():void 0},n}(r),e.exports=o},{"./audio/audio_recorder":4,"./canvas_base":7,"./loader.jade":24,"./models/record":26,"./models/utils_module":27,moment:140}],12:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(t){this.viewSize=t.slice(0),e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.active=function(){return this.el.addClass("active")},e.prototype.deactive=function(){return this.el.removeClass("active")},e.prototype.renderView=function(){var t;return this.el.css({width:this.viewSize[0]*this.scaleRate,height:this.viewSize[1]*this.scaleRate}),null!=(t=this.sketch)&&t.destroy(),this.no_auto?void 0:this.render()},e.prototype.scale=function(t){this.scaleRate=t},e.prototype.updateViewHeight=function(t){return this.viewSize[1]=t,this.renderView()},e.prototype.changeMode=function(){},e.prototype.renderToMotion=function(t,e,n){var i;if(this.getRect)return i=this.getRect(e),t.renderWith(i.x,i.y,i.w,i.h),this.renderTo(t.ctx,e,0,0,i.w,i.h,n)},e}(Spine.Controller),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{}],13:[function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=t("../lib/sketch"),s=t("../models/utils_module"),i=t("./abstract_edit_layer"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.include(s.Path),e.prototype.className="curve-edit-layer edit-layer",e.prototype.layerType="C",e.prototype.color="#333333",e.prototype.lineWidth=2,e.prototype.scaleRate=1,e.prototype.mode=1,e.prototype.events={mousemove:"cursorMove",touchmove:"cursorMove"},e.prototype.setup=function(t){return t.append(this.el),$(document).on("keydown.C",function(t){return function(e){return 16===e.keyCode&&(t.straX=!0),18===e.keyCode?t.straY=!0:void 0}}(this)),$(document).on("keyup.C",function(t){return function(e){return 16===e.keyCode&&(t.straX=!1),18===e.keyCode?t.straY=!1:void 0}}(this))},e.prototype.render=function(){var t;return t=this,this.sketch=o.create({fullscreen:!1,autoclear:!1,autostart:!1,width:this.viewSize[0]*window.devicePixelRatio*this.scaleRate,height:this.viewSize[1]*window.devicePixelRatio*this.scaleRate,container:this.el[0],setup:function(){return this._points=[],this.lineWidth=t.lineWidth,this.fillStyle=this.strokeStyle=t.color,this.lineCap="round",this.lineJoin="round",$(this.canvas).css("width",t.viewSize[0]*t.scaleRate),$(this.canvas).css("height",t.viewSize[1]*t.scaleRate),this.scale(window.devicePixelRatio,window.devicePixelRatio)},mouseup:function(){var e,n,i,r,o;if(t.stra_y=null,t.stra_x=null,this._points.length>0){for(o=this._points.slice(0),n=0,i=o.length;i>n;n++)r=o[n],r[0]=Math.round(r[0]/t.scaleRate),r[1]=Math.round(r[1]/t.scaleRate);return e={po:o,co:this.strokeStyle,wi:this.lineWidth,ty:t.layerType},t.trigger("edit_end",e),setTimeout(function(){return t.drawing=!1},100)}},mouseout:function(){return this.dragging?(this.dragging=!1,this.mouseup()):void 0},mousedown:function(){var e,n;return t.drawing=!0,n=this.touches[0],this._points.length=0,e=[n.x,n.y],this._points.push(e),t.trigger("edit_start",e)},touchmove:function(){var e,n,i,r;return n=this.touches[0],this.dragging?(r=t.straX?null!=t.stra_y?t.stra_y:t.stra_y=n.y:n.y,i=t.straY?null!=t.stra_x?t.stra_x:t.stra_x=n.x:n.x,this._points.push([i,r]),t.drawCurve(this),e={co:this.strokeStyle,wi:this.lineWidth,ty:t.layerType,po:this._points.slice(0)},t.trigger("editing",e)):void 0}}),this.mode?this.changeMode(this.mode):void 0},e.prototype.changeColor=function(t){var e;return this.color=t,e=2===this.mode?$.convertHex(this.color,40):this.color,this.sketch.strokeStyle=this.sketch.fillStyle=e,this.cursorLoad?this.setupCursor():setTimeout(function(t){return function(){return t.setupCursor()}}(this),5e3)},e.prototype.renderToDisplay=function(t,e,n){var i;return t._points=e.po,t.strokeStyle=e.co,t.lineWidth=e.wi*this.scaleRate,t.lineCap="round",t.lineJoin="round",t.scaleRate=this.scaleRate,null!=(i=this.sketch)&&i.clear(),this.drawCurve(t,!0),"function"==typeof n?n():void 0},e.prototype.changeLineWidth=function(t){return this.lineWidth=t,2!==this.mode?this.sketch.lineWidth=this.lineWidth:void 0},e.prototype.changeMode=function(t){return this.mode=t,this.sketch?(this.sketch.lineWidth=2===this.mode?18:this.lineWidth,this.changeColor(this.color)):void 0},e.prototype.shadow=function(t){return t.shadowBlur=1,t.shadowOffsetX=5,t.shadowOffsetY=5,t.shadowColor="gray"},e.prototype.renderToSync=function(t,e,n){var i;return i=t.ctx,i._points=e.po,i.strokeStyle=e.co,i.lineWidth=e.wi*this.scaleRate,i.lineCap="round",i.lineJoin="round",i.scaleRate=this.scaleRate,i.clear=t.clear,this.drawCurve(i)},e.prototype.cursorMove=function(t){var e;return t.preventDefault(),this.drawing?void 0:(e=[t.offsetX/this.scaleRate,t.offsetY/this.scaleRate],this.trigger("cursor_move",e))},e.prototype.setupCursor=function(){var t,e;return 2===this.mode?(t=$.convertHex(this.color,40),e=20):(t=this.color,e=12),this.el.awesomeCursor("circle",{size:e,hotspot:"center center",color:t}),this.cursorLoad=!0},e.prototype.release=function(){var t;return null!=(t=this.sketch)&&t.destroy(),$(document).off("keydown.C"),$(document).off("keyup.C"),e.__super__.release.apply(this,arguments)},e}(i),"undefined"!=typeof e&&null!==e&&(e.exports=r)},{"../lib/sketch":22,"../models/utils_module":27,"./abstract_edit_layer":12}],14:[function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;s=t("../lib/sketch"),i=t("./abstract_edit_layer"),r=t("../static-layer/display_layer"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.className="erase-edit-layer edit-layer",e.prototype.layerType="E",e.prototype.scaleRate=1,e.prototype.setup=function(t){return t.append(this.el),$(document).on("keydown.E",function(t){return function(e){return 17===e.keyCode?t.only_curve=!0:void 0}}(this)),$(document).on("keyup.E",function(t){return function(e){return 17===e.keyCode?t.only_curve=!1:void 0}}(this))},e.prototype.render=function(){var t;return t=this,this.sketch=s.create({fullscreen:!1,autoclear:!1,autostart:!1,width:this.viewSize[0]*window.devicePixelRatio*this.scaleRate,height:this.viewSize[1]*window.devicePixelRatio*this.scaleRate,container:this.el[0],setup:function(){return this.strokeStyle="#ff8619",this.fillStyle="rgba(255, 134, 25,0.2)",this.lineCap="round",this.lineJoin="round",this.lineWidth=1,$(this.canvas).css("width",t.viewSize[0]*t.scaleRate),$(this.canvas).css("height",t.viewSize[1]*t.scaleRate),this.scale(window.devicePixelRatio,window.devicePixelRatio)},mouseout:function(){return this.dragging?(this.dragging=!1,this.mouseup()):void 0},mouseup:function(){var e;return this.clear(),e=t.getPos(this.mouse.x,this.mouse.y,this.start_x,this.start_y),t.trigger("done",t.origin(e))},mousedown:function(){return this.start_x=this.mouse.x,this.start_y=this.mouse.y},touchmove:function(){var e,n,i,r,o,s;return i=this.mouse,this.dragging?(this.clear(),e=t.getPos(i.x,i.y,this.start_x,this.start_y),o=e.pos[0].x,s=e.pos[0].y,r=abs(i.x-this.start_x),n=abs(i.y-this.start_y),this.fillRect(o,s,r,n),this.strokeRect(o,s,r,n),t.trigger("moving",t.origin(e))):void 0}})},e.prototype.strokeArc=function(t,e){return this.sketch.beginPath(),this.sketch.arc(t*this.scaleRate,e*this.scaleRate,4,2*Math.PI,!1),this.sketch.lineWidth=1,this.sketch.stroke()},e.prototype.handleMoving=function(t){var e,n,i,r,o,s;for(o=[],n=0,i=t.length;i>n;n++)switch(r=t[n],r.ty){case"C":s=r.po[0],e=r.po[r.po.length-1],this.strokeArc(s[0],s[1]),o.push(this.strokeArc(e[0],e[1]));break;case"P":o.push(this.sketch.strokeRect(r.pos[0]*this.scaleRate+1,r.pos[1]*this.scaleRate+1,r.wid*this.scaleRate-2,r.hei*this.scaleRate-2));break;case"T":o.push(this.sketch.strokeRect(r.x*this.scaleRate,r.y*this.scaleRate,r.wid*this.scaleRate-2,r.hei*this.scaleRate-2));break;default:o.push(void 0)}return o},e.prototype.release=function(){var t;return $(document).off("keydown.E"),$(document).off("keyup.E"),null!=(t=this.sketch)&&t.destroy(),e.__super__.release.apply(this,arguments)},e.prototype.getPos=function(t,e,n,i){var r,o,s;return s={x:min(t,n),y:min(e,i)},o={x:max(t,n),y:max(e,i)},r={pos:[s,o],flag:this.only_curve}},e.prototype.origin=function(t){var e,n,i,r;if(t.pos)for(r=t.pos,e=0,n=r.length;n>e;e++)i=r[e],i.x=i.x/this.scaleRate,i.y=i.y/this.scaleRate;return t},e}(i),"undefined"!=typeof e&&null!==e&&(e.exports=o)},{"../lib/sketch":22,"../static-layer/display_layer":28,"./abstract_edit_layer":12}],15:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t){e.push('<span class="btn btn-ebs pic-lib"><i class="fa fa-file-image-o"></i><span class="desc">从云图库选择</span></span><div class="pic-box"><img'+i.attr("src",t,!0,!1)+'/><div class="scale-ctrl-layer"><div class="toolbar clearfix"><span class="btn btn-success confirm btn-xs"><i class="fa fa-check"></i></span></div><div class="ord-rb corner-btn"></div></div></div>')}.call(this,"img"in n?n.img:"undefined"!=typeof img?img:void 0),e.join("")}},{"jade/runtime":136}],16:[function(t,e,n){var i,r,o,s,a=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("./abstract_edit_layer"),t("../lib/pep.js"),r=t("../../../models/image"),s=t("../models/utils_module"),o=function(e){function n(){return this.getPic=a(this.getPic,this),n.__super__.constructor.apply(this,arguments)}return l(n,e),n.include(s.Shape),n.prototype.className="picture-edit-layer edit-layer",n.prototype.layerType="P",n.prototype.imageDict={},n.prototype.scaleRate=1,n.prototype.no_auto=!0,n.prototype.elements={".pic-box":"$picBox",".pic-box img":"$img"},n.prototype.events={"click .toolbar .confirm":"onEditEnd","click .pic-lib":"openPicLib",click:"blurArea","mouseover .corner-btn":"handleImageScaleStart","mouseout .corner-btn":"handleImageScaleEnd","mousedown .corner-btn":"handleImageScaleDragStart",mouseup:"handleImageScaleDragEnd",mousemove:"handleImageScaleMove"},n.prototype.render=function(){return this.html(t("./picture.jade")())},n.prototype.setup=function(t){return this.$container=t,this.$container.append(this.el),this.$container.on("dragover dragenter drop",function(t){return t.stopPropagation(),t.preventDefault()}),this.$container.on("dragenter",function(t){return $(this).addClass("drop")}),this.$container.on("drop dragleave",function(){return $(this).removeClass("drop")}),r.fileupload(this.$uploader,{zone:this.el.parent(),$loader:this.el,progress:function(t){return function(e){return t.log(e)}}(this),pdf:function(t){return function(e){return t.trigger("PDF:upload",e)}}(this),done:this.getPic,fail:function(){return $flash("图片载入失败",{type:"danger"})}}),setTimeout(function(t){return function(){return t.setupCursor()}}(this),5e3)},n.prototype.openPicLib=function(t){return t.stopPropagation(),this.trigger("open:lib")},n.prototype.getPic=function(t){var e,n,i;return this.trigger("active"),this.el.removeClass("hint"),i=this,this.$img.data("id",null),this.$img.data("url",t.url),this.$img[0].src=t.src,this.$picBox.addClass("active"),this.posX=this.posY=0,n=this.viewSize[0]*this.scaleRate,e=this.viewSize[1]*this.scaleRate,this.$img.one("load",function(){var t,r,o,s,a;return a=this.naturalWidth>n?n:this.naturalWidth,r=a/this.naturalWidth,s=this.naturalHeight>e?e:this.naturalHeight,t=s/this.naturalHeight,o=Math.floor(10*Math.min(r,t))/10,i.$img.width(this.naturalWidth*o*i.scaleRate),i.$img.height(this.naturalHeight*o*i.scaleRate)})},n.prototype.onEditEnd=function(t){var e,n;return e={ty:this.layerType,src:this.$img.data("url"),wid:this.$img.width()/this.scaleRate,hei:this.$img.height()/this.scaleRate,pos:[this.posX/this.scaleRate,this.posY/this.scaleRate]},(n=this.$img.data().id)&&(e.id=n),this.trigger("edit_end",e),this.$picBox.removeClass("active")},n.prototype.blurArea=function(t){var e;return t.preventDefault(),t.stopPropagation(),$(t.target).hasClass("picture-edit-layer")?this.$picBox.hasClass("active")?this.onEditEnd():(e={ty:this.layerType,x:t.offsetX/this.scaleRate,y:t.offsetY/this.scaleRate},this.trigger("edit_start",e)):void 0},n.prototype.handleEditing=function(t){var e;return t.objs.length>0?(e=t.objs[0],this.$img.data("id",e.id),this.$img.data("url",e.src),this.$img.attr("src",r.formatSrc(e.src)),this.$img.width(e.wid*this.scaleRate),this.$img.height(e.hei*this.scaleRate),this.posX=e.pos[0]*this.scaleRate,this.posY=e.pos[1]*this.scaleRate,this.$picBox.addClass("active").css({top:this.posY,left:this.posX}),this.trigger("edit_obj",e)):this.$uploader.trigger("click")},n.prototype.deactive=function(){return $.pep.unbind(this.$picBox),this.render(),n.__super__.deactive.apply(this,arguments)},n.prototype.active=function(){var t;return n.__super__.active.apply(this,arguments),t=this,this.el.addClass("hint"),this.$picBox.pep({useCSSTranslation:!1,shouldEase:!1,constrainTo:"parent",startPos:{top:0,left:0},stop:function(){return null!=this.pos.x&&(t.posX=this.pos.x),null!=this.pos.y?t.posY=this.pos.y:void 0}})},n.prototype.getRect=function(t){var e;return e={},e.x=t.pos[0]*this.scaleRate,e.y=t.pos[1]*this.scaleRate,e.w=t.wid*this.scaleRate,e.h=t.hei*this.scaleRate,e},n.prototype.renderTo=function(t,e,n,i,o,s,a){var l,u;return null!=e.id&&null!=this.imageDict[e.id]?(t.drawImage(this.imageDict[e.id],n,i,o,s),"function"==typeof a?a():void 0):(l=new Image,l.crossOrigin="Anonymous",u=this,l.onload=function(){return u.imageDict[e.id]=this,t.drawImage(this,n,i,o,s),"function"==typeof a?a():void 0},l.src=r.formatSrc(e.src))},n.prototype.renderToDisplay=function(t,e,n){var i;return i=this.getRect(e),this.renderTo(t,e,i.x,i.y,i.w,i.h,n)},n.prototype.renderToSync=function(t,e,n){var i,r;return t.clear(),r=t.ctx,i=this.getRect(e),this.renderTo(r,e,i.x,i.y,i.w,i.h,n),this.rect(r,i.x,i.y,i.w,i.h)},n.prototype.handleImageScaleStart=function(t){return this.$picBox.data("plugin_pep").toggle(!1)},n.prototype.handleImageScaleDragStart=function(t){return this.dragScale=!0},n.prototype.handleImageScaleEnd=function(t){return this.$picBox.data("plugin_pep").toggle(!0)},n.prototype.handleImageScaleDragEnd=function(t){return this.dragScale=!1},n.prototype.handleImageScaleMove=function(t){var e,n,i;return this.dragScale&&(i=t.pageX-this.posX-this.el.offset().left,e=this.$img[0].naturalWidth,n=i/e,n>=.1&&1>=n)?(this.$img.width(this.$img[0].naturalWidth*n),this.$img.height(this.$img[0].naturalHeight*n)):void 0},n.prototype.setupCursor=function(){return this.el.awesomeCursor("thumb-tack",{size:16,hotspot:"center center"})},n}(i),"undefined"!=typeof e&&null!==e&&(e.exports=o)},{"../../../models/image":71,"../lib/pep.js":20,"../models/utils_module":27,"./abstract_edit_layer":12,"./picture.jade":15}],17:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<div class="textarea als"><ul class="ta-sider list-unstyled"><li data-v=\'1\' class="fs"><i class="fa fa-plus-square-o"></i></li><li data-v=\'-1\' class="fs"><i class="fa fa-minus-square-o"></i></li></ul><textarea rows="5" name="comment" requred="required"></textarea><div class="ta-footer text-center"><span>按住此处可拖动</span></div></div>'),e.join("")}},{"jade/runtime":136}],18:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o){r?n.push("<div"+i.attr("style","width:"+o+"px;",!0,!1)+' class="cal-h"><span'+i.attr("style","white-space: pre-wrap;font-size:"+r+"px;",!0,!1)+' class="cal-w">'+i.escape(null==(e=t)?"":e)+"</span></div>"):n.push('<div class="textarea oute"><div'+i.attr("style","width:"+o+"px;",!0,!1)+' class="cal-h"><span style="white-space: pre-wrap;" class="cal-w">'+i.escape(null==(e=t)?"":e)+"</span></div></div>")}.call(this,"content"in r?r.content:"undefined"!=typeof content?content:void 0,"fontSize"in r?r.fontSize:"undefined"!=typeof fontSize?fontSize:void 0,"width"in r?r.width:"undefined"!=typeof width?width:void 0),n.join("")}},{"jade/runtime":136}],19:[function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("./abstract_edit_layer"),o=t("../models/utils_module"),t("../lib/pep.js"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.maxWidth=this.viewSize[0],this.maxHeight=this.viewSize[1]}return s(n,e),n.include(o.Text),n.include(o.Shape),n.prototype.className="text-edit-layer edit-layer",n.prototype.layerType="T",n.prototype.lineHeightR=1.3,n.prototype.fontSize=16,n.prototype.textWidth=250,n.prototype.imageDict={},n.prototype.scaleRate=1,n.prototype.no_auto=!0,n.prototype.elements={".textarea":"$textarea",textarea:"$textInput"},n.prototype.events={click:"blurTextArea","keyup textarea":"onEditing","click .ta-sider .fs":"handleFontSize"},n.prototype.render=function(){return this.html(t("./text.jade")())},n.prototype.setup=function(t){return t.append(this.el),setTimeout(function(t){return function(){return t.setupCursor()}}(this),5e3)},n.prototype.onEditing=function(t){var e,n,i,r,o;return e=$(t.currentTarget),r=this.$textarea.data("posX")||0,o=this.$textarea.data("posY")||0,i=$.trim(e.val()),n=this.addOne(r,o,i),this.trigger("editing",n)},n.prototype.onEditEnd=function(t){return this.deactive(),this.active()},n.prototype.addOne=function(t,e,n){var i,r;return r=this.calTextRectSize(n),i={te:n,x:t/this.scaleRate,y:e/this.scaleRate,si:this.fontSize+"px",hei:r[1],wid:r[0],co:this.color||"#333333",ty:this.layerType}},n.prototype.handleEditing=function(t){var e;return t.objs.length?(e=t.objs[0],this.reset(e),this.showTextEditBy(e.x*this.scaleRate,e.y*this.scaleRate),this.trigger("edit_obj",e)):this.showTextEditBy(t.x*this.scaleRate,t.y*this.scaleRate)},n.prototype.deactive=function(){var t,e,i,r,o;return r=this.$textarea.data("posX")||0,o=this.$textarea.data("posY")||0,i=$.trim(this.$textInput.val()),""!==i&&(t=this.addOne(r,o,i),(e=this.$textarea.data().id)&&(t.id=e),this.trigger("edit_end",t)),$.pep.unbind(this.$textarea),this.render(),n.__super__.deactive.apply(this,arguments)},n.prototype.active=function(){var t;return n.__super__.active.apply(this,arguments),t=this,this.$textarea.hasClass("active")?void 0:(this.reset(),this.$textarea.pep({shouldEase:!1,constrainTo:"parent",shouldPreventDefault:!1,elementsWithInteraction:"textarea",stop:function(){return t.$textarea.data("posX",this.pos.x),t.$textarea.data("posY",this.pos.y),t.$textInput.trigger("keyup")}}))},n.prototype.getRect=function(t){var e;return e={},e.x=t.x*this.scaleRate,e.y=t.y*this.scaleRate,e.w=t.wid*this.scaleRate,e.h=t.hei*this.scaleRate,e},n.prototype.renderTo=function(t,e,n,i,r,o,s){var a,l;return l=e.id,null!=l&&null!=this.imageDict[l]?(t.drawImage(this.imageDict[l],n,i,r,o),"function"==typeof s?s():void 0):(a=parseInt(parseInt(e.si,10)*this.scaleRate,10),this.html2DataUrl({html:e.te,width:r,height:o,size:a,color:e.co,callback:function(e){return function(a){return t.drawImage(a,n,i,r,o),e.imageDict[l]=a,a=null,"function"==typeof s?s():void 0}}(this)}))},n.prototype.renderToDisplay=function(t,e,n){var i;return i=this.getRect(e),this.renderTo(t,e,i.x,i.y,i.w,i.h,n)},n.prototype.renderToSync=function(t,e,n){var i,r;return t.clear(),r=t.ctx,i=this.getRect(e),this.renderTo(r,e,i.x,i.y,i.w,i.h,n),this.rect(r,i.x,i.y,i.w,i.h)},n.prototype.setColor=function(t){return this.color=t,this.$textInput.css({color:this.color})},n.prototype.reset=function(t){return this.$textInput.css({fontSize:this.fontSize,width:this.textWidth,color:this.color}),null!=t?(this.$textInput.val(t.te),this.$textarea.data("id",t.id),this.imageDict[t.id]=null):void 0},n.prototype.scale=function(t){return this.scaleRate=t,this.imageDict={},this.$textarea.removeClass("active"),this.reset(),n.__super__.scale.call(this,this.scaleRate)},n.prototype.calTextRectSize=function(e){var n,i,r;return i=parseInt(this.$textInput.css("width"),10),this.$textarea.append(t("./text_cal.jade")({content:e,width:i,fontSize:this.fontSize})),r=$(".cal-w",this.el).width()+3,n=$(".cal-w",this.el).height()+3,$(".cal-h",this.el).remove(),[Math.min(i,r),n]},n.prototype.calTextHeight=function(e,n){var i;return $("body").append(t("./text_cal.jade")({content:e,width:n})),i=$(".oute .cal-w",this.el).height(),$(".oute",this.el).remove(),i},n.prototype.blurTextArea=function(t){var e;return t.preventDefault(),t.stopPropagation(),$(t.target).hasClass("text-edit-layer")?this.$textarea.hasClass("active")?this.onEditEnd():(e={ty:this.layerType,x:t.offsetX/this.scaleRate,y:t.offsetY/this.scaleRate},this.trigger("edit_start",e)):void 0},n.prototype.showTextEditBy=function(t,e){var n;return this.maxWidth-t<this.textWidth&&(t=this.maxWidth-this.textWidth),n=parseInt(this.$textarea.css("height"),10),this.maxHeight-e<n&&(e=this.maxHeight-n),this.$textarea.addClass("active"),this.$textarea.css({top:e,left:t}),this.$textarea.data("posX",t),this.$textarea.data("posY",e),this.$textInput.focus()},n.prototype.updateViewHeight=function(t){return n.__super__.updateViewHeight.apply(this,arguments),this.maxWidth=this.viewSize[0]*this.scaleRate,this.maxHeight=this.viewSize[1]*this.scaleRate},n.prototype.handleFontSize=function(t){var e;return e=$(t.currentTarget).data().v,this.fontSize>27&&e>0||this.fontSize<13&&0>e?void 0:(this.fontSize=this.fontSize+e,this.$textInput.css({fontSize:this.fontSize}))},n.prototype.setupCursor=function(){return this.el.awesomeCursor("i-cursor",{size:16,hotspot:"center top"})},n}(i),"undefined"!=typeof e&&null!==e&&(e.exports=r)},{"../lib/pep.js":20,"../models/utils_module":27,"./abstract_edit_layer":12,"./text.jade":17,"./text_cal.jade":18}],20:[function(t,e,n){!function(t,e,n){"use strict";function i(e,n){return this.name=r,this.el=e,this.$el=t(e),this.options=t.extend({},o,n),this.$document=t(this.$el[0].ownerDocument),this.$body=this.$document.find("body"),this.moveTrigger="MSPointerMove pointermove touchmove mousemove",this.startTrigger="MSPointerDown pointerdown touchstart mousedown",this.stopTrigger="MSPointerUp pointerup touchend mouseup",this.startTriggerArray=this.startTrigger.split(" "),this.moveTriggerArray=this.moveTrigger.split(" "),this.stopTriggerArray=this.stopTrigger.split(" "),this.stopEvents=[this.stopTrigger,this.options.stopEvents].join(" "),"window"===this.options.constrainTo?this.$container=this.$document:this.options.constrainTo&&"parent"!==this.options.constrainTo?this.$container=t(this.options.constrainTo):this.$container=this.$el.parent(),this.isPointerEventCompatible()&&this.applyMSDefaults(),this.CSSEaseHash=this.getCSSEaseHash(),this.scale=1,this.started=!1,this.disabled=!1,this.activeDropRegions=[],this.resetVelocityQueue(),this.init(),this}var r="pep",o={
initiate:function(){},start:function(){},drag:function(){},stop:function(){},easing:null,rest:function(){},moveTo:!1,callIfNotStarted:["stop","rest"],startThreshold:[0,0],grid:[1,1],debug:!1,activeClass:"pep-active",multiplier:1,velocityMultiplier:2.5,shouldPreventDefault:!0,allowDragEventPropagation:!0,stopEvents:"",hardwareAccelerate:!0,useCSSTranslation:!0,disableSelect:!0,cssEaseString:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",cssEaseDuration:1e3,shouldEase:!0,droppable:!1,droppableActiveClass:"pep-dpa",overlapFunction:!1,constrainTo:!1,removeMargins:!0,place:!0,deferPlacement:!1,axis:null,forceNonCSS3Movement:!1,elementsWithInteraction:"input",revert:!1,revertAfter:"stop",revertIf:function(){return!0},ignoreRightClick:!0,startPos:{left:null,top:null},useBoundingClientRect:!1};i.prototype.init=function(){this.options.debug&&this.buildDebugDiv(),this.options.disableSelect&&this.disableSelect(),this.options.place&&!this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.ev={},this.pos={},this.subscribe()},i.prototype.subscribe=function(){var t=this;this.onStartEvent=function(e){t.handleStart(e)},this.$el.on(this.startTrigger,this.onStartEvent),this.onStartEventOnElementsWithInteraction=function(t){t.ignorePropagation=!0},this.$el.on(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.onStopEvents=function(e){t.handleStop(e)},this.$document.on(this.stopEvents,this.onStopEvents),this.onMoveEvents=function(e){t.moveEvent=e},this.$document.on(this.moveTrigger,this.onMoveEvents)},i.prototype.unsubscribe=function(){this.$el.off(this.startTrigger,this.onStartEvent),this.$el.off(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.$document.off(this.stopEvents,this.onStopEvents),this.$document.off(this.moveTrigger,this.onMoveEvents)},i.prototype.handleStart=function(t){if(!t.ignorePropagation){var e=this;if(this.isValidMoveEvent(t)&&!this.disabled&&(!this.options.ignoreRightClick||3!==t.which)){this.isPointerEventCompatible()&&t.preventManipulation&&t.preventManipulation(),t=this.normalizeEvent(t),this.options.place&&this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.log({type:"event",event:t.type}),this.options.hardwareAccelerate&&!this.hardwareAccelerated&&(this.hardwareAccelerate(),this.hardwareAccelerated=!0);var n=this.options.initiate.call(this,t,this);if(n===!1)return;clearTimeout(this.restTimeout),this.$el.addClass(this.options.activeClass),this.removeCSSEasing(),this.startX=this.ev.x=t.pep.x,this.startY=this.ev.y=t.pep.y,this.initialPosition=this.initialPosition||this.$el.position(),this.startEvent=this.moveEvent=t,this.active=!0,this.options.shouldPreventDefault&&t.preventDefault(),this.options.allowDragEventPropagation||t.stopPropagation(),function i(){e.active&&(e.handleMove(),e.requestAnimationFrame(i))}(),function r(){e.options.easing&&(e.easing&&e.options.easing.call(e,null,e),e.requestAnimationFrame(r))}()}}},i.prototype.handleMove=function(){if("undefined"!=typeof this.moveEvent){var n=this.normalizeEvent(this.moveEvent),i=e.parseInt(n.pep.x/this.options.grid[0])*this.options.grid[0],r=e.parseInt(n.pep.y/this.options.grid[1])*this.options.grid[1];this.addToLIFO({time:n.timeStamp,x:i,y:r});var o,s;if(t.inArray(n.type,this.startTriggerArray)>-1?(o=0,s=0):(o=i-this.ev.x,s=r-this.ev.y),this.dx=o,this.dy=s,this.ev.x=i,this.ev.y=r,0===o&&0===s)return void this.log({type:"event",event:"** stopped **"});var a=Math.abs(this.startX-i),l=Math.abs(this.startY-r);!this.started&&(a>this.options.startThreshold[0]||l>this.options.startThreshold[1])&&(this.started=!0,this.$el.addClass("pep-start"),this.options.start.call(this,this.startEvent,this)),this.doMoveTo(o,s),this.options.droppable&&this.calculateActiveDropRegions();var u=this.options.drag.call(this,n,this);if(u===!1)return void this.resetVelocityQueue();this.log({type:"event",event:n.type}),this.log({type:"event-coords",x:this.ev.x,y:this.ev.y}),this.log({type:"velocity"})}},i.prototype.doMoveTo=function(t,e){var n,i,r=this.handleConstraint(t,e);"function"==typeof this.options.moveTo?(n=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,i=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,this.options.constrainTo&&(n=r.x!==!1?r.x:n,i=r.y!==!1?r.y:i),"x"===this.options.axis&&(i=r.y),"y"===this.options.axis&&(n=r.x),this.options.moveTo.call(this,n,i)):this.shouldUseCSSTranslation()?(t=t/this.scale*this.options.multiplier,e=e/this.scale*this.options.multiplier,this.options.constrainTo&&(t=r.x===!1?t:0,e=r.y===!1?e:0),"x"===this.options.axis&&(e=0),"y"===this.options.axis&&(t=0),this.moveToUsingTransforms(t,e)):(n=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,i=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,this.options.constrainTo&&(n=r.x!==!1?r.x:n,i=r.y!==!1?r.y:i),"x"===this.options.axis&&(i=r.y),"y"===this.options.axis&&(n=r.x),this.moveTo(n,i))},i.prototype.handleStop=function(e){this.active&&(this.log({type:"event",event:e.type}),this.active=!1,this.easing=!0,this.$el.removeClass("pep-start").addClass("pep-ease"),this.options.droppable&&this.calculateActiveDropRegions(),(this.started||!this.started&&t.inArray("stop",this.options.callIfNotStarted)>-1)&&this.options.stop.call(this,e,this),this.options.shouldEase?this.ease(e,this.started):this.removeActiveClass(),this.options.revert&&("stop"===this.options.revertAfter||!this.options.shouldEase)&&this.options.revertIf&&this.options.revertIf.call(this)&&this.revert(),this.started=!1,this.resetVelocityQueue())},i.prototype.ease=function(e,n){var i=(this.$el.position(),this.velocity()),r=(this.dt,i.x/this.scale*this.options.multiplier),o=i.y/this.scale*this.options.multiplier,s=this.handleConstraint(r,o,!0);this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash());var a=i.x>0?"+="+r:"-="+Math.abs(r),l=i.y>0?"+="+o:"-="+Math.abs(o);this.options.constrainTo&&(a=s.x!==!1?s.x:a,l=s.y!==!1?s.y:l),"x"===this.options.axis&&(l="+=0"),"y"===this.options.axis&&(a="+=0");var u=!this.cssAnimationsSupported()||this.options.forceNonCSS3Movement;"function"==typeof this.options.moveTo?this.options.moveTo.call(this,a,l):this.moveTo(a,l,u);var c=this;this.restTimeout=setTimeout(function(){c.options.droppable&&c.calculateActiveDropRegions(),c.easing=!1,(n||!n&&t.inArray("rest",c.options.callIfNotStarted)>-1)&&c.options.rest.call(c,e,c),c.options.revert&&"ease"===c.options.revertAfter&&c.options.shouldEase&&c.options.revertIf&&c.options.revertIf.call(c)&&c.revert(),c.removeActiveClass()},this.options.cssEaseDuration)},i.prototype.normalizeEvent=function(t){return t.pep={},this.isTouch(t)?(t.pep.x=t.originalEvent.touches[0].pageX,t.pep.y=t.originalEvent.touches[0].pageY,t.pep.type=t.type):!this.isPointerEventCompatible()&&this.isTouch(t)||(t.pageX?(t.pep.x=t.pageX,t.pep.y=t.pageY):(t.pep.x=t.originalEvent.pageX,t.pep.y=t.originalEvent.pageY),t.pep.type=t.type),t},i.prototype.resetVelocityQueue=function(){this.velocityQueue=new Array(5)},i.prototype.moveTo=function(t,e,n){this.log({type:"delta",x:t,y:e}),n?this.$el.animate({top:e,left:t},0,"easeOutQuad",{queue:!1}):this.$el.stop(!0,!1).css({top:e,left:t})},i.prototype.moveToUsingTransforms=function(t,e){var n=this.matrixToArray(this.matrixString());this.cssX||(this.cssX=this.xTranslation(n)),this.cssY||(this.cssY=this.yTranslation(n)),this.cssX=this.cssX+t,this.cssY=this.cssY+e,this.log({type:"delta",x:t,y:e}),n[4]=this.cssX,n[5]=this.cssY,this.translation=this.arrayToMatrix(n),this.transform(this.translation)},i.prototype.transform=function(t){this.$el.css({"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t,transform:t})},i.prototype.xTranslation=function(t){return t=t||this.matrixToArray(this.matrixString()),parseInt(t[4],10)},i.prototype.yTranslation=function(t){return t=t||this.matrixToArray(this.matrixString()),parseInt(t[5],10)},i.prototype.matrixString=function(){var t=function(t){return!(!t||"none"===t||t.indexOf("matrix")<0)},e="matrix(1, 0, 0, 1, 0, 0)";return t(this.$el.css("-webkit-transform"))&&(e=this.$el.css("-webkit-transform")),t(this.$el.css("-moz-transform"))&&(e=this.$el.css("-moz-transform")),t(this.$el.css("-ms-transform"))&&(e=this.$el.css("-ms-transform")),t(this.$el.css("-o-transform"))&&(e=this.$el.css("-o-transform")),t(this.$el.css("transform"))&&(e=this.$el.css("transform")),e},i.prototype.matrixToArray=function(t){return t.split("(")[1].split(")")[0].split(",")},i.prototype.arrayToMatrix=function(t){return"matrix("+t.join(",")+")"},i.prototype.addToLIFO=function(t){var e=this.velocityQueue;e=e.slice(1,e.length),e.push(t),this.velocityQueue=e},i.prototype.velocity=function(){for(var t=0,e=0,n=0;n<this.velocityQueue.length-1;n++)this.velocityQueue[n]&&(t+=this.velocityQueue[n+1].x-this.velocityQueue[n].x,e+=this.velocityQueue[n+1].y-this.velocityQueue[n].y,this.dt=this.velocityQueue[n+1].time-this.velocityQueue[n].time);return{x:t*this.options.velocityMultiplier,y:e*this.options.velocityMultiplier}},i.prototype.revert=function(){this.shouldUseCSSTranslation()&&this.moveToUsingTransforms(-this.xTranslation(),-this.yTranslation()),this.options.place&&this.moveTo(this.initialPosition.left,this.initialPosition.top)},i.prototype.requestAnimationFrame=function(t){return e.requestAnimationFrame&&e.requestAnimationFrame(t)||e.webkitRequestAnimationFrame&&e.webkitRequestAnimationFrame(t)||e.mozRequestAnimationFrame&&e.mozRequestAnimationFrame(t)||e.oRequestAnimationFrame&&e.mozRequestAnimationFrame(t)||e.msRequestAnimationFrame&&e.msRequestAnimationFrame(t)||e.setTimeout(t,1e3/60)},i.prototype.positionParent=function(){this.options.constrainTo&&!this.parentPositioned&&(this.parentPositioned=!0,"parent"===this.options.constrainTo?this.$container.css({position:"relative"}):"window"===this.options.constrainTo&&"#document"!==this.$container.get(0).nodeName&&"static"!==this.$container.css("position")&&this.$container.css({position:"static"}))},i.prototype.placeObject=function(){this.objectPlaced||(this.objectPlaced=!0,this.offset="parent"===this.options.constrainTo||this.hasNonBodyRelative()?this.$el.position():this.$el.offset(),parseInt(this.$el.css("left"),10)&&(this.offset.left=this.$el.css("left")),"number"==typeof this.options.startPos.left&&(this.offset.left=this.options.startPos.left),parseInt(this.$el.css("top"),10)&&(this.offset.top=this.$el.css("top")),"number"==typeof this.options.startPos.top&&(this.offset.top=this.options.startPos.top),this.options.removeMargins&&this.$el.css({margin:0}),this.$el.css({position:"absolute",top:this.offset.top,left:this.offset.left}))},i.prototype.hasNonBodyRelative=function(){return this.$el.parents().filter(function(){var e=t(this);return e.is("body")||"relative"===e.css("position")}).length>1},i.prototype.setScale=function(t){this.scale=t},i.prototype.setMultiplier=function(t){this.options.multiplier=t},i.prototype.removeCSSEasing=function(){this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash(!0))},i.prototype.disableSelect=function(){this.$el.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})},i.prototype.removeActiveClass=function(){this.$el.removeClass([this.options.activeClass,"pep-ease"].join(" "))},i.prototype.handleConstraint=function(e,i,r){var o=this.$el.position();this.pos.x=o.left,this.pos.y=o.top;var s,a,l,u,c={x:!1,y:!1};return this.log({type:"pos-coords",x:this.pos.x,y:this.pos.y}),t.isArray(this.options.constrainTo)?(this.options.constrainTo[3]!==n&&this.options.constrainTo[1]!==n&&(a=this.options.constrainTo[1]===!1?1/0:this.options.constrainTo[1],l=this.options.constrainTo[3]===!1?-(1/0):this.options.constrainTo[3]),this.options.constrainTo[0]!==!1&&this.options.constrainTo[2]!==!1&&(s=this.options.constrainTo[2]===!1?1/0:this.options.constrainTo[2],u=this.options.constrainTo[0]===!1?-(1/0):this.options.constrainTo[0]),this.pos.x+e<l&&(c.x=l),this.pos.y+i<u&&(c.y=u)):"string"==typeof this.options.constrainTo&&(l=0,u=0,a=this.$container.width()-(this.options.useBoundingClientRect?this.$el[0].getBoundingClientRect().width:this.$el.outerWidth()),s=this.$container.height()-(this.options.useBoundingClientRect?this.$el[0].getBoundingClientRect().height:this.$el.outerHeight()),this.pos.x+e<0&&(c.x=0),this.pos.y+i<0&&(c.y=0)),this.pos.x+e>a&&(c.x=a),this.pos.y+i>s&&(c.y=s),this.shouldUseCSSTranslation()&&r&&(c.x===l&&this.xTranslation()&&(c.x=l-this.xTranslation()),c.x===a&&this.xTranslation()&&(c.x=a-this.xTranslation()),c.y===u&&this.yTranslation()&&(c.y=u-this.yTranslation()),c.y===s&&this.yTranslation()&&(c.y=s-this.yTranslation())),c},i.prototype.getCSSEaseHash=function(t){"undefined"==typeof t&&(t=!1);var e;if(t)e="";else{if(this.CSSEaseHash)return this.CSSEaseHash;e=["all",this.options.cssEaseDuration+"ms",this.options.cssEaseString].join(" ")}return{"-webkit-transition":e,"-moz-transition":e,"-ms-transition":e,"-o-transition":e,transition:e}},i.prototype.calculateActiveDropRegions=function(){var e=this;this.activeDropRegions.length=0,t.each(t(this.options.droppable),function(n,i){var r=t(i);e.isOverlapping(r,e.$el)?(r.addClass(e.options.droppableActiveClass),e.activeDropRegions.push(r)):r.removeClass(e.options.droppableActiveClass)})},i.prototype.isOverlapping=function(t,e){if(this.options.overlapFunction)return this.options.overlapFunction(t,e);var n=t[0].getBoundingClientRect(),i=e[0].getBoundingClientRect();return!(n.right<i.left||n.left>i.right||n.bottom<i.top||n.top>i.bottom)},i.prototype.isTouch=function(t){return t.type.search("touch")>-1},i.prototype.isPointerEventCompatible=function(){return"MSPointerEvent"in e},i.prototype.applyMSDefaults=function(t){this.$el.css({"-ms-touch-action":"none","touch-action":"none","-ms-scroll-chaining":"none","-ms-scroll-limit":"0 0 0 0"})},i.prototype.isValidMoveEvent=function(t){return!this.isTouch(t)||this.isTouch(t)&&t.originalEvent&&t.originalEvent.touches&&1===t.originalEvent.touches.length},i.prototype.shouldUseCSSTranslation=function(){if(this.options.forceNonCSS3Movement)return!1;if("undefined"!=typeof this.useCSSTranslation)return this.useCSSTranslation;var t=!1;return t=this.options.useCSSTranslation&&("undefined"==typeof Modernizr||Modernizr.csstransforms),this.useCSSTranslation=t,t},i.prototype.cssAnimationsSupported=function(){if("undefined"!=typeof this.cssAnimationsSupport)return this.cssAnimationsSupport;if("undefined"!=typeof Modernizr&&Modernizr.cssanimations)return this.cssAnimationsSupport=!0,!0;var t=!1,e=document.createElement("div"),i="animation",r="",o="Webkit Moz O ms Khtml".split(" "),s="";if(e.style.animationName&&(t=!0),t===!1)for(var a=0;a<o.length;a++)if(e.style[o[a]+"AnimationName"]!==n){s=o[a],i=s+"Animation",r="-"+s.toLowerCase()+"-",t=!0;break}return this.cssAnimationsSupport=t,t},i.prototype.hardwareAccelerate=function(){this.$el.css({"-webkit-perspective":1e3,perspective:1e3,"-webkit-backface-visibility":"hidden","backface-visibility":"hidden"})},i.prototype.getMovementValues=function(){return{ev:this.ev,pos:this.pos,velocity:this.velocity()}},i.prototype.buildDebugDiv=function(){var e;0===t("#pep-debug").length&&(e=t("<div></div>"),e.attr("id","pep-debug").append("<div style='font-weight:bold; background: red; color: white;'>DEBUG MODE</div>").append("<div id='pep-debug-event'>no event</div>").append("<div id='pep-debug-ev-coords'>event coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-pos-coords'>position coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-velocity'>velocity: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-delta'>&Delta; movement: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").css({position:"fixed",bottom:5,right:5,zIndex:99999,textAlign:"right",fontFamily:"Arial, sans",fontSize:10,border:"1px solid #DDD",padding:"3px",background:"white",color:"#333"}));var n=this;setTimeout(function(){n.debugElements={$event:t("#pep-debug-event"),$velocityX:t("#pep-debug-velocity .pep-x"),$velocityY:t("#pep-debug-velocity .pep-y"),$dX:t("#pep-debug-delta .pep-x"),$dY:t("#pep-debug-delta .pep-y"),$evCoordsX:t("#pep-debug-ev-coords .pep-x"),$evCoordsY:t("#pep-debug-ev-coords .pep-y"),$posCoordsX:t("#pep-debug-pos-coords .pep-x"),$posCoordsY:t("#pep-debug-pos-coords .pep-y")}},0),t("body").append(e)},i.prototype.log=function(t){if(this.options.debug)switch(t.type){case"event":this.debugElements.$event.text(t.event);break;case"pos-coords":this.debugElements.$posCoordsX.text(t.x),this.debugElements.$posCoordsY.text(t.y);break;case"event-coords":this.debugElements.$evCoordsX.text(t.x),this.debugElements.$evCoordsY.text(t.y);break;case"delta":this.debugElements.$dX.text(t.x),this.debugElements.$dY.text(t.y);break;case"velocity":var e=this.velocity();this.debugElements.$velocityX.text(Math.round(e.x)),this.debugElements.$velocityY.text(Math.round(e.y))}},i.prototype.toggle=function(t){"undefined"==typeof t?this.disabled=!this.disabled:this.disabled=!t},t.extend(t.easing,{easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeOutExpo:function(t,e,n,i,r){return e===r?n+i:i*(-Math.pow(2,-10*e/r)+1)+n}}),t.fn[r]=function(e){return this.each(function(){if(!t.data(this,"plugin_"+r)){var n=new i(this,e);t.data(this,"plugin_"+r,n),t.pep.peps.push(n)}})},t.pep={},t.pep.peps=[],t.pep.toggleAll=function(e){t.each(this.peps,function(t,n){n.toggle(e)})},t.pep.unbind=function(t){var e=t.data("plugin_"+r);"undefined"!=typeof e&&(e.toggle(!1),e.unsubscribe(),t.removeData("plugin_"+r))}}(jQuery,window)},{}],21:[function(t,e,n){var i,r=function(t,e){return function(){return t.apply(e,arguments)}};t("./whammy.js"),i=function(){function t(t,e,n){this.drawCanvasFrame=r(this.drawCanvasFrame,this);var i,o;o=e||t.width(),i=n||t.height(),this.$canvasGroup=t.find("canvas"),this.newCanvas=document.createElement("canvas"),this.context=this.newCanvas.getContext("2d"),this.newCanvas.width=o*window.devicePixelRatio,this.newCanvas.height=i*window.devicePixelRatio,this.lastTime=(new Date).getTime(),this.whammy=new Whammy.Video,this.y=0}return t.prototype.isRecording=!1,t.prototype.config={frameInterval:15},t.prototype.cloneCanvas=function(){var t,e,n,i;for(this.context.fillStyle="#fff",this.context.fillRect(0,0,this.newCanvas.width,this.newCanvas.height),i=this.$canvasGroup,e=0,n=i.length;n>e;e++)t=i[e],this.context.drawImage(t,0,-this.y);return this.newCanvas},t.prototype.drawCanvasFrame=function(){var t;t=(new Date).getTime()-this.lastTime,this.lastTime=(new Date).getTime(),this.whammy.add(this.cloneCanvas().toDataURL("image/webp",.8),t),this.isRecording&&setTimeout(this.drawCanvasFrame,this.config.frameInterval)},t.prototype.record=function(){return this.isRecording=!0,this.lastTime=(new Date).getTime(),this.drawCanvasFrame()},t.prototype.stop=function(t){return this.isRecording=!1,this.whammy.compile(function(e){return function(n){return t(n),e.whammy.frames=[]}}(this))},t}(),e.exports=i},{"./whammy.js":23}],22:[function(t,e,n){!function(t,i){"object"==typeof n?e.exports=i(t,t.document):"function"==typeof define&&define.amd?define(function(){return i(t,t.document)}):t.Sketch=i(t,t.document)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t){return"[object Array]"==Object.prototype.toString.call(t)}function i(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"string"==typeof t}function s(t){return k[t]||String.fromCharCode(t)}function a(t,e,n){for(var i in e)!n&&i in t||(t[i]=e[i]);return t}function l(t,e){return function(){t.apply(e,arguments)}}function u(t){var e={};for(var n in t)"webkitMovementX"!==n&&"webkitMovementY"!==n&&(i(t[n])?e[n]=l(t[n],t):e[n]=t[n]);return e}function c(t){function e(e){i(e)&&e.apply(t,[].splice.call(arguments,1))}function n(t){for(D=0;D<tt.length;D++)R=tt[D],o(R)?P[(t?"add":"remove")+"EventListener"].call(P,R,E,!1):i(R)?E=R:P=R}function r(){L(T),T=j(r),Q||(e(t.setup),Q=i(t.setup)),X||(e(t.resize),X=i(t.resize)),t.running&&!Y&&(t.dt=(N=+new Date)-t.now,t.millis+=t.dt,t.now=N,e(t.update),K&&(t.retina&&(t.save(),t.scale(G,G)),t.autoclear&&t.clear()),e(t.draw),K&&t.retina&&t.restore()),Y=++Y%t.interval}function l(){P=Z?t.style:t.canvas,I=Z?"px":"",H=t.width,W=t.height,t.fullscreen&&(W=t.height=_.innerHeight,H=t.width=_.innerWidth),t.retina&&K&&G&&(P.style.height=W+"px",P.style.width=H+"px",H*=G,W*=G),P.height!==W&&(P.height=W+I),P.width!==H&&(P.width=H+I),Q&&e(t.resize)}function c(e,n){return $=n.getBoundingClientRect(),e.x=e.pageX-$.left-(_.scrollX||_.pageXOffset),e.y=e.pageY-$.top-(_.scrollY||_.pageYOffset),t.retina&&K&&G&&(e.x*=G,e.y*=G),e}function d(e,n){return c(e,t.element),n=n||{},n.ox=n.x||e.x,n.oy=n.y||e.y,n.x=e.x,n.y=e.y,n.dx=n.x-n.ox,n.dy=n.y-n.oy,n}function p(t){if(t.preventDefault(),M=u(t),M.originalEvent=t,M.touches)for(V.length=M.touches.length,D=0;D<M.touches.length;D++)V[D]=d(M.touches[D],V[D]);else V.length=0,V[0]=d(M,J);return a(J,V[0],!0),M}function h(n){for(n=p(n),z=(U=tt.indexOf(q=n.type))-1,t.dragging=/down|start/.test(q)?!0:/up|end/.test(q)?!1:t.dragging;z;)o(tt[z])?e(t[tt[z--]],n):o(tt[U])?e(t[tt[U++]],n):z=0}function f(n){F=n.keyCode,B="keyup"==n.type,et[F]=et[s(F)]=!B,e(t[n.type],n)}function v(n){t.autopause&&("blur"==n.type?x:g)(),e(t[n.type],n)}function g(){t.now=+new Date,t.running=!0}function x(){t.running=!1}function C(){(t.running?x:g)()}function O(){K&&t.clearRect(0,0,t.width,t.height)}function S(){A=t.element.parentNode,D=w.indexOf(t),A&&A.removeChild(t.element),~D&&w.splice(D,1),n(!1),x()}var T,E,P,A,$,D,I,N,R,M,q,F,B,z,U,H,W,Y=0,V=[],X=!1,Q=!1,G=_.devicePixelRatio||1,Z=t.type==m,K=t.type==y,J={x:0,y:0,ox:0,oy:0,dx:0,dy:0},tt=[t.eventTarget||t.element,h,"mousedown","touchstart",h,"mousemove","touchmove",h,"mouseup","touchend",h,"click",h,"mouseout",h,"mouseover",b,f,"keydown","keyup",_,v,"focus","blur",l,"resize"],et={};for(F in k)et[k[F]]=!1;return a(t,{touches:V,mouse:J,keys:et,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:S,toggle:C,clear:O,start:g,stop:x}),w.push(t),t.autostart&&g(),n(!0),l(),r(),t}for(var d,p,h="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),f="__hasSketch",v=Math,y="canvas",g="webgl",m="dom",b=e,_=t,w=[],x={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:b.body,interval:1,globals:!0,retina:!1,type:y},k={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},C={CANVAS:y,WEB_GL:g,WEBGL:g,DOM:m,instances:w,install:function(t){if(!t[f]){for(var e=0;e<h.length;e++)t[h[e]]=v[h[e]];a(t,{TWO_PI:2*v.PI,HALF_PI:v.PI/2,QUARTER_PI:v.PI/4,random:function(t,e){return n(t)?t[~~(v.random()*t.length)]:(r(e)||(e=t||1,t=0),t+v.random()*(e-t))},lerp:function(t,e,n){return t+n*(e-t)},map:function(t,e,n,i,r){return(t-e)/(n-e)*(r-i)+i}}),t[f]=!0}},create:function(t){return t=a(t||{},x),t.globals&&C.install(self),d=t.element=t.element||b.createElement(t.type===m?"div":"canvas"),p=t.context=t.context||function(){switch(t.type){case y:return d.getContext("2d",t);case g:return d.getContext("webgl",t)||d.getContext("experimental-webgl",t);case m:return d.canvas=d}}(),(t.container||b.body).appendChild(d),C.augment(p,t)},augment:function(t,e){return e=a(e||{},x),e.element=t.canvas||t,e.element.className+=" sketch",a(t,e,!0),c(t)}},O=["ms","moz","webkit","o"],S=self,T=0,E="AnimationFrame",P="request"+E,A="cancel"+E,j=S[P],L=S[A],$=0;$<O.length&&!j;$++)j=S[O[$]+"Request"+E],L=S[O[$]+"Cancel"+E];return S[P]=j=j||function(t){var e=+new Date,n=v.max(0,16-(e-T)),i=setTimeout(function(){t(e+n)},n);return T=e+n,i},S[A]=L=L||function(t){clearTimeout(t)},C})},{}],23:[function(t,e,n){window.Whammy=function(){function t(t){this.frames=[],this.duration=t||1,this.quality=.8}function e(t){var e=URL.createObjectURL(new Blob([t.toString(),"this.onmessage =  function (e) {"+t.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(e);return URL.revokeObjectURL(e),n}function n(t){function e(t){var e=i(t);if(!e)return[];for(var r=3e4,o=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:p(e.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:e.width,id:176},{data:e.height,id:186}]}]}]}]}],s=0,l=0;s<t.length;){var u=[],c=0;do u.push(t[s]),c+=t[s].duration,s++;while(s<t.length&&r>c);var d=0,h={id:524531317,data:n(l,d,u)};o[1].data.push(h),l+=c}return a(o)}function n(t,e,n){return[{data:t,id:231}].concat(n.map(function(t){var n=l({discardable:0,frame:t.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(e)});return e+=t.duration,{data:n,id:163}}))}function i(t){if(!t[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var e=t[0].width,n=t[0].height,i=t[0].duration,r=1;r<t.length;r++)i+=t[r].duration;return{duration:i,width:e,height:n}}function r(t){for(var e=[];t>0;)e.push(255&t),t>>=8;return new Uint8Array(e.reverse())}function o(t){return new Uint8Array(t.split("").map(function(t){return t.charCodeAt(0)}))}function s(t){var e=[],n=t.length%8?new Array(9-t.length%8).join("0"):"";t=n+t;for(var i=0;i<t.length;i+=8)e.push(parseInt(t.substr(i,8),2));return new Uint8Array(e)}function a(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].data;"object"==typeof i&&(i=a(i)),"number"==typeof i&&(i=s(i.toString(2))),"string"==typeof i&&(i=o(i));var l=i.size||i.byteLength||i.length,u=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),c=l.toString(2),d=new Array(7*u+7+1-c.length).join("0")+c,p=new Array(u).join("0")+"1"+d;e.push(r(t[n].id)),e.push(s(p)),e.push(i)}return new Blob(e,{type:"video/webm"})}function l(t){var e=0;if(t.keyframe&&(e|=128),t.invisible&&(e|=8),t.lacing&&(e|=t.lacing<<1),t.discardable&&(e|=1),t.trackNum>127)throw"TrackNumber > 127 not supported";var n=[128|t.trackNum,t.timecode>>8,255&t.timecode,e].map(function(t){return String.fromCharCode(t)}).join("")+t.frame;return n}function u(t){for(var e=t.RIFF[0].WEBP[0],n=e.indexOf("*"),i=0,r=[];4>i;i++)r[i]=e.charCodeAt(n+3+i);var o,s,a;return a=r[1]<<8|r[0],o=16383&a,a=r[3]<<8|r[2],s=16383&a,{width:o,height:s,data:e,riff:t}}function c(t,e){return parseInt(t.substr(e+4,4).split("").map(function(t){var e=t.charCodeAt(0).toString(2);return new Array(8-e.length+1).join("0")+e}).join(""),2)}function d(t){for(var e=0,n={};e<t.length;){var i=t.substr(e,4),r=c(t,e),o=t.substr(e+4+4,r);e+=8+r,n[i]=n[i]||[],"RIFF"===i||"LIST"===i?n[i].push(d(o)):n[i].push(o)}return n}function p(t){return[].slice.call(new Uint8Array(new Float64Array([t]).buffer),0).map(function(t){return String.fromCharCode(t)}).reverse().join("")}var h=new e(t.map(function(t){var e=u(d(atob(t.image.slice(23))));return e.duration=t.duration,e}));postMessage(h)}return t.prototype.add=function(t,e){this.frames.push({image:t,duration:e||this.duration})},t.prototype.compile=function(t){var i=e(n);i.onmessage=function(e){return e.data.error?void console.error(e.data.error):void t(e.data)},i.postMessage(this.frames)},{Video:t}}()},{}],24:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<div class="progress-loader"><div class="circle-spin"></div><div class="bar"></div></div>'),e.join("")}},{"jade/runtime":136}],25:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.configure("History","id","objs","c_at"),e}(Spine.Model),e.exports=i},{}],26:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=t("shortid"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.configure("Record","id","data","ts","ac"),e.uuid=function(){return r.generate()},e.filterBy=function(t){var e;return e=this.select(function(e){return e.ac===t}),$.map(e,function(t){return t.data})},e.frameByTs=function(t){var e,n,i,r,o;for(e=this.select(function(t){return"Frame"===t.ac}),o=e.reverse(),n=0,i=o.length;i>n;n++)if(r=o[n],r.ts-t<0)return r},e.firstFrameTs=function(){var t;return t=this.select(function(t){return"Frame"===t.ac}),t.length>1?t[1].ts:this.last().ts},e.realPathDataByRange=function(t,e){var n;return n=["Frame","SL","UE","CEnd","TEnd","PEnd","E"],this.select(function(i){return function(i){var r,o,s;return s=n.indexOf(i.ac)>-1,o=t<=(r=i.ts)&&e>=r,s&&o}}(this))},e.parseRealPathByRange=function(t,e){var n,i,r,o,s,a,l,u,c;for(0===t&&(o={},r=i=null),u=this.realPathDataByRange(t,e),n=[],s=0,a=u.length;a>s;s++)switch(l=u[s],l.ac){case"SL":c=l.data;break;case"UE":Array.isArray(l.data)&&n.concat(l.data);break;case"CEnd":case"TEnd":case"PEnd":n.push(l.data);break;case"E":n=$.grep(n,function(t,e){return-1===l.data.indexOf(t.id)});break;case"Frame":0===t?(r=i,i=l.data,r&&(o[r]=n.slice(0)),n=o[i]||[]):n=[]}return 0===t?[n,c,o,i]:[n,c]},e.quizTs=function(){var t,e;return t=this.select(function(t){return"Qz"===t.ac}),e=this.last().ts,$.map(t,function(t){return function(t){var n;return n=(100*t.ts/e).toFixed(1)+"%",{ts:t.ts,hp:n}}}(this))},e}(Spine.Model),e.exports=i},{shortid:144}],27:[function(t,e,n){var i;e.exports=i={},i.Text={html2DataUrl:function(e){var n,i,r,o;return o=t("../svg.jade")({width:e.width,height:e.height,html:e.html||"",color:e.color||"#000",fontSize:e.size||13}),n=new Image,r=new Blob([o],{type:"image/svg+xml;charset=utf-8"}),i=new FileReader,i.readAsDataURL(r),i.onloadend=function(t){return n.src=t.target.result},n.onload=function(){return e.callback(n)}}},i.Download={downloadInnerHtml:function(t,e,n){var i;return i=document.createElement("a"),n=n||"text/plain",i.setAttribute("download",t),i.setAttribute("href","data:"+n+";charset=utf-8,"+encodeURIComponent(e)),i.click()},downloadFile:function(t,e,n){var i;return i=document.createElement("a"),i.setAttribute("download",t),i.setAttribute("href",e),n?i:i.click()}},i.Shape={rect:function(t,e,n,i,r){return t.beginPath(),t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.setLineDash([5,3]),t.rect(e-1,n-1,i+2,r+2),t.strokeStyle="#ff8619",t.stroke()}},i.Path={getBoundingRect:function(t){var e,n,i,r,o,s;return o=$.map(t,function(t){return t[0]}),s=$.map(t,function(t){return t[1]}),i=this.minArray(o),e=this.maxArray(o),r=this.minArray(s),n=this.maxArray(s),[i,r,e,n]},maxArray:function(t){return Math.max.apply(Math,t)},minArray:function(t){return Math.min.apply(Math,t)},drawCurve:function(t,e){var n,i,r,o,s,a,l,u,c;if(null==e&&(e=!1),s=t.scaleRate||1,t._points.length<3)return n=t._points[0],t.beginPath(),t.arc(n[0]*s,n[1]*s,t.lineWidth/2,0,2*Math.PI,!0),t.fill(),void t.closePath();for(e||t.clear(),t.beginPath(),t.moveTo(t._points[0][0]*s,t._points[0][1]*s),o=1;o<t._points.length-2;)i=(t._points[o][0]+t._points[o+1][0])*s/2,r=(t._points[o][1]+t._points[o+1][1])*s/2,t.quadraticCurveTo(t._points[o][0]*s,t._points[o][1]*s,i,r),o++;return a=t._points[o][0]*s,l=t._points[o][1]*s,u=t._points[o+1][0]*s,c=t._points[o+1][1]*s,t.quadraticCurveTo(a,l,u,c),
t.stroke()},rect_x_rect:function(t,e){var n,i,r,o,s,a;return t&&e?(s=function(t,e){return!(t[1]<e[0]||t[0]>e[1])},n=[t.x,t.x+t.width],t.width<0&&(n=[n[1],n[0]]),i=[e.x,e.x+e.width],r=[t.y,t.y+t.height],t.height<0&&(r=[r[1],r[0]]),o=[e.y,e.y+e.height],a=s(n,i)&&s(r,o)):!1}},i.Timer={accurateInterval:function(t,e){var n,i,r,o,s;return i=(new Date).getTime()+t,o=null,"function"==typeof t&&(r=[t,e],e=r[0],t=r[1]),s=function(){return i+=t,o=setTimeout(s,i-(new Date).getTime()),e()},n=function(){return clearTimeout(o)},o=setTimeout(s,i-(new Date).getTime()),{cancel:n}}}},{"../svg.jade":35}],28:[function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=t("./static_canvas"),o=t("../models/utils_module"),s=t("shortid"),i=function(t){function e(t){this.viewSize=t,e.__super__.constructor.apply(this,arguments),this._canvasData=[]}return a(e,t),e.include(o.Path),e.prototype.className="display-layer",e.prototype.zindex=10,e.prototype.refresh=function(){return this._canvasData=[],this.clear()},e.prototype.addObj=function(t){return null==t.id&&(t.id=s.generate()),this._canvasData.push(t)},e.prototype.removeObj=function(t){return this._canvasData=$.grep(this._canvasData,function(e,n){return t.indexOf(e.id)<0})},e.prototype.filterObjs=function(t){return $.grep(this._canvasData,function(e,n){return t.indexOf(e.id)>0})},e.prototype.filterObjsBy=function(t){return $.grep(this._canvasData,function(e){return e.ty===t})},e.prototype.checkCollision=function(t,e){var n,i,r,o,s,a,l,u,c,d,p,h,f,v;for(null==e&&(e=!1),u=t[0],l=t[1],v=[],h=this._canvasData,n=0,r=h.length;r>n;n++)switch(a=h[n],a.ty){case"C":for(f=a.po,i=0,o=f.length;o>i;i++)if(s=f[i],s[0]>=u.x&&s[0]<=l.x&&s[1]>=u.y&&s[1]<=l.y){v.push(a);break}break;case"P":if(e)break;d={x:a.pos[0],y:a.pos[1],width:a.wid,height:a.hei},c={x:u.x,y:u.y,width:l.x-u.x,height:l.y-u.y},this.rect_x_rect(c,d)&&v.push(a);break;case"T":if(e)break;c={x:u.x,y:u.y,width:l.x-u.x,height:l.y-u.y},p={x:a.x,y:a.y,width:a.wid,height:a.hei},this.rect_x_rect(c,p)&&v.push(a)}return v},e}(r),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{"../models/utils_module":27,"./static_canvas":32,shortid:144}],29:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=t("./static_canvas"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.setup=function(t,e){return this.ctx=this.el[0].getContext("2d"),e?this.render():void 0},e}(r),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{"./static_canvas":32}],30:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=t("./static_canvas"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.className="motion-layer",e.prototype.zindex=11,e.prototype.fontSize=16,e.prototype.motion=["bounce","bounceIn","fadeIn","zoomIn","flash","flipInX","flipInY","rollIn"],e.prototype.render=function(){},e.prototype.renderWith=function(t,e,n,i){return window.devicePixelRatio?(this.el[0].width=n*window.devicePixelRatio*this.scaleRate,this.el[0].height=i*window.devicePixelRatio*this.scaleRate,this.el.css("width",n*this.scaleRate),this.el.css("height",i*this.scaleRate),this.el.css("left",t),this.el.css("top",e),this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)):void 0},e.prototype.action=function(t){var e;return e=this.motion[Math.floor(Math.random()*this.motion.length)],this.el.anim(e,function(e){return function(){return e.clear(),"function"==typeof t?t():void 0}}(this))},e}(r),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{"./static_canvas":32}],31:[function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("./static_canvas"),i=t("../../../models/image"),r=function(t){function e(t){this.viewSize=t,e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.className="stage-layer",e.prototype.zindex=7,e.prototype.imageDict={},e.prototype.limitPageNum=50,e.prototype.convert=function(t){var e,n,r,o;return o=this,r=new FileReader,e=this.el.clone(),this.el.after(e),n=e[0].getContext("2d"),r.readAsArrayBuffer(t),r.onload=function(t){return PDFJS.getDocument(t.target.result).then(function(t){var r,s,a,l,u,c;for(a=t.numPages,a>o.limitPageNum&&($flash("已超过文档页数限制:"+o.limitPageNum+"/"+a+", 超出部分将不会被导入",{type:"danger"}),a=o.limitPageNum),o.trigger("convert:start",a),i.destroyAll(),l=async.queue(function(r,s){return t.getPage(r.index).then(function(t){var r,u,c,d;return u=t.getViewport(1),c=e[0].width/u.width,d=t.getViewport(c),r=parseInt(d.height,10),e[0].height=r,t.render({canvasContext:n,viewport:d}).then(function(){var t,n,r;return n=100*(a-l.length()),r=Math.round(n/a),o.trigger("convert:progress",r),t=e[0].toDataURL("image/webp"),i.insert(t,{done:function(t){return s()}})})})},1),l.drain=function(){return e.remove(),o.trigger("convert:end",i.all())},c=[],r=s=1,u=a;u>=1?u>=s:s>=u;r=u>=1?++s:--s)c.push(l.push({index:r}));return c})}},e.prototype.setBg=function(t,e){var n,r,o,s;return n=this.el[0].height/window.devicePixelRatio,s=this.el[0].width/window.devicePixelRatio,o=this,(r=this.imageDict[e])?o.ctx.drawImage(r,0,0,s,n):(r=new Image,r.crossOrigin="Anonymous",$loading.start({container:this.el.parent()}),r.onload=function(){return o.imageDict[e]=this,$loading.stop(o.el.parent()),o.ctx.drawImage(this,0,0,s,n),r=null},t?r.src=i.formatSrc(t):void 0)},e.prototype.preLoad=function(t,e){var n,r,o,s,a,l,u,c;if(null==e&&(e={}),!t.length)return void("function"==typeof e.done&&e.done());for(n=e.$loader||this.el.parent(),$loading.start({container:n,msg:"正在加载文档..."}),c=this,l=async.queue(function(t,e){var n;return n=new Image,n.crossOrigin="Anonymous",n.onload=function(){return c.imageDict[t.id]=this,n=null,e()},n.src=t.url}),r=function(){return $loading.stop(n)},l.drain=function(){return"function"==typeof e.done?e.done(r):void 0},u=[],s=0,a=t.length;a>s;s++)o=t[s],u.push(l.push({url:i.formatSrc(o.bg.url),id:o.id}));return u},e}(o),"undefined"!=typeof e&&null!==e&&(e.exports=r)},{"../../../models/image":71,"./static_canvas":32}],32:[function(t,e,n){var i,r=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=function(t){function e(t){this.clear=r(this.clear,this),this.viewSize=t.slice(0),e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.scaleRate=1,e.prototype.tag="canvas",e.prototype.setup=function(t,e){return t.append(this.el),this.ctx=this.el[0].getContext("2d"),e&&this.render(),this.el.css({zIndex:this.zindex||0})},e.prototype.render=function(){return window.devicePixelRatio?(this.el[0].width=this.viewSize[0]*window.devicePixelRatio*this.scaleRate,this.el[0].height=this.viewSize[1]*window.devicePixelRatio*this.scaleRate,this.el.css("width",this.viewSize[0]*this.scaleRate),this.el.css("height",this.viewSize[1]*this.scaleRate),this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)):void 0},e.prototype.clear=function(){var t,e;return e=this.viewSize[0]*this.scaleRate*window.devicePixelRatio,t=this.viewSize[1]*this.scaleRate*window.devicePixelRatio,this.ctx.clearRect(0,0,e,t)},e.prototype.scale=function(t){this.scaleRate=t},e.prototype.toDataURL=function(){return this.el[0].toDataURL()},e.prototype.updateViewHeight=function(t){return this.viewSize[1]=t,this.render()},e}(Spine.Controller),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{}],33:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.setColor("#333333")}return r(e,t),e.prototype.className="sync-cursor hide",e.prototype.tag="span",e.prototype.pRect=12,e.prototype.scaleRate=1,e.prototype.setup=function(t){return this.html("<i class='fa fa-circle'></i>"),t.append(this.el)},e.prototype.toggle=function(t){return this.el.toggleClass("hide",!t)},e.prototype.scale=function(t){return this.scaleRate=t,this.el.css({transform:"scale("+this.scaleRate+","+this.scaleRate+")"})},e.prototype.setColor=function(t){return this.el.css({color:t})},e.prototype.move=function(t,e){return null==e&&(e=!1),this.el.css({left:t[0]*this.scaleRate-this.pRect/2,top:t[1]*this.scaleRate-this.pRect/2}).toggleClass("in",e)},e}(Spine.Controller),"undefined"!=typeof e&&null!==e&&(e.exports=i)},{}],34:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("./static_canvas"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.className="sync-layer",e.prototype.zindex=11,e.prototype.fontSize=16,e}(i),"undefined"!=typeof e&&null!==e&&(e.exports=r)},{"./static_canvas":32}],35:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a){n.push('<svg xmlns="http://www.w3.org/2000/svg"'+i.attr("width",a,!0,!1)+i.attr("height",o,!0,!1)+'><foreignObject width="100%" height="100%"><pre xmlns="http://www.w3.org/1999/xhtml"'+i.attr("style","color:"+t+";font-size:"+r+"px;font-family:Arial,SimSun,STSong;white-space: pre-wrap;line-height:1.3;word-break:break-word;letter-spacing: 0px;",!0,!1)+">"+(null==(e=s)?"":e)+"</pre></foreignObject></svg>")}.call(this,"color"in r?r.color:"undefined"!=typeof color?color:void 0,"fontSize"in r?r.fontSize:"undefined"!=typeof fontSize?fontSize:void 0,"height"in r?r.height:"undefined"!=typeof height?height:void 0,"html"in r?r.html:"undefined"!=typeof html?html:void 0,"width"in r?r.width:"undefined"!=typeof width?width:void 0),n.join("")}},{"jade/runtime":136}],36:[function(t,e,n){var i,r,o,s,a=function(t,e){return function(){return t.apply(e,arguments)}};s=t("quill"),o=t("../image-uploader/image_editor"),i=t("../../models/image"),r=function(){function e(t,e){var n,i;this.$imageUploader=e,this.handleDoCrop=a(this.handleDoCrop,this),this.hideCropper=a(this.hideCropper,this),this.handleImageUpload=a(this.handleImageUpload,this),this.editor=new s(t,this.opts),this.$imageUploader&&(i=this.editor.getModule("toolbar"),n=this,i.addHandler("image",function(){return n.$imageUploader.off("change"),n.$imageUploader.on("change",function(t){var e;return e=t.target.files[0],n.handleImageUpload(e)}),n.$imageUploader.trigger("click")}))}return e.prototype.opts={modules:{formula:"undefined"!=typeof katex&&null!==katex,toolbar:[{size:["small",!1,"large","huge"]},"bold","italic","underline","blockquote","code-block",{list:"ordered"},{list:"bullet"},{script:"sub"},{script:"super"},{color:[]},{background:[]},{indent:"-1"},{indent:"+1"},{align:[]},"link","image","formula","clean"]},theme:"snow"},e.prototype.handleImageUpload=function(e){var n;if(i.validateSize(e))return n=new FileReader,n.onload=function(e){return function(i){return e.$IEW=$(t("./image_editor.jade")()).appendTo($("body")),e.$IEL=e.$IEW.find(".image-editor-layer"),e.$IEL.on("click",".complete",e.handleDoCrop).on("click",".exit",e.hideCropper),e.imageEditor=new o({el:e.$IEL.find(".panel-body"),data:{aspectRatio:null}}),e.imageEditor.$cropImg.attr("src",n.result).one("load",function(){var t;return $("body").addClass("has-layer-expanded"),null!=(t=e.imageEditor)?t.setup():void 0})}}(this),n.readAsDataURL(e)},e.prototype.hideCropper=function(){var t;return this.$imageUploader.val(""),null!=(t=this.imageEditor)&&t.release(),this.$IEL.off("click"),this.$IEW.remove(),$("body").removeClass("has-layer-expanded")},e.prototype.handleDoCrop=function(t){var e,n;return t.preventDefault(),e=this.imageEditor.getData(),n={x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height),src:this.imageEditor.$cropImg.attr("src")},i.editorUp(n,this.$IEL,function(t){return function(e){return t.hideCropper(),t.editor.insertEmbed(t.editor.getLength()-1,"image",e.src)}}(this))},e.prototype.getContent=function(){return this.editor.getContents()},e.prototype.setContent=function(t){return this.editor.setContents(JSON.parse(t))},e.prototype.empty=function(){return this.editor.setText("")},e.prototype.getHtml=function(t){return this.setContent(t),this.editor.root.innerHTML},e.prototype.isEmpty=function(){return 1===this.editor.getLength()},e.prototype.release=function(){return window.EDITOR_SSE&&window.EDITOR_SSE.instance&&window.EDITOR_SSE.stop(),this.editor=null},e}(),e.exports=r},{"../../models/image":71,"../image-uploader/image_editor":41,"./image_editor.jade":37,quill:142}],37:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={};return r.panel=e=function(t,r){var o=this&&this.block;this&&this.attributes||{};n.push("<div"+i.cls(["panel","panel-"+t],[null,!0])+'><div class="panel-heading"><h3 class="panel-title">'+i.escape(null==(e=r)?"":e)+'</h3></div><div class="panel-body">'),o&&o(),n.push("</div></div>")},n.push('<div class="image-editor-layer-wrap"><div class="expand-backdrop"></div><div class="image-editor-layer"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">编辑图片</h3><span class="btn btn-success btn-sm complete"><i class="fa fa-check"></i><span class="desc">完成</span></span><span class="btn btn-default btn-sm exit"><i class="fa fa-times"></i><span class="desc">取消</span></span></div><div class="panel-body"></div></div></div></div>'),n.join("")}},{"jade/runtime":136}],38:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../modal/confirm_modal"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments),$(document).on("keyup.frameCtrl",function(t){return function(e){var n,i;if(t.data&&!(t.data.total_count<=1||(i=$(e.target),i.is("input,textarea"))))switch(n=e.which){case 37:return t.navTo(t.data.page-1);case 39:return t.navTo(t.data.page+1)}}}(this))}return o(n,e),n.prototype.className="frame-ctrl",n.prototype.opts={prev:0,page:1,total_count:1,next:2},n.prototype.elements={'[data-toggle="tooltip"]':"$tooltip",".slider":"$slider",".new":"$newBtn"},n.prototype.events={"click .new":"newOne","click .frame-nav":"handleNav","shown.bs.popover .slider":"handlePopShow","input .page-slider":"pageSliderChange","click .confirm":"confirmSkipPage","click .close":"hidePop"},n.prototype.render=function(){var e;return null!=(e=this.$slider)&&e.popover("destroy"),this.html(t("./frame_ctrl.jade")(this.data)),this.setupPopover(),this.el},n.prototype.setup=function(t){return this.data=$.extend({},this.opts,t),this.data=$.extend({},this.data,i18n.frame_ctrl),this.data.prev=this.data.page-1,this.data.next=this.data.page+1,this.render()},n.prototype.setupPopover=function(){return this.$slider.popover({html:!0,container:this.el,placement:"bottom",title:"",content:" "})},n.prototype.hidePop=function(){return this.$slider.trigger("click")},n.prototype.handlePopShow=function(e){return this.el.find(".popover-content").html(t("./slider.jade")(this.data))},n.prototype.pageSliderChange=function(t){var e;return e=$(t.currentTarget).val(),$(t.currentTarget).prev().find(".num").text(e)},n.prototype.confirmSkipPage=function(){var t;return t=parseInt($(".page-slider",this.el).val(),10),this.navTo(t)},n.prototype.newOne=function(){return this.trigger("insert")},n.prototype.navTo=function(t){return t>this.data.total_count||1>t?void 0:(this.data.page=t,this.data.prev=t-1,this.data.next=t+1,this.render(),this.trigger("navTo",t))},n.prototype.handleNav=function(t){var e;return e=this.data.page+Number($(t.currentTarget).data().val),this.navTo(e)},n.prototype.removeCurrent=function(){var t,e;return e={title:this.data.removeC(),is_danger:!0},t=new i({data:e}),t.on("confirm",function(e){return function(){return e.trigger("remove",e.data.page),t.hide()}}(this))},n.prototype.toggleNewBtn=function(t){return this.$newBtn.toggleClass("disabled",t)},n.prototype.release=function(){return $(document).off("keyup.frameCtrl"),n.__super__.release.apply(this,arguments)},n}(Spine.Controller),e.exports=r},{"../modal/confirm_modal":50,"./frame_ctrl.jade":39,"./slider.jade":40}],39:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a){n.push('<div class="btn-group">');var l=s>0?[""]:["disabled"];n.push('<span title="prev" data-val="-1"'+i.cls(["btn","frame-nav","btn-default",l],[null,null,null,!0])+'><i class="fa fa-chevron-left"></i></span><span class="btn btn-default slider"><div class="num">'+i.escape(null==(e=o+"/"+a)?"":e)+"</div></span>");var l=a>=r?[""]:["disabled"];n.push('<span title="next" data-val="1"'+i.cls(["btn","frame-nav","btn-default",l],[null,null,null,!0])+'><i class="fa fa-chevron-right"></i></span></div><div class="btn-group"><span class="new btn btn-default"><i class="icon-paper-stack"></i><span class="desc">'+i.escape(null==(e=t())?"":e)+"</span></span></div>")}.call(this,"insert"in r?r.insert:"undefined"!=typeof insert?insert:void 0,"next"in r?r.next:"undefined"!=typeof next?next:void 0,"page"in r?r.page:"undefined"!=typeof page?page:void 0,"prev"in r?r.prev:"undefined"!=typeof prev?prev:void 0,"total_count"in r?r.total_count:"undefined"!=typeof total_count?total_count:void 0),n.join("")}},{"jade/runtime":136}],40:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a){n.push('<div class="s-header clearfix"><div class="pull-left">'+i.escape(null==(e=o())?"":e)+'<span class="num">'+i.escape(null==(e=t)?"":e)+"</span>"+i.escape(null==(e=r())?"":e)+'</div><span class="close pull-right"><i class="fa fa-times"></i></span></div><input type="range" min="1"'+i.attr("max",a,!0,!1)+i.attr("value",t,!0,!1)+' step="1" tabindex="-1" class="page-slider"/><div class="action text-center"><span class="btn btn-ebs confirm btn-xs btn-block">'+i.escape(null==(e=s())?"":e)+"</span></div>")}.call(this,"page"in r?r.page:"undefined"!=typeof page?page:void 0,"pageE"in r?r.pageE:"undefined"!=typeof pageE?pageE:void 0,"pageP"in r?r.pageP:"undefined"!=typeof pageP?pageP:void 0,"skip"in r?r.skip:"undefined"!=typeof skip?skip:void 0,"total_count"in r?r.total_count:"undefined"!=typeof total_count?total_count:void 0),n.join("")}},{"jade/runtime":136}],41:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;t("cropper"),i=t("../camera-snap/image_filter"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.render()}return o(n,e),n.prototype.className="image-editor",n.prototype.opts={aspectRatio:1,zoomable:!0,checkImageOrigin:!1,dragMode:"move",preview:".cropper-preview"},n.prototype.elements={".cropper-wrap > img":"$cropImg",'[data-toggle="tooltip"]':"$tooltip"},n.prototype.events={"click .rotate-ctrl .btn":"handleRotate","click .zoom-ctrl .btn":"handleZoom"},n.prototype.render=function(){return this.html(t("./image_editor.jade")())},n.prototype.setup=function(){return this.$tooltip.tooltip({container:this.el}),this.$cropImg.cropper(this.data)},n.prototype.getData=function(){return this.$cropImg.cropper("getData")},n.prototype.release=function(){return this.$cropImg.cropper("destroy"),this.$tooltip.tooltip("destroy"),n.__super__.release.apply(this,arguments)},n.prototype.handleRotate=function(t){var e;return e=Number($(t.currentTarget).data().deg),this.$cropImg.cropper("rotate",e)},n.prototype.handleZoom=function(t){var e;return e=Number($(t.currentTarget).data().zoom),this.$cropImg.cropper("zoom",e)},n.prototype.getFilterData=function(){var t,e;return t=this.$cropImg.cropper("getCroppedCanvas"),e=i.filterImage(i.sharpen,t),t.getContext("2d").putImageData(e,0,0),t},n}(Spine.Controller),e.exports=r},{"../camera-snap/image_filter":3,"./image_editor.jade":42,cropper:133}],42:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<div class="form-group img-toolbar"><div class="btn-group rotate-ctrl"><span title="向左旋转" data-toggle="tooltip" data-deg="-45" class="btn btn-default btn-sm"><i class="fa fa-rotate-left"></i></span><span title="向右旋转" data-toggle="tooltip" data-deg="45" class="btn btn-default btn-sm"><i class="fa fa-rotate-right"></i></span></div><div class="btn-group zoom-ctrl"><span title="放大" data-toggle="tooltip" data-zoom="0.1" class="btn btn-default btn-sm"><i class="fa fa-search-plus"></i></span><span title="缩小" data-toggle="tooltip" data-zoom="-0.1" class="btn btn-default btn-sm"><i class="fa fa-search-minus"></i></span></div></div><div class="form-group clearfix"><div class="cropper-wrap pull-left"><img src="" class="hide"/></div><div class="cropper-preview pull-left"></div></div>'),e.join("")}},{"jade/runtime":136}],43:[function(t,e,n){var i,r,o,s=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=t("./image_editor"),i=t("../../models/image"),o=function(e){function n(){this.showCropper=s(this.showCropper,this),n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.render()}return a(n,e),n.prototype.className="image-uploader",n.prototype.opts={preview_url:null},n.prototype.elements={".veg-uploader":"$uploader",".preview":"$uploadBtn",".image-crop":"$cropper",".image-crop .editor":"$cropperEditor",".preview > img":"$previewImg"},n.prototype.events={"click .preview":"doUpload","change .veg-uploader":"handleUpload","click .image-crop .confirm":"doCrop"},n.prototype.render=function(){return this.html(t("./image_uploader.jade")(this.data))},n.prototype.handleUpload=function(t){var e,n;return e=t.target.files[0],i.validateSize(e)?(n=new FileReader,n.onload=function(t){return function(e){return t.imageEditor=new r,t.$cropperEditor.prepend(t.imageEditor.el),t.imageEditor.$cropImg.attr("src",n.result).one("load",t.showCropper)}}(this),n.readAsDataURL(e)):void 0},n.prototype.showCropper=function(){var t;return this.$cropper.removeClass("hide"),this.$uploadBtn.addClass("hide"),null!=(t=this.imageEditor)?t.setup():void 0},n.prototype.hideCropper=function(){var t;return null!=(t=this.imageEditor)&&t.release(),this.$cropper.addClass("hide"),this.$uploadBtn.removeClass("hide")},n.prototype.doUpload=function(t){return $(".veg-uploader",this.el).trigger("click")},n.prototype.doCrop=function(t){var e,n;return t.preventDefault(),e=this.imageEditor.getData(),this.hideCropper(),n={x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height),src:this.imageEditor.$cropImg.attr("src")},i.avatarUp(n,this.$uploadBtn,function(t){return function(e){return t.data.preview_url=e.src,t.render(),t.trigger("complete",e.url)}}(this))},n}(Spine.Controller),e.exports=o},{"../../models/image":71,"./image_editor":41,"./image_uploader.jade":44}],44:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t){r.panel=e=function(t,r){var o=this&&this.block;this&&this.attributes||{};n.push("<div"+i.cls(["panel","panel-"+t],[null,!0])+'><div class="panel-heading"><h3 class="panel-title">'+i.escape(null==(e=r)?"":e)+'</h3></div><div class="panel-body">'),o&&o(),n.push("</div></div>")},r["panel-default"]=e=function(t){var e=this&&this.block;this&&this.attributes||{};r.panel.call({block:function(){e&&e()}},"default",t)},n.push('<input accept="image/png,image/gif,image/jpeg" name="file" type="file" multiple="multiple" class="veg-uploader"/><div'+i.cls(["preview","text-center",t?"no-border":""],[null,null,!0])+">"),t?n.push("<img"+i.attr("src",t,!0,!1)+"/>"):n.push('<div class="tips"></div>'),n.push('</div><div class="image-crop hide">'),r["panel-default"].call({block:function(){n.push('<div class="editor"></div><span class="btn btn-ebs btn-sm btn-block confirm">确认</span>')}},"裁剪图像"),n.push("</div>")}.call(this,"preview_url"in o?o.preview_url:"undefined"!=typeof preview_url?preview_url:void 0),n.join("")}},{"jade/runtime":136}],45:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s){switch(n.push('<div class="loader-wrapper"></div>'),s){case 1:n.push('<div class="veg-spinner"><div class="sk-chasing-dots"><div class="sk-child sk-dot1"></div><div class="sk-child sk-dot2"></div></div><div class="desc">'+i.escape(null==(e=r)?"":e)+"</div></div>");break;case 2:n.push('<div class="veg-spinner"><div class="sk-rotating-plane"></div><div class="desc">'+i.escape(null==(e=r)?"":e)+"</div></div>");break;case 3:n.push('<div class="veg-spinner"><div class="sk-spinner sk-spinner-pulse"></div><div class="desc">'+i.escape(null==(e=r)?"":e)+"</div></div>");break;case 4:n.push(null==(e=t)?"":e);break;case 5:n.push('<div class="circle-spin"></div>');break;default:n.push("<div"+i.cls(["veg-loader","progress-bar-striped","active",o],[null,null,null,!0])+">"+i.escape(null==(e=r)?"":e)+"</div>")}}.call(this,"custom_loader_html"in r?r.custom_loader_html:"undefined"!=typeof custom_loader_html?custom_loader_html:void 0,"msg"in r?r.msg:"undefined"!=typeof msg?msg:void 0,"pos"in r?r.pos:"undefined"!=typeof pos?pos:void 0,"type"in r?r.type:"undefined"!=typeof type?type:void 0),n.join("")}},{"jade/runtime":136}],46:[function(t,e,n){var i;i=function(){function e(){}return e.opts={msg:"加载中...",type:0,container:"body",custom_loader_html:"",pos:""},e.listenTo=function(t,e){return null==e&&(e={}),t.el?(null==e.container&&(e.container=t.el),t.on("ajax:start",function(t){return function(){return t.start(e)}}(this)),t.on("ajax:end",function(t){return function(){return t.stop()}}(this))):void 0},e.start=function(e){var n;return null==e&&(e={}),n=$.extend({},this.prototype.constructor.opts,e),this.$container=$(n.container),this.$container.height()>540&&(n.pos="mid"),this.$container.addClass("loading").append(t("./loader.jade")(n))},e.updateStatMsg=function(t){return this.$container.find(".veg-spinner .desc").text(t)},e.stop=function(t){return null==t&&(t=this.$container),t.removeClass("loading").find(".veg-spinner,.veg-loader,.loader-wrapper").remove()},e.progress=function(t,e){return t.css({width:e+"%"})},e}(),e.exports=i},{"./loader.jade":45}],47:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t("jquery-validation"),i=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.data=$.extend({},this.data,i18n.login),this.render(),$("input[type='password']").keypress(function(t){var e,n,i,r,o,s;return e=$(this).closest("form").find(".capsWarn"),e.length?(o=t.which,r=o>=65&&90>=o,n=o>=97&&122>=o,i=t.shiftKey||16===o,s=r&&!i||n&&i,e.toggleClass("hide",!s)):void 0})}return r(n,e),n.prototype.className="login-register",n.prototype.opts={login_url:"#",register_url:"#"},n.prototype.elements={".reset-pwd-form":"$resetPwdForm"},n.prototype.events={"click .submit":"handleClickSubmit","submit form":"handleFormSubmit","click .reset-pwd":"handleResetPwd","click .reset-pwd-form .back":"handleBackLogin"},n.prototype.render=function(){return this.html(t("./login_register.jade")(this.data))},n.prototype.handleFormSubmit=function(t){var e,n;return n=$(t.currentTarget),e=n.find(".submit"),this.doSubmit(e,n)},n.prototype.handleClickSubmit=function(t){var e,n;return t.preventDefault(),e=$(t.currentTarget),n=e.closest("form"),this.doSubmit(e,n)},n.prototype.handleResetPwd=function(t){return t.preventDefault(),this.$resetPwdForm.removeClass("hide").siblings().addClass("hide")},n.prototype.handleBackLogin=function(t){return this.$resetPwdForm.addClass("hide").siblings().removeClass("hide")},n.prototype.doSubmit=function(t,e){var n,i,r,o;return n=t.data().role,o=e.validate({showErrors:function(t,n){return $.each(n,function(t,n){var i;return i=$(n.element),void 0!==i.data("bs.tooltip")?i.data("bs.tooltip").options.title=n.message:i.tooltip({title:n.message,container:e,placement:"left",trigger:"manual"}),i.removeClass("valid").addClass("error").tooltip("show")}),$.each(this.validElements(),function(t,e){var n;return n=$(e),n.removeClass("error").addClass("valid").tooltip("destroy")})},rules:{nick:{required:!0,minlength:2,maxlength:30},email:{required:!0,email:!0},password:{required:!0,minlength:6},password_confirm:{required:!0,minlength:6,equalTo:"input[name='password']:visible"}},messages:{nick:{required:"必填信息",minlength:"输入字符长度需要大于2",maxlength:"输入字符长度不能超过30"},email:{required:"必填信息",email:"请输入合法邮箱"},password:{required:"必填信息",minlength:"密码最小长度为 6"},password_confirm:{required:"必填信息",minlength:"密码最小长度为 6",equalTo:"请确认密码设置一致"}}}),e.valid()?(o.resetForm(),r=e.serializeObject(),t.addClass("disabled"),i=function(){return t.removeClass("disabled")},this.trigger(n+":submit",r,e,i)):void 0},n}(Spine.Controller),e.exports=i},{"./login_register.jade":48,"jquery-validation":137}],48:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t,o,s,a,l,u,c,d,p,h,f,v,y,g,m){r.input=e=function(t,e,r,o,s){var a=(this&&this.block,this&&this.attributes||{},"password"===e?"off":"on");n.push('<div class="form-group"><input'+i.attr("type",e,!0,!1)+i.attr("name",t,!0,!1)+i.attr("placeholder",r,!0,!1)+i.attr("value",o,!0,!1)+i.attr("autocomplete",a,!0,!1)+i.cls(["form-control",s],[null,!0])+"/></div>")},r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},n.push('<div class="form-group"><ul role="tablist" class="veg-nav list-unstyled nav-ebs"><li id="tab_login" class="active"><a href="#login" data-toggle="tab" r="r" ole="tab">'+i.escape(null==(e=v())?"":e)+'</a></li><li id="tab_register"><a href="#register" data-toggle="tab" role="tab">'+i.escape(null==(e=y())?"":e)+'</a></li></ul></div><div class="tab-content"><div id="login" role="tabpanel" class="tab-pane active"><form'+i.attr("action",u,!0,!1)+'><div class="capsWarn hide text-center"><span>'+i.escape(null==(e=g())?"":e)+"</span></div>"),
r.input("email","email",a()),r.input("password","password",d()),n.push('<div class="form-group"><button data-role="login" type="submit" class="btn btn-block btn-ebs submit">'+i.escape(null==(e=o())?"":e)+'</button></div><div class="text-right"><a href="#" class="reset-pwd">'+i.escape(null==(e=l())?"":e)+"</a></div></form><form"+i.attr("action",f,!0,!1)+' class="reset-pwd-form hide">'),r.input("email","text",m()),n.push('<div class="row"><div class="col-md-6 form-group"><span class="btn btn-block btn-default back">'+i.escape(null==(e=t())?"":e)+'</span></div><div class="col-md-6"><button data-role="reset" type="submit" class="btn btn-block btn-ebs submit">'+i.escape(null==(e=h())?"":e)+'</button></div></div></form></div><div id="register" role="tabpanel" class="tab-pane"><form'+i.attr("action",p,!0,!1)+'><div class="capsWarn hide text-center"><span>'+i.escape(null==(e=g())?"":e)+"</span></div>"),r.input("email","email",a()),r.input("nick","text",c()),r.input("password","password",d()),r.input("password_confirm","password",h()),n.push('<button data-role="register" type="submit" class="btn btn-block btn-ebs submit">'+i.escape(null==(e=s())?"":e)+"</button></form></div></div>")}.call(this,"back"in o?o.back:"undefined"!=typeof back?back:void 0,"btn_login"in o?o.btn_login:"undefined"!=typeof btn_login?btn_login:void 0,"btn_regi"in o?o.btn_regi:"undefined"!=typeof btn_regi?btn_regi:void 0,"email"in o?o.email:"undefined"!=typeof email?email:void 0,"fg_pwd"in o?o.fg_pwd:"undefined"!=typeof fg_pwd?fg_pwd:void 0,"login_url"in o?o.login_url:"undefined"!=typeof login_url?login_url:void 0,"nick"in o?o.nick:"undefined"!=typeof nick?nick:void 0,"pwd"in o?o.pwd:"undefined"!=typeof pwd?pwd:void 0,"register_url"in o?o.register_url:"undefined"!=typeof register_url?register_url:void 0,"reset_pwd"in o?o.reset_pwd:"undefined"!=typeof reset_pwd?reset_pwd:void 0,"reset_url"in o?o.reset_url:"undefined"!=typeof reset_url?reset_url:void 0,"t_login"in o?o.t_login:"undefined"!=typeof t_login?t_login:void 0,"t_regi"in o?o.t_regi:"undefined"!=typeof t_regi?t_regi:void 0,"tip_caps"in o?o.tip_caps:"undefined"!=typeof tip_caps?tip_caps:void 0,"tip_email"in o?o.tip_email:"undefined"!=typeof tip_email?tip_email:void 0),n.join("")}},{"jade/runtime":136}],49:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a,l){n.push('<div class="container"><div class="title form-group">'+i.escape(null==(e=l)?"":e)+"</div>"),o&&n.push('<div class="content form-group">'+(null==(e=o)?"":e)+"</div>"),n.push('<div class="veg-confirm-action row"><div class="col-xs-6"><span class="btn btn-default btn-block cancel">'+i.escape(null==(e=t)?"":e)+'</span></div><div class="col-xs-6">');var u=a?"btn-danger":s;n.push("<span"+i.cls(["btn","btn-block","confirm",u],[null,null,null,!0])+">"+i.escape(null==(e=r)?"":e)+"</span></div></div></div>")}.call(this,"cancel_desc"in r?r.cancel_desc:"undefined"!=typeof cancel_desc?cancel_desc:void 0,"confirm_desc"in r?r.confirm_desc:"undefined"!=typeof confirm_desc?confirm_desc:void 0,"content"in r?r.content:"undefined"!=typeof content?content:void 0,"default_btn_cls"in r?r.default_btn_cls:"undefined"!=typeof default_btn_cls?default_btn_cls:void 0,"is_danger"in r?r.is_danger:"undefined"!=typeof is_danger?is_danger:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),n.join("")}},{"jade/runtime":136}],50:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.show()}return r(n,e),n.prototype.className="confirm-modal animated bounceInDown",n.prototype.elements={".modal-content":"$content"},n.prototype.opts={confirm_desc:"确定",cancel_desc:"取消",title:"确定?",is_danger:!1},n.prototype.events={"click .cancel":"hide","click .confirm":"confirm"},n.prototype.render=function(){return this.html(t("./confirm.jade")(this.data))},n.prototype.confirm=function(){return this.trigger("confirm")},n.prototype.show=function(){return $("body").append(this.render()).addClass("confirm-open")},n.prototype.hide=function(){return $("body").removeClass("confirm-open"),this.release()},n}(Spine.Controller),e.exports=i},{"./confirm.jade":49}],51:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=t("./modal"),i=function(t){function e(){e.__super__.constructor.apply(this,arguments),$("body").append(this.render()),this.renderForm(),this.data.disable_auto||this.show()}return o(e,t),e.prototype.className="form-modal modal",e.prototype.elements={".veg-modal-form":"$modalContent",".veg-modal-body":"$modalBody"},e.prototype.opts={wide:!0,is_form:!1,template:null,confirm_desc:"确定",cancel_desc:"取消",disable_auto:!1,default_btn_cls:"btn-ebs"},e.prototype.renderWithRemote=function(t){return this.$modalContent.html(t),this.refreshElements(),this.$modalBody.addClass("loaded"),$(window).trigger("resize")},e.prototype.renderForm=function(){return this.data.wide&&this.el.addClass("wide-modal"),this.data.template&&!this.data.remote?(this.$modalContent.html(this.data.template),this.refreshElements()):void 0},e.prototype.afterShown=function(){var t;return e.__super__.afterShown.apply(this,arguments),this.data.is_form&&this.$modalContent.find("input:visible,textarea:visible").focus(),"function"==typeof(t=this.data).setup?t.setup(this.$modalContent):void 0},e.prototype.afterHidden=function(t){var n;return"function"==typeof(n=this.data).close&&n.close(),e.__super__.afterHidden.apply(this,arguments)},e}(r),e.exports=i},{"./modal":52}],52:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data)}return r(n,e),n.prototype.className="modal",n.prototype.opts={confirm_desc:"确定",cancel_desc:"取消",single_btn:!1,no_btn:!1,is_form:!1,content:"",title:"",wide:!1,remote:!1,header:!1,backdrop:!1,is_danger:!1,modal_size_cls:[],default_btn_cls:"btn-ebs",effect:null},n.prototype.events={"click .cancel":"hide","click .confirm":"doConfirm","submit form":"handleFormSubmit","shown.bs.modal":"afterShown","hidden.bs.modal":"afterHidden"},n.prototype.render=function(){return this.html(t("./modal.jade")(this.data))},n.prototype.show=function(){return this.el.modal("show")},n.prototype.hide=function(){return this.el.modal("hide")},n.prototype.doConfirm=function(t){return this.trigger("confirm")},n.prototype.handleFormSubmit=function(t){return t.preventDefault(),this.doConfirm()},n.prototype.afterShown=function(t){return this.data.effect?this.el.find(".modal-dialog").anim(this.data.effect):void 0},n.prototype.afterHidden=function(t){return this.release()},n}(Spine.Controller),e.exports=i},{"./modal.jade":53}],53:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a,l,u,c,d,p,h,f){if(f)n.push('<div class="modal-content"><div data-dismiss="modal" class="close-modal"><div class="lr"><div class="rl"></div></div></div><div class="container"><div class="modal-body veg-modal-body">'),l?n.push('<form action="#" class="veg-modal-form"></form>'):n.push('<div class="veg-modal-form"></div>'),n.push("</div></div></div>");else{n.push("<div"+i.cls(["modal-dialog",u],[null,!0])+'><div class="modal-content"><div'+i.cls(["modal-body","veg-modal-body",d?["is_remote"]:[""]],[null,null,!0])+">");var v=a?["text-danger"]:[""];if(n.push("<h3"+i.cls(["text-center","veg-modal-title",v],[null,null,!0])+">"+i.escape(null==(e=h)?"":e)+"</h3>"),d&&n.push('<div class="veg-modal-spinner"><i class="fa fa-refresh fa-spin"></i></div>'),n.push('<div class="veg-modal-content">'),l?n.push('<form action="#" class="veg-modal-form"></form>'):o?n.push(null==(e=o)?"":e):n.push('<div class="veg-modal-form"></div>'),n.push("</div>"),p)n.push('<div class="veg-modal-action text-center single"><span'+i.cls(["btn","btn-block","confirm",s],[null,null,null,!0])+">"+i.escape(null==(e=r)?"":e)+"</span></div>");else if(!c){n.push('<div class="veg-modal-action row"><div class="col-xs-6"><span class="btn btn-default btn-block cancel">'+i.escape(null==(e=t)?"":e)+'</span></div><div class="col-xs-6">');var y=a?"btn-danger":s;n.push("<span"+i.cls(["btn","btn-block","confirm",y],[null,null,null,!0])+">"+i.escape(null==(e=r)?"":e)+"</span></div></div>")}n.push("</div></div></div>")}}.call(this,"cancel_desc"in r?r.cancel_desc:"undefined"!=typeof cancel_desc?cancel_desc:void 0,"confirm_desc"in r?r.confirm_desc:"undefined"!=typeof confirm_desc?confirm_desc:void 0,"content"in r?r.content:"undefined"!=typeof content?content:void 0,"default_btn_cls"in r?r.default_btn_cls:"undefined"!=typeof default_btn_cls?default_btn_cls:void 0,"is_danger"in r?r.is_danger:"undefined"!=typeof is_danger?is_danger:void 0,"is_form"in r?r.is_form:"undefined"!=typeof is_form?is_form:void 0,"modal_size_cls"in r?r.modal_size_cls:"undefined"!=typeof modal_size_cls?modal_size_cls:void 0,"no_btn"in r?r.no_btn:"undefined"!=typeof no_btn?no_btn:void 0,"remote"in r?r.remote:"undefined"!=typeof remote?remote:void 0,"single_btn"in r?r.single_btn:"undefined"!=typeof single_btn?single_btn:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0,"wide"in r?r.wide:"undefined"!=typeof wide?wide:void 0),n.join("")}},{"jade/runtime":136}],54:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t){n.push('<div class="text-right text-success">已作答，<i class="fa fa-clock-o"></i><span class="desc">'+i.escape(null==(e=t)?"":e)+"</span></div>")}.call(this,"hc_at"in r?r.hc_at:"undefined"!=typeof hc_at?hc_at:void 0),n.join("")}},{"jade/runtime":136}],55:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../editor/editor"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.render()}return o(n,e),n.prototype.className="question-item",n.prototype.elements={".answer-editor":"$asEditor",".answer-form":"$form",".veg-uploader":"$imageUploader",".answer-form-wrap":"$answerWrap",".answer-panel":"$answerPanel",".my-answer-body":"$myAnswer"},n.prototype.opts={show_camera_uploader:!1,answer:!1,effectIn:"zoomIn",effectOut:"zoomOut"},n.prototype.events={"submit form":"handleSubmit","change .answer-form input[type='radio']":"handleSubmit","click .next":"doNext"},n.prototype.render=function(){var e,n,r,o;return this.data.content=fakeEditor.getHtml(this.data.content),this.data.solution=fakeEditor.getHtml(this.data.solution),n="su"===this.data.question_type,this.data.answer||n||(this.data.answer_panel_items=$.map(function(){o=[];for(var t=1,e=this.data.number_choices;e>=1?e>=t:t>=e;e>=1?t++:t--)o.push(t);return o}.apply(this),function(t){var e;return e=64+t,{content:String.fromCharCode(e)}})),this.html(t("./question_item.jade")(this.data)),(e=this.data.answer)?(r=e.content,n&&(r=fakeEditor.getHtml(r)),this.$myAnswer.html(r).after(t("./qts.jade")({hc_at:e.hc_at}))):n&&(this.editor=new i(this.$asEditor[0],this.$imageUploader)),this.el.anim(this.data.effectIn),this.el},n.prototype.handleSubmit=function(t){var e;switch(t.preventDefault(),this.data.question_type){case"si":e=this.$form.serializeObject().content,this.$myAnswer.text(e);break;case"su":if(e=JSON.stringify(this.editor.getContent()),this.editor.isEmpty())return void this.editor.editor.focus();this.$myAnswer.addClass("ql-editor").html(this.editor.editor.root.innerHTML)}return this.$answerWrap.remove(),this.$answerPanel.removeClass("hide"),this.trigger("submit",this.data.id,e)},n.prototype.doNext=function(){return this.el.anim(this.data.effectOut,function(t){return function(){return t.trigger("next"),t.release()}}(this))},n.prototype.release=function(){var t;return null!=(t=this.editor)&&t.release(),n.__super__.release.apply(this,arguments)},n}(Spine.Controller),e.exports=r},{"../editor/editor":36,"./qts.jade":54,"./question_item.jade":56}],56:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t,o,s,a,l,u,c,d,p){if(r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},r.radio_group=e=function(t,e){this&&this.block,this&&this.attributes||{};r.group_btn("radio",t,e)},r["question-item-header-title"]=e=function(t){this&&this.block,this&&this.attributes||{};switch(t){case"si":n.push('<i class="fa fa-dot-circle-o"></i><span class="desc">单选题</span>');break;case"fi":n.push('<i class="fa fa-pencil-square-o"></i><span class="desc">填空题</span>');break;case"mu":n.push('<i class="fa fa-check-square-o"></i><span class="desc">多选题</span>');break;case"su":n.push('<i class="fa fa-lightbulb-o"></i><span class="desc">问答题</span>')}},n.push('<input accept="image/png,image/gif,image/jpeg" name="file" type="file" multiple="multiple" class="veg-uploader"/><div class="container"><div class="qi-title text-center">互动问答</div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">'),r["question-item-header-title"](u),n.push('</h3></div><div class="panel-body">'),l.length&&(n.push('<div class="knowledges form-group"><ul class="list-inline"><li>知识点:</li>'),function(){var t=l;if("number"==typeof t.length)for(var r=0,o=t.length;o>r;r++){var s=t[r];n.push('<li class="badge">'+i.escape(null==(e=s)?"":e)+"</li>")}else{var o=0;for(var r in t){o++;var s=t[r];n.push('<li class="badge">'+i.escape(null==(e=s)?"":e)+"</li>")}}}.call(this),n.push("</ul></div>")),n.push('<div class="content form-group ql-editor">'+(null==(e=s)?"":e)+"</div>"),!t){switch(n.push('<div class="form-group answer-form-wrap"><form action="#" class="answer-form">'),u){case"si":r.radio_group("content",o);break;case"su":c&&n.push('<div class="form-group"><span class="btn btn-block btn-default snap-camera"><i class="fa fa-camera"></i><span class="desc">拍照上传答案</span></span></div>'),n.push('<div class="form-group"><div class="answer-editor"></div></div><button type="submit" class="btn btn-block btn-ebs">提交答案</button>')}n.push('</form><span class="btn btn-block btn-default btn-fat next"><i class="fa fa-times"></i><span class="desc">跳过此题</span></span></div>')}n.push("<div"+i.cls(["answer-panel",t?[""]:["hide"]],[null,!0])+'><div class="my-answer"><hr/><label><i class="fa fa-caret-square-o-down"></i><span class="desc">我的答案</span></label><div class="my-answer-body content"></div></div>'),a&&n.push('<div class="correct-answer"><hr/><label class="text-success"><i class="fa fa-key"></i><span class="desc">正确答案</span></label><div class="text-success">'+(null==(e=a)?"":e)+"</div></div>"),d&&n.push('<div class="solution"><hr/><label class="text-primary"><i class="fa fa-magic"></i><span class="desc">题目解析</span></label><div class="content ql-editor">'+(null==(e=d)?"":e)+"</div></div>"),n.push('<hr/><span class="btn btn-ebs btn-block next"><i class="fa fa-fighter-jet"></i><span class="desc">继续</span></span></div></div></div></div>')}.call(this,"answer"in o?o.answer:"undefined"!=typeof answer?answer:void 0,"answer_panel_items"in o?o.answer_panel_items:"undefined"!=typeof answer_panel_items?answer_panel_items:void 0,"content"in o?o.content:"undefined"!=typeof content?content:void 0,"correct_choices"in o?o.correct_choices:"undefined"!=typeof correct_choices?correct_choices:void 0,"knowledges"in o?o.knowledges:"undefined"!=typeof knowledges?knowledges:void 0,"question_type"in o?o.question_type:"undefined"!=typeof question_type?question_type:void 0,"show_camera_uploader"in o?o.show_camera_uploader:"undefined"!=typeof show_camera_uploader?show_camera_uploader:void 0,"solution"in o?o.solution:"undefined"!=typeof solution?solution:void 0,"undefined"in o?o.undefined:void 0),n.join("")}},{"jade/runtime":136}],57:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.data=$.extend({},this.data,i18n.record_ctrl),this.render()}return r(n,e),n.prototype.className="record-ctrl",n.prototype.opts={recordable:!0},n.prototype.elements={'[data-toggle="tooltip"]':"$tooltip",".ctrl-reply-record":"$recorder",".timerRecord":"$timerRecord",".record-pause":"$recordPause"},n.prototype.events={"click .ctrl-reply-record":"handleRecord","click .record-pause":"handleRecordPause"},n.prototype.render=function(){return this.html(t("./record_ctrl.jade")(this.data)),this.$tooltip.tooltip("destroy").tooltip({container:this.el,placement:this.data.placement}),this.el},n.prototype.handleRecord=function(t){return window.AudioContext&&navigator.getUserMedia?this.$recorder.hasClass("active")?(this.$recorder.removeClass("active").parent().removeClass("recording"),this.$recordPause.addClass("disabled").removeClass("paused"),this.trigger("recordEnd")):(this.$recorder.addClass("active").parent().addClass("recording"),this.$recordPause.removeClass("disabled"),this.trigger("recordStart")):void $flash("您的浏览器不支持语音输入，请尝试 Chrome 浏览器",{type:"danger"})},n.prototype.handleRecordPause=function(t){return this.$recordPause.toggleClass("paused"),this.trigger("recordPause")},n.prototype.release=function(){return this.$tooltip.tooltip("destroy"),n.__super__.release.apply(this,arguments)},n}(Spine.Controller),e.exports=i},{"./record_ctrl.jade":58}],58:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o){n.push('<div class="btn-group record-start"><span class="btn btn-default ctrl-reply-record"><i class="fa fa-circle"></i><span class="desc timerRecord">'+i.escape(null==(e=r())?"":e)+'</span></span></div><div class="btn-group record-pause disabled"><span'+i.attr("data-p",t(),!0,!1)+i.attr("data-r",o(),!0,!1)+' class="btn btn-default"><i class="fa fa-pause"></i></span></div>')}.call(this,"pauseR"in r?r.pauseR:"undefined"!=typeof pauseR?pauseR:void 0,"record"in r?r.record:"undefined"!=typeof record?record:void 0,"resumeR"in r?r.resumeR:"undefined"!=typeof resumeR?resumeR:void 0),n.join("")}},{"jade/runtime":136}],59:[function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("../tags/tags"),i=t("../modal/confirm_modal"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.className="section-list",n.prototype.opts={list:[],name:"sections",placeholder:"",can_insert:!1},n.prototype.elements={".sl-com":"$sectionList"},n.prototype.render=function(){return this.html(t("./section_list.jade")(this.data))},n.prototype.setup=function(t){var e,n;return this.data=$.extend({},this.opts,t),this.render(),n=function(t,e){return"<div><span class='num'>"+e(t.num)+(". </span> "+t.text+"</div>")},e={render:{item:function(t,e){return n(t,e)},option:function(t,e){return n(t,e)}}},this.data.can_insert?e.create=function(t){return function(e,n){return t.trigger("insert",e,n)}}(this):e.create=!1,this.input=new o({el:this.$sectionList,data:{configs:e}}),this.input.on("change",function(t){return function(e){return e.length?(t.trigger("change",e[0]),t.currentValue=e[0]):void 0}}(this)),this.input.el[0].selectize.on("blur",function(t){return function(){return!t.input.getValue()&&t.currentValue?t.setCurrent(t.currentValue,!0):void 0}}(this))},n.prototype.removeCurrent=function(){var t,e,n;return n=this.input.getValue(),e={title:"确定删除本章节吗？",content:this.input.getItem(n).text(),is_danger:!0},t=new i({data:e}),t.on("confirm",function(e){return function(){return e.trigger("remove",n,t)}}(this))},n.prototype.loadList=function(t){return this.input.clearOptions(),this.input.addOptions(t),this.input.refreshOptions(!1)},n.prototype.setCurrent=function(t,e){return null==e&&(e=!1),this.input.el[0].selectize.setValue(t,e),this.currentValue=t},n.prototype.disable=function(){return this.input.el[0].selectize.disable()},n.prototype.release=function(){return this.input.release()},n}(Spine.Controller),e.exports=r},{"../modal/confirm_modal":50,"../tags/tags":63,"./section_list.jade":60}],60:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s){n.push("<select"+i.attr("name",r,!0,!1)+i.attr("placeholder",o,!0,!1)+' class="sl-com">'),function(){var r=t;if("number"==typeof r.length)for(var o=0,s=r.length;s>o;o++){var a=r[o];n.push("<option"+i.attr("value",a.value,!0,!1)+'><span class="num">'+i.escape(null==(e=o+1+". ")?"":e)+"</span>"+i.escape(null==(e=a.text)?"":e)+"</option>")}else{var s=0;for(var o in r){s++;var a=r[o];n.push("<option"+i.attr("value",a.value,!0,!1)+'><span class="num">'+i.escape(null==(e=o+1+". ")?"":e)+"</span>"+i.escape(null==(e=a.text)?"":e)+"</option>")}}}.call(this),n.push("</select>")}.call(this,"list"in r?r.list:"undefined"!=typeof list?list:void 0,"name"in r?r.name:"undefined"!=typeof name?name:void 0,"placeholder"in r?r.placeholder:"undefined"!=typeof placeholder?placeholder:void 0,"undefined"in r?r.undefined:void 0),n.join("")}},{"jade/runtime":136}],61:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.data=$.extend({},this.data,i18n.sketch_ctrl),this.render()}return r(n,e),n.prototype.className="sketch-ctrl",n.prototype.opts={paginator:{prev:null,page:1,total_page:7,next:"/"},placement:"auto"},n.prototype.elements={'[data-toggle="tooltip"]':"$tooltip",".sketch-control .btn":"$sketchBtnList",".size-slider":"$sizeSlider",'.sketch-control .btn[data-type="P"]':"$pictureCtrlBtn"},n.prototype.events={"click .sketch-control .btn":"handleClick","click .earse-tool .ctrl-history":"handleUndoEarse","change .ctrl-color .current-color":"handleColorChange","input .size-slider":"handleSizeChange"},n.prototype.render=function(){var e;return this.html(t("./sketch_ctrl.jade")(this.data)),this.$tooltip.tooltip("destroy").tooltip({container:this.el,placement:this.data.placement}),e=this,this.$sizeSlider.tooltip({container:this.el,placement:this.data.placement,title:function(){return $(this).val()+e.data.px()}}),this.el},n.prototype.handleClick=function(t){var e,n,i;return e=$(t.currentTarget),e.hasClass("active")?(e.removeClass("active"),this.trigger("modeDeactive")):(e.addClass("active").siblings().removeClass("active"),i=e.data().type,(n=e.data().mode)?(this.trigger("modeChange",i,n),this.$sizeSlider.prop("disabled",2===n)):(this.trigger("modeChange",i),this.$sizeSlider.prop("disabled",!0)))},n.prototype.handleColorChange=function(t){var e;return e=$(t.currentTarget).val(),$(t.currentTarget).parent().css({color:e}),this.trigger("colorChange",e)},n.prototype.handleSizeChange=function(t){var e;return e=$(t.currentTarget).val(),$(".tooltip-inner",this.el).text(e+this.data.px()),this.trigger("sizeChange",e)},n.prototype.handleUndoEarse=function(t){return this.trigger("undoEarse")},n.prototype.toggle=function(t){return this.el.toggleClass("disabled",t)},n.prototype.release=function(){return this.$tooltip.tooltip("destroy"),n.__super__.release.apply(this,arguments)},n}(Spine.Controller),e.exports=i},{"./sketch_ctrl.jade":62}],62:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t,n,r,o,s,a,l){e.push('<div class="btn-group size-control"><input type="range" min="1" max="5" value="2" step="1" tabindex="-1" class="size-slider"/></div><div class="btn-group sketch-control"><span data-type="C" data-mode=\'1\''+i.attr("title",o(),!0,!1)+' data-toggle="tooltip" class="btn btn-default"><i class="icon-pencil2"></i></span><span data-type="C" data-mode=\'2\''+i.attr("title",r(),!0,!1)+' data-toggle="tooltip" class="btn btn-default"><i class="icon-pen"></i></span><span data-type="T"'+i.attr("title",a(),!0,!1)+' data-toggle="tooltip" class="btn btn-default"><i class="fa fa-font"></i></span><span data-type="P"'+i.attr("title",s(),!0,!1)+' data-toggle="tooltip" class="btn btn-default"><i class="fa fa-picture-o"></i></span><span data-type="E"'+i.attr("title",n(),!0,!1)+' data-toggle="tooltip" class="btn btn-default"><i class="fa fa-eraser"></i></span></div><div class="btn-group earse-tool"><span'+i.attr("title",l(),!0,!1)+' data-toggle="tooltip" class="btn btn-default ctrl-history"><i class="fa fa-undo"></i></span></div><div class="btn-group ctrl-color"><span'+i.attr("title",t(),!0,!1)+' data-toggle="tooltip" class="btn btn-default"><i class="icon-palette"></i><input type="color" value="#333333" class="current-color"/></span></div>')}.call(this,"color"in n?n.color:"undefined"!=typeof color?color:void 0,"erase"in n?n.erase:"undefined"!=typeof erase?erase:void 0,"mark"in n?n.mark:"undefined"!=typeof mark?mark:void 0,"pen"in n?n.pen:"undefined"!=typeof pen?pen:void 0,"pic"in n?n.pic:"undefined"!=typeof pic?pic:void 0,"text"in n?n.text:"undefined"!=typeof text?text:void 0,"undo"in n?n.undo:"undefined"!=typeof undo?undo:void 0),e.join("")}},{"jade/runtime":136}],63:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t("selectize"),i=function(t){function e(){var t,n;e.__super__.constructor.apply(this,arguments),this.tags=null!=(n=this.data)?n.tags:void 0,t={delimiter:",",render:{option_create:function(t,e){return"<div class='create'>添加 <strong>"+e(t.input)+"</strong>&hellip;</div>"}},onChange:function(t){return function(e){var n;return n=e?e.split(","):[],t.trigger("change",n)}}(this),options:this.tags},this.configs=$.extend(!0,t,this.data.configs),this.el.selectize(this.configs)}return r(e,t),e.prototype.className="tags",e.prototype.data={},e.prototype.release=function(){var t;return null!=(t=this.el[0].selectize)&&t.destroy(),e.__super__.release.apply(this,arguments)},e.prototype.addOptions=function(t){var e;return null!=(e=this.el[0].selectize)?e.addOption(t):void 0},e.prototype.addItem=function(t){var e;return null!=(e=this.el[0].selectize)?e.addItem(t):void 0},e.prototype.getItem=function(t){var e;return null!=(e=this.el[0].selectize)?e.getItem(t):void 0},e.prototype.setValue=function(t){var e;return this.addOptions({text:t,value:t}),this.refreshOptions(!1),null!=(e=this.el[0].selectize)?e.setValue(t):void 0},e.prototype.getValue=function(){var t;return null!=(t=this.el[0].selectize)?t.getValue():void 0},e.prototype.clearOptions=function(){var t;return null!=(t=this.el[0].selectize)?t.clearOptions():void 0},e.prototype.refreshOptions=function(t){var e;return null!=(e=this.el[0].selectize)?e.refreshOptions(t):void 0},e}(Spine.Controller),e.exports=i},{selectize:143}],64:[function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;o=t("../section-list/section_list"),i=t("../frame-ctrl/frame_ctrl"),s=t("../sketch-ctrl/sketch_ctrl"),r=t("../record-ctrl/record_ctrl"),a=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.data=$.extend({},this.data,i18n.user_navbar),this.render()}return l(n,e),n.prototype.className="user-navbar",n.prototype.opts={title:"17UP",is_fixed:!1,layout_class:["container-fluid"],logo_link:"/",logo_icon:["icon-17up"],can_edit_section:!1,can_rm_frame:!0,support_doc:!0,video_manager:!0,can_record:!1,can_pdf:!0,user_setting:!0,placement:"left"},n.prototype.elements={'[data-toggle="tooltip"]':"$tooltip",".section-list":"$sectionList",".frame-ctrl":"$framesCtrl",".record-ctrl":"$recordCtrl",".sketch-ctrl":"$sketchCtrl",".a-quiz":"$quizBtn",".navbar-brand":"$brand"},n.prototype.events={"click .n-section":"handleSectionAdd","click .r-section":"handleSectionRemove","click .u-section":"handleSectionUpdate","click .r-frame":"handleFrameRemove","click .a-pdf":"handleImportPdf","click .a-quiz":"handleInsertQuiz","click .zoom-in":"zoomIn","click .zoom-out":"zoomOut","click .about":"openAbout","click .open-player":"openPlayer","click .open-pref":"openPref","click .navbar-brand":"accountPanel"},n.prototype.render=function(){return this.html(t("./user_navbar.jade")(this.data)),this.$tooltip.tooltip("destroy").tooltip({container:this.el,placement:this.data.placement}),this.sectionList=new o({el:this.$sectionList}),this.frameCtrl=new i({el:this.$framesCtrl}),this.sketchCtrl=new s({el:this.$sketchCtrl}),this.data.can_record&&(this.recordCtrl=new r({el:this.$recordCtrl})),this.el},n.prototype.handleSectionRemove=function(t){return t.preventDefault(),this.sectionList.removeCurrent()},n.prototype.handleSectionUpdate=function(t){return t.preventDefault(),this.trigger("section:update")},n.prototype.handleSectionAdd=function(t){return t.preventDefault(),this.trigger("section:add")},n.prototype.handleFrameRemove=function(t){return t.preventDefault(),this.frameCtrl.removeCurrent()},n.prototype.handleImportPdf=function(t){return t.preventDefault(),this.trigger("pdf:import")},n.prototype.handleInsertQuiz=function(t){return t.preventDefault(),this.trigger("quiz:insert")},n.prototype.zoomIn=function(t){return this.trigger("zoom:in")},n.prototype.zoomOut=function(t){return this.trigger("zoom:out")},n.prototype.openPref=function(t){return t.preventDefault(),this.trigger("open:account")},n.prototype.stopPropagation=function(t){return t.stopPropagation()},n.prototype.togglePermission=function(t){return $(".permission-required",this.el).toggleClass("hide",t)},n.prototype.openAbout=function(t){return t.preventDefault(),this.trigger("open:about")},n.prototype.openPlayer=function(t){return t.preventDefault(),this.trigger("open:player")},n.prototype.accountPanel=function(t){return t.preventDefault(),this.trigger("open:account")},n}(Spine.Controller),e.exports=a},{"../frame-ctrl/frame_ctrl":38,"../record-ctrl/record_ctrl":57,"../section-list/section_list":59,"../sketch-ctrl/sketch_ctrl":61,"./user_navbar.jade":65}],65:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a,l,u,c,d,p,h,f,v,y,g,m,b,_,w,x,k){var C=a?["navbar-fixed-top"]:["navbar-static-top"];
n.push('<nav role="navigation"'+i.cls(["navbar","navbar-default",C],[null,null,!0])+"><div"+i.cls([l],[!0])+'><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#userNavbarMenu" class="navbar-toggle collapsed"><i class="icon-bar"></i><i class="icon-bar"></i><i class="icon-bar"></i></button><a'+i.attr("href",c,!0,!1)+' class="navbar-brand">'),u&&n.push("<i"+i.cls([u],[!0])+"></i>"),n.push('<span class="desc">'+i.escape(null==(e=m)?"":e)+'</span></a></div><div id="userNavbarMenu" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-left"><li class="section-list ctrl-li"></li><li class="frame-ctrl ctrl-li"></li><li class="record-ctrl ctrl-li"></li></ul><ul class="nav navbar-nav navbar-right"><li class="sketch-ctrl ctrl-li"></li></ul></div></div></nav><div class="float-ctrl-group top"><ul class="list-unstyled"><li data-toggle="tooltip"'+i.attr("title",x(),!0,!1)+' class="zoom-in menu"><i class="fa fa-search-plus"></i></li><li data-toggle="tooltip"'+i.attr("title",k(),!0,!1)+' class="zoom-out menu"><i class="fa fa-search-minus"></i></li>'),o&&n.push('<li data-toggle="tooltip"'+i.attr("title",y(),!0,!1)+' class="r-frame menu"><i class="fa fa-trash-o"></i></li>'),r&&n.push('<li data-toggle="tooltip"'+i.attr("title",p(),!0,!1)+' class="a-pdf menu"><i class="fa fa-file-pdf-o"></i></li>'),n.push("</ul>"),t&&n.push('<ul class="list-unstyled section-menu"><li data-toggle="tooltip"'+i.attr("title",d(),!0,!1)+' class="n-section menu"><i class="fa fa-plus"></i></li><li data-toggle="tooltip"'+i.attr("title",g(),!0,!1)+' class="r-section menu"><i class="fa fa-trash-o"></i></li><li data-toggle="tooltip"'+i.attr("title",b(),!0,!1)+' class="u-section menu"><i class="fa fa-refresh"></i></li></ul>'),n.push('</div><div class="float-ctrl-group bot"><ul class="list-unstyled"><li data-toggle="tooltip"'+i.attr("title",v(),!0,!1)+' class="a-quiz menu"><i class="fa fa-rocket"></i></li>'),w&&n.push('<li data-toggle="tooltip"'+i.attr("title",h(),!0,!1)+' class="open-player menu"><i class="fa fa-film"></i></li>'),_&&n.push('<li data-toggle="tooltip"'+i.attr("title",f(),!0,!1)+' class="open-pref menu"><i class="fa fa-cogs"></i></li>'),n.push('<li data-toggle="tooltip"'+i.attr("title",s(),!0,!1)+' class="about menu"><i class="fa fa-comments-o"></i></li></ul></div>')}.call(this,"can_edit_section"in r?r.can_edit_section:"undefined"!=typeof can_edit_section?can_edit_section:void 0,"can_pdf"in r?r.can_pdf:"undefined"!=typeof can_pdf?can_pdf:void 0,"can_rm_frame"in r?r.can_rm_frame:"undefined"!=typeof can_rm_frame?can_rm_frame:void 0,"contact"in r?r.contact:"undefined"!=typeof contact?contact:void 0,"is_fixed"in r?r.is_fixed:"undefined"!=typeof is_fixed?is_fixed:void 0,"layout_class"in r?r.layout_class:"undefined"!=typeof layout_class?layout_class:void 0,"logo_icon"in r?r.logo_icon:"undefined"!=typeof logo_icon?logo_icon:void 0,"logo_link"in r?r.logo_link:"undefined"!=typeof logo_link?logo_link:void 0,"newSection"in r?r.newSection:"undefined"!=typeof newSection?newSection:void 0,"pdf"in r?r.pdf:"undefined"!=typeof pdf?pdf:void 0,"player"in r?r.player:"undefined"!=typeof player?player:void 0,"pref"in r?r.pref:"undefined"!=typeof pref?pref:void 0,"quiz"in r?r.quiz:"undefined"!=typeof quiz?quiz:void 0,"remove"in r?r.remove:"undefined"!=typeof remove?remove:void 0,"rmSection"in r?r.rmSection:"undefined"!=typeof rmSection?rmSection:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0,"upSection"in r?r.upSection:"undefined"!=typeof upSection?upSection:void 0,"user_setting"in r?r.user_setting:"undefined"!=typeof user_setting?user_setting:void 0,"video_manager"in r?r.video_manager:"undefined"!=typeof video_manager?video_manager:void 0,"zoomIn"in r?r.zoomIn:"undefined"!=typeof zoomIn?zoomIn:void 0,"zoomOut"in r?r.zoomOut:"undefined"!=typeof zoomOut?zoomOut:void 0),n.join("")}},{"jade/runtime":136}],66:[function(t,e,n){var i;i={bucket:"up17org",upload_url:"https://v0.api.upyun.com/up17org",static_prefix:CDN_PF||"",default_image_p:"/quality/75/format/webp/compress/true/progressive/true",prepareUploadFormData:function(t,e){var n;return null==e&&(e={}),n={file_type:t,exp:Math.round((new Date).getTime()/1e3)+3600,thumb:""},e.thumb?n.thumb=e.thumb:"image"===t&&(n.thumb=this.default_image_p),$.post("/upyun",JSON.stringify(n),e.done)},handleUploadResponse:function(t,e){return null==e&&(e={}),200===t.code?"function"==typeof e.done?e.done(t):void 0:"function"==typeof e.fail?e.fail():void 0},ajaxSend:function(t,e){return $.ajax({url:this.upload_url,data:t,contentType:!1,processData:!1,type:"POST",success:function(t){return function(n){return t.handleUploadResponse(JSON.parse(n),e)}}(this)})},requestUpyunParams:function(t,e,n){return this.upyun_params?void(e?($.each(this.upyun_params,function(t,n){return e.append(t,n)}),"function"==typeof n&&n(e)):"function"==typeof n&&n(this.upyun_params)):this.prepareUploadFormData(t,{done:function(i){return function(r){return i.upyun_params=r,i.requestUpyunParams(t,e,n)}}(this)})},uploadFile:function(t,e,n){return n.options&&$.each(n.options,function(t,n){return e.append(t,n)}),this.requestUpyunParams(t,e,function(t){return function(e){return t.ajaxSend(e,n)}}(this))}},e.exports=i},{}],67:[function(t,e,n){!function(t){"use strict";function e(e,n,i,r){function o(t,e){return t-=r,e-=r,0>t||t>=u||0>e||e>=u?!1:l.isDark(t,e)}function s(t,e,n,i){var r=a.isDark,o=1/c;a.isDark=function(s,a){var l=a*o,u=s*o,c=l+o,d=u+o;return r(s,a)&&(t>c||l>n||e>d||u>i)}}var a={},l=t(i,n);l.addData(e),l.make(),r=r||0;var u=l.getModuleCount(),c=l.getModuleCount()+2*r;return a.text=e,a.level=n,a.version=i,a.moduleCount=c,a.isDark=o,a.addBlank=s,a}function n(t,n,i,r,o){i=Math.max(1,i||1),r=Math.min(40,r||40);for(var s=i;r>=s;s+=1)try{return e(t,n,s,o)}catch(a){}}function i(t,e,n){var i=n.size,r="bold "+n.mSize*i+"px "+n.fontname,o=y("<canvas/>")[0].getContext("2d");o.font=r;var s=o.measureText(n.label).width,a=n.mSize,l=s/i,u=(1-l)*n.mPosX,c=(1-a)*n.mPosY,d=u+l,p=c+a,h=.01;1===n.mode?t.addBlank(0,c-h,i,p+h):t.addBlank(u-h,c-h,d+h,p+h),e.fillStyle=n.fontcolor,e.font=r,e.fillText(n.label,u*i,c*i+.75*n.mSize*i)}function r(t,e,n){var i=n.size,r=n.image.naturalWidth||1,o=n.image.naturalHeight||1,s=n.mSize,a=s*r/o,l=(1-a)*n.mPosX,u=(1-s)*n.mPosY,c=l+a,d=u+s,p=.01;3===n.mode?t.addBlank(0,u-p,i,d+p):t.addBlank(l-p,u-p,c+p,d+p),e.drawImage(n.image,l*i,u*i,a*i,s*i)}function o(t,e,n){y(n.background).is("img")?e.drawImage(n.background,0,0,n.size,n.size):n.background&&(e.fillStyle=n.background,e.fillRect(n.left,n.top,n.size,n.size));var o=n.mode;1===o||2===o?i(t,e,n):(3===o||4===o)&&r(t,e,n)}function s(t,e,n,i,r,o,s,a){t.isDark(s,a)&&e.rect(i,r,o,o)}function a(t,e,n,i,r,o,s,a,l,u){s?t.moveTo(e+o,n):t.moveTo(e,n),a?(t.lineTo(i-o,n),t.arcTo(i,n,i,r,o)):t.lineTo(i,n),l?(t.lineTo(i,r-o),t.arcTo(i,r,e,r,o)):t.lineTo(i,r),u?(t.lineTo(e+o,r),t.arcTo(e,r,e,n,o)):t.lineTo(e,r),s?(t.lineTo(e,n+o),t.arcTo(e,n,i,n,o)):t.lineTo(e,n)}function l(t,e,n,i,r,o,s,a,l,u){s&&(t.moveTo(e+o,n),t.lineTo(e,n),t.lineTo(e,n+o),t.arcTo(e,n,e+o,n,o)),a&&(t.moveTo(i-o,n),t.lineTo(i,n),t.lineTo(i,n+o),t.arcTo(i,n,i-o,n,o)),l&&(t.moveTo(i-o,r),t.lineTo(i,r),t.lineTo(i,r-o),t.arcTo(i,r,i-o,r,o)),u&&(t.moveTo(e+o,r),t.lineTo(e,r),t.lineTo(e,r-o),t.arcTo(e,r,e+o,r,o))}function u(t,e,n,i,r,o,s,u){var c=t.isDark,d=i+o,p=r+o,h=n.radius*o,f=s-1,v=s+1,y=u-1,g=u+1,m=c(s,u),b=c(f,y),_=c(f,u),w=c(f,g),x=c(s,g),k=c(v,g),C=c(v,u),O=c(v,y),S=c(s,y);m?a(e,i,r,d,p,h,!_&&!S,!_&&!x,!C&&!x,!C&&!S):l(e,i,r,d,p,h,_&&S&&b,_&&x&&w,C&&x&&k,C&&S&&O)}function c(t,e,n){var i,r,o=t.moduleCount,a=n.size/o,l=s;for(n.radius>0&&n.radius<=.5&&(l=u),e.beginPath(),i=0;o>i;i+=1)for(r=0;o>r;r+=1){var c=n.left+r*a,d=n.top+i*a,p=a;l(t,e,n,c,d,p,i,r)}if(y(n.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var h=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=h,e.clip(),e.drawImage(n.fill,0,0,n.size,n.size),e.restore()}else e.fillStyle=n.fill,e.fill()}function d(t,e){var i=n(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!i)return null;var r=y(t).data("qrcode",i),s=r[0].getContext("2d");return o(i,s,e),c(i,s,e),r}function p(t){var e=y("<canvas/>").attr("width",t.size).attr("height",t.size);return d(e,t)}function h(t){return y("<img/>").attr("src",p(t)[0].toDataURL("image/png"))}function f(t){var e=n(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var i,r,o=t.size,s=t.background,a=Math.floor,l=e.moduleCount,u=a(o/l),c=a(.5*(o-u*l)),d={position:"relative",left:0,top:0,padding:0,margin:0,width:o,height:o},p={position:"absolute",padding:0,margin:0,width:u,height:u,"background-color":t.fill},h=y("<div/>").data("qrcode",e).css(d);for(s&&h.css("background-color",s),i=0;l>i;i+=1)for(r=0;l>r;r+=1)e.isDark(i,r)&&y("<div/>").css(p).css({left:c+r*u,top:c+i*u}).appendTo(h);return h}function v(t){return g&&"canvas"===t.render?p(t):g&&"image"===t.render?h(t):f(t)}var y=window.jQuery,g=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}(),m={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};y.fn.qrcode=function(t){var e=y.extend({},m,t);return this.each(function(t,n){"canvas"===n.nodeName.toLowerCase()?d(n,e):y(n).append(v(e))})}}(function(){var t=function(){function t(e,n){if("undefined"==typeof e.length)throw new Error(e.length+"/"+n);var i=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var i=new Array(e.length-t+n),r=0;r<e.length-t;r+=1)i[r]=e[r+t];return i}(),r={};return r.getAt=function(t){return i[t]},r.getLength=function(){return i.length},r.multiply=function(e){for(var n=new Array(r.getLength()+e.getLength()-1),i=0;i<r.getLength();i+=1)for(var o=0;o<e.getLength();o+=1)n[i+o]^=s.gexp(s.glog(r.getAt(i))+s.glog(e.getAt(o)));return t(n,0)},r.mod=function(e){if(r.getLength()-e.getLength()<0)return r;for(var n=s.glog(r.getAt(0))-s.glog(e.getAt(0)),i=new Array(r.getLength()),o=0;o<r.getLength();o+=1)i[o]=r.getAt(o);for(var o=0;o<e.getLength();o+=1)i[o]^=s.gexp(s.glog(e.getAt(o))+n);return t(i,0).mod(e)},r}var e=function(e,n){var r=236,s=17,c=e,d=i[n],p=null,h=0,v=null,y=new Array,g={},m=function(t,e){h=4*c+17,p=function(t){for(var e=new Array(t),n=0;t>n;n+=1){e[n]=new Array(t);for(var i=0;t>i;i+=1)e[n][i]=null}return e}(h),b(0,0),b(h-7,0),b(0,h-7),x(),w(),C(t,e),c>=7&&k(t),null==v&&(v=T(c,d,y)),O(v,e)},b=function(t,e){for(var n=-1;7>=n;n+=1)if(!(-1>=t+n||t+n>=h))for(var i=-1;7>=i;i+=1)-1>=e+i||e+i>=h||(n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i?p[t+n][e+i]=!0:p[t+n][e+i]=!1)},_=function(){for(var t=0,e=0,n=0;8>n;n+=1){m(!0,n);var i=o.getLostPoint(g);(0==n||t>i)&&(t=i,e=n)}return e},w=function(){for(var t=8;h-8>t;t+=1)null==p[t][6]&&(p[t][6]=t%2==0);for(var e=8;h-8>e;e+=1)null==p[6][e]&&(p[6][e]=e%2==0)},x=function(){for(var t=o.getPatternPosition(c),e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1){var i=t[e],r=t[n];if(null==p[i][r])for(var s=-2;2>=s;s+=1)for(var a=-2;2>=a;a+=1)-2==s||2==s||-2==a||2==a||0==s&&0==a?p[i+s][r+a]=!0:p[i+s][r+a]=!1}},k=function(t){for(var e=o.getBCHTypeNumber(c),n=0;18>n;n+=1){var i=!t&&1==(e>>n&1);p[Math.floor(n/3)][n%3+h-8-3]=i}for(var n=0;18>n;n+=1){var i=!t&&1==(e>>n&1);p[n%3+h-8-3][Math.floor(n/3)]=i}},C=function(t,e){for(var n=d<<3|e,i=o.getBCHTypeInfo(n),r=0;15>r;r+=1){var s=!t&&1==(i>>r&1);6>r?p[r][8]=s:8>r?p[r+1][8]=s:p[h-15+r][8]=s}for(var r=0;15>r;r+=1){var s=!t&&1==(i>>r&1);8>r?p[8][h-r-1]=s:9>r?p[8][15-r-1+1]=s:p[8][15-r-1]=s}p[h-8][8]=!t},O=function(t,e){for(var n=-1,i=h-1,r=7,s=0,a=o.getMaskFunction(e),l=h-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var u=0;2>u;u+=1)if(null==p[i][l-u]){var c=!1;s<t.length&&(c=1==(t[s]>>>r&1));var d=a(i,l-u);d&&(c=!c),p[i][l-u]=c,r-=1,-1==r&&(s+=1,r=7)}if(i+=n,0>i||i>=h){i-=n,n=-n;break}}},S=function(e,n){for(var i=0,r=0,s=0,a=new Array(n.length),l=new Array(n.length),u=0;u<n.length;u+=1){var c=n[u].dataCount,d=n[u].totalCount-c;r=Math.max(r,c),s=Math.max(s,d),a[u]=new Array(c);for(var p=0;p<a[u].length;p+=1)a[u][p]=255&e.getBuffer()[p+i];i+=c;var h=o.getErrorCorrectPolynomial(d),f=t(a[u],h.getLength()-1),v=f.mod(h);l[u]=new Array(h.getLength()-1);for(var p=0;p<l[u].length;p+=1){var y=p+v.getLength()-l[u].length;l[u][p]=y>=0?v.getAt(y):0}}for(var g=0,p=0;p<n.length;p+=1)g+=n[p].totalCount;for(var m=new Array(g),b=0,p=0;r>p;p+=1)for(var u=0;u<n.length;u+=1)p<a[u].length&&(m[b]=a[u][p],b+=1);for(var p=0;s>p;p+=1)for(var u=0;u<n.length;u+=1)p<l[u].length&&(m[b]=l[u][p],b+=1);return m},T=function(t,e,n){for(var i=a.getRSBlocks(t,e),u=l(),c=0;c<n.length;c+=1){var d=n[c];u.put(d.getMode(),4),u.put(d.getLength(),o.getLengthInBits(d.getMode(),t)),d.write(u)}for(var p=0,c=0;c<i.length;c+=1)p+=i[c].dataCount;if(u.getLengthInBits()>8*p)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+8*p+")");for(u.getLengthInBits()+4<=8*p&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=8*p)&&(u.put(r,8),!(u.getLengthInBits()>=8*p));)u.put(s,8);return S(u,i)};return g.addData=function(t){var e=u(t);y.push(e),v=null},g.isDark=function(t,e){if(0>t||t>=h||0>e||e>=h)throw new Error(t+","+e);return p[t][e]},g.getModuleCount=function(){return h},g.make=function(){m(!1,_())},g.createTableTag=function(t,e){t=t||2,e="undefined"==typeof e?4*t:e;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+e+"px;",n+='">',n+="<tbody>";for(var i=0;i<g.getModuleCount();i+=1){n+="<tr>";for(var r=0;r<g.getModuleCount();r+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=g.isDark(i,r)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>"},g.createImgTag=function(t,e){t=t||2,e="undefined"==typeof e?4*t:e;var n=g.getModuleCount()*t+2*e,i=e,r=n-e;return f(n,n,function(e,n){if(e>=i&&r>e&&n>=i&&r>n){var o=Math.floor((e-i)/t),s=Math.floor((n-i)/t);return g.isDark(s,o)?0:1}return 1})},g};e.stringToBytes=function(t){for(var e=new Array,n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e.push(255&i)}return e},e.createStringToBytes=function(t,e){var n=function(){for(var n=p(t),i=function(){var t=n.read();if(-1==t)throw new Error;return t},r=0,o={};;){var s=n.read();if(-1==s)break;var a=i(),l=i(),u=i(),c=String.fromCharCode(s<<8|a),d=l<<8|u;o[c]=d,r+=1}if(r!=e)throw new Error(r+" != "+e);return o}(),i="?".charCodeAt(0);return function(t){for(var e=new Array,r=0;r<t.length;r+=1){var o=t.charCodeAt(r);if(128>o)e.push(o);else{var s=n[t.charAt(r)];"number"==typeof s?(255&s)==s?e.push(s):(e.push(s>>>8),e.push(255&s)):e.push(i)}}return e}};var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],i=1335,o=7973,a=21522,l={},u=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return l.getBCHTypeInfo=function(t){for(var e=t<<10;u(e)-u(i)>=0;)e^=i<<u(e)-u(i);return(t<<10|e)^a},l.getBCHTypeNumber=function(t){for(var e=t<<12;u(e)-u(o)>=0;)e^=o<<u(e)-u(o);return t<<12|e},l.getPatternPosition=function(t){return e[t-1]},l.getMaskFunction=function(t){switch(t){case r.PATTERN000:return function(t,e){return(t+e)%2==0};case r.PATTERN001:return function(t,e){return t%2==0};case r.PATTERN010:return function(t,e){return e%3==0};case r.PATTERN011:return function(t,e){return(t+e)%3==0};case r.PATTERN100:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case r.PATTERN101:return function(t,e){return t*e%2+t*e%3==0};case r.PATTERN110:return function(t,e){return(t*e%2+t*e%3)%2==0};case r.PATTERN111:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},l.getErrorCorrectPolynomial=function(e){for(var n=t([1],0),i=0;e>i;i+=1)n=n.multiply(t([1,s.gexp(i)],0));return n},l.getLengthInBits=function(t,e){if(e>=1&&10>e)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},l.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,i=0;e>i;i+=1)for(var r=0;e>r;r+=1){for(var o=0,s=t.isDark(i,r),a=-1;1>=a;a+=1)if(!(0>i+a||i+a>=e))for(var l=-1;1>=l;l+=1)0>r+l||r+l>=e||(0!=a||0!=l)&&s==t.isDark(i+a,r+l)&&(o+=1);o>5&&(n+=3+o-5)}for(var i=0;e-1>i;i+=1)for(var r=0;e-1>r;r+=1){var u=0;t.isDark(i,r)&&(u+=1),t.isDark(i+1,r)&&(u+=1),t.isDark(i,r+1)&&(u+=1),t.isDark(i+1,r+1)&&(u+=1),(0==u||4==u)&&(n+=3)}for(var i=0;e>i;i+=1)for(var r=0;e-6>r;r+=1)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(var r=0;e>r;r+=1)for(var i=0;e-6>i;i+=1)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var c=0,r=0;e>r;r+=1)for(var i=0;e>i;i+=1)t.isDark(i,r)&&(c+=1);var d=Math.abs(100*c/e/e-50)/5;return n+=10*d},l}(),s=function(){for(var t=new Array(256),e=new Array(256),n=0;8>n;n+=1)t[n]=1<<n;for(var n=8;256>n;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(var n=0;255>n;n+=1)e[t[n]]=n;var i={};return i.glog=function(t){if(1>t)throw new Error("glog("+t+")");return e[t]},i.gexp=function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return t[e]},i}(),a=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={},r=function(e,n){switch(n){case i.L:return t[4*(e-1)+0];case i.M:return t[4*(e-1)+1];case i.Q:return t[4*(e-1)+2];case i.H:return t[4*(e-1)+3];default:return}};return n.getRSBlocks=function(t,n){var i=r(t,n);if("undefined"==typeof i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var o=i.length/3,s=new Array,a=0;o>a;a+=1)for(var l=i[3*a+0],u=i[3*a+1],c=i[3*a+2],d=0;l>d;d+=1)s.push(e(u,c));return s},n}(),l=function(){var t=new Array,e=0,n={};return n.getBuffer=function(){return t},n.getAt=function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},n.put=function(t,e){for(var i=0;e>i;i+=1)n.putBit(1==(t>>>e-i-1&1))},n.getLengthInBits=function(){return e},n.putBit=function(n){var i=Math.floor(e/8);t.length<=i&&t.push(0),n&&(t[i]|=128>>>e%8),e+=1},n},u=function(t){var i=n.MODE_8BIT_BYTE,r=e.stringToBytes(t),o={};return o.getMode=function(){return i},o.getLength=function(t){return r.length},o.write=function(t){for(var e=0;e<r.length;e+=1)t.put(r[e],8)},o},c=function(){var t=new Array,e={};return e.writeByte=function(e){t.push(255&e)},e.writeShort=function(t){e.writeByte(t),e.writeByte(t>>>8)},e.writeBytes=function(t,n,i){n=n||0,i=i||t.length;for(var r=0;i>r;r+=1)e.writeByte(t[r+n])},e.writeString=function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},e.toByteArray=function(){return t},e.toString=function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+="]"},e},d=function(){var t=0,e=0,n=0,i="",r={},o=function(t){i+=String.fromCharCode(s(63&t))},s=function(t){if(0>t);else{if(26>t)return 65+t;if(52>t)return 97+(t-26);if(62>t)return 48+(t-52);if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return r.writeByte=function(i){for(t=t<<8|255&i,e+=8,n+=1;e>=6;)o(t>>>e-6),e-=6},r.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),n%3!=0)for(var r=3-n%3,s=0;r>s;s+=1)i+="="},r.toString=function(){return i},r},p=function(t){var e=t,n=0,i=0,r=0,o={};o.read=function(){for(;8>r;){if(n>=e.length){if(0==r)return-1;throw new Error("unexpected end of file./"+r)}var t=e.charAt(n);if(n+=1,"="==t)return r=0,-1;t.match(/^\s$/)||(i=i<<6|s(t.charCodeAt(0)),r+=6)}var o=i>>>r-8&255;return r-=8,o};var s=function(t){if(t>=65&&90>=t)return t-65;if(t>=97&&122>=t)return t-97+26;if(t>=48&&57>=t)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return o},h=function(t,e){var n=t,i=e,r=new Array(t*e),o={};o.setPixel=function(t,e,i){r[e*n+t]=i},o.write=function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(i),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(i),t.writeByte(0);var e=2,r=a(e);t.writeByte(e);for(var o=0;r.length-o>255;)t.writeByte(255),t.writeBytes(r,o,255),o+=255;t.writeByte(r.length-o),t.writeBytes(r,o,r.length-o),t.writeByte(0),t.writeString(";")};var s=function(t){var e=t,n=0,i=0,r={};return r.write=function(t,r){if(t>>>r!=0)throw new Error("length over");for(;n+r>=8;)e.writeByte(255&(t<<n|i)),r-=8-n,t>>>=8-n,i=0,n=0;i=t<<n|i,n+=r},r.flush=function(){n>0&&e.writeByte(i)},r},a=function(t){for(var e=1<<t,n=(1<<t)+1,i=t+1,o=l(),a=0;e>a;a+=1)o.add(String.fromCharCode(a));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(n));var u=c(),d=s(u);d.write(e,i);var p=0,h=String.fromCharCode(r[p]);for(p+=1;p<r.length;){var f=String.fromCharCode(r[p]);p+=1,o.contains(h+f)?h+=f:(d.write(o.indexOf(h),i),o.size()<4095&&(o.size()==1<<i&&(i+=1),o.add(h+f)),h=f)}return d.write(o.indexOf(h),i),d.write(n,i),d.flush(),u.toByteArray()},l=function(){var t={},e=0,n={};return n.add=function(i){if(n.contains(i))throw new Error("dup key:"+i);t[i]=e,e+=1},n.size=function(){return e},n.indexOf=function(e){return t[e]},n.contains=function(e){return"undefined"!=typeof t[e]},n};return o},f=function(t,e,n,i){for(var r=h(t,e),o=0;e>o;o+=1)for(var s=0;t>s;s+=1)r.setPixel(s,o,n(s,o));var a=c();r.write(a);for(var l=d(),u=a.toByteArray(),p=0;p<u.length;p+=1)l.writeByte(u[p]);l.flush();var f="";return f+="<img",f+=' src="',f+="data:image/gif;base64,",f+=l,f+='"',f+=' width="',f+=t,f+='"',f+=' height="',f+=e,f+='"',i&&(f+=' alt="',f+=i,f+='"'),f+="/>"};return e}();return function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof n&&(e.exports=t())}(function(){return t}),!function(t){t.stringToBytes=function(t){function e(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e.push(i):2048>i?e.push(192|i>>6,128|63&i):55296>i||i>=57344?e.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return e}return e(t)}}(t),t}())},{}],68:[function(t,e,n){!function(){function t(){return(new Date).getTime()}var e=jQuery,n="jQuery.pause",i=1,r=e.fn.animate,o={};e.fn.animate=function(s,a,l,u){var c=e.speed(a,l,u);return c.complete=c.old,this.each(function(){this[n]||(this[n]=i++);var a=e.extend({},c);r.apply(e(this),[s,e.extend({},a)]),o[this[n]]={run:!0,prop:s,opt:a,start:t(),done:0}})},e.fn.pause=function(){return this.each(function(){this[n]||(this[n]=i++);var r=o[this[n]];r&&r.run&&(r.done+=t()-r.start,r.done>r.opt.duration?delete o[this[n]]:(e(this).stop(),r.run=!1))})},e.fn.resume=function(){return this.each(function(){this[n]||(this[n]=i++);var s=o[this[n]];s&&!s.run&&(s.opt.duration-=s.done,s.done=0,s.run=!0,s.start=t(),r.apply(e(this),[s.prop,e.extend({},s.opt)]))})}}()},{}],69:[function(t,e,n){!function(t){"use strict";t.dataURLtoBlob=function(t){var e,n,i,r;for(e=void 0,e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length),n=0;n<e.length;)i[n]=e.charCodeAt(n),n++;return new Blob([i],{type:r})},t.convertImgToBase64=function(t,e,n){var i,r,o;i=document.createElement("CANVAS"),r=i.getContext("2d"),o=new Image,o.crossOrigin="Anonymous",o.onload=function(){var t;i.height=o.height,i.width=o.width,r.drawImage(o,0,0),t=i.toDataURL(n||"image/webp"),e.call(this,o,t),i=null},o.src=t},t.fn.serializeObject=function(){var e,n;return n={},e=function(e,i){var r;r=n[i.name],"undefined"!=typeof r&&null!==r?t.isArray(r)?r.push(i.value):n[i.name]=[r,i.value]:n[i.name]=i.value},t.each(this.serializeArray(),e),n},t.convertHex=function(t,e){var n,i,r,o;return t=t.replace("#",""),r=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),n=parseInt(t.substring(4,6),16),o="rgba("+r+","+i+","+n+","+e/100+")"},t.getParameterByName=function(t){var e,n;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search),null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},t.humanFileSize=function(t,e){var n,i,r;if(n=e?1e3:1024,Math.abs(t)<n)return t+" B";for(r=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1;;)if(t/=n,++i,!(Math.abs(t)>=n&&i<r.length-1))break;return t.toFixed(1)+" "+r[i]},t.isIE=function(){var t,e;return e=window.navigator.userAgent,t=e.indexOf("MSIE "),t>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)},t.getCachedScript=function(e,n){return t.ajax({type:"GET",url:CDN_PF+e,dataType:"script",cache:!0,success:function(){return n?n():void 0}})},t.fn.extend({anim:function(e,n){return e+=" animated",t(this).addClass(e).one("animationend",function(){return t(this).removeClass(e),"function"==typeof n?n():void 0})}}),t.durationFormat=function(t,e){var n;return null==e&&(e="mm:ss"),n=moment.duration(t),moment(n.as("milliseconds")).format(e)}}(jQuery)},{}],70:[function(t,e,n){"undefined"!=typeof window&&null!==window&&(window.$="undefined"!=typeof window&&null!==window?window.jQuery=t("jquery"):void 0),t("./jquery.pause.min.js"),"undefined"!=typeof window&&null!==window&&(window.Spine=t("spine")),"undefined"!=typeof window&&null!==window&&(window.moment=t("moment")),"undefined"!=typeof window&&null!==window&&(window.$alert=t("../../_share/components/alert/alert")),"undefined"!=typeof window&&null!==window&&(window.$flash=$alert.flash),"undefined"!=typeof window&&null!==window&&(window.$loading=t("../../_share/components/loading/loading")),t("spine/lib/ajax"),t("spine/lib/local"),t("bootstrap"),t("./jquery-qrcode.min"),"undefined"!=typeof window&&null!==window&&(window.async=t("async")),location.host.match(/localhost/)?"undefined"!=typeof window&&null!==window&&(window.CDN_PF=""):"undefined"!=typeof window&&null!==window&&(window.CDN_PF="https://up17org.b0.upaiyun.com"),t("./jquery.utils"),$.ajaxSetup({contentType:"application/json",error:function(t){switch(woopra.track("orz:"+t.status,{desc:t.statusText,ref:this.url}),t.status){case 403:return $flash("403 禁止访问",{type:"danger"});case 404:return $flash("404 未找到相关资源");case 500:return window.location.href="/500.html"}},crossDomain:!0}),"undefined"!=typeof window&&null!==window&&(window.DEFAULT_AVATAR_URL="/img/user.svg")},{"../../_share/components/alert/alert":1,"../../_share/components/loading/loading":46,"./jquery-qrcode.min":67,"./jquery.pause.min.js":68,"./jquery.utils":69,async:114,bootstrap:118,jquery:138,moment:140,spine:155,"spine/lib/ajax":156,"spine/lib/local":157}],71:[function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;t("blueimp-file-upload"),i=t("../lib/api_service"),s=t("../../app/models/user"),o=t("../../app/models/doc"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.configure("BaseImage","id","src","url","h","w","size"),e.extend(i),e.formatSrc=function(t){return this.static_prefix+t},e.prototype.formatWBg=function(){return{h:this.h/window.devicePixelRatio,url:this.url}},e.createFrom=function(t){return this.create({url:t.url,src:this.formatSrc(t.url),h:t["image-height"],w:t["image-width"],size:t.file_size})},e.insert=function(t,e){var n;return null==e&&(e={}),n=new FormData,n.append("file",$.dataURLtoBlob(t)),this.uploadFile("image",n,{done:function(t){return function(n){var i;return i=t.createFrom(n),"function"==typeof e.done&&e.done(i),e.ot?void 0:o.insert(i.url,i.size,"F",{d:{h:i.h/window.devicePixelRatio}})}}(this),fail:function(){return console.error("FAIL_UPLOAD IMAGE")}})},e.cropBy=function(t,e,n){var i,r;return r=t.width+"x"+t.height+"a"+t.x+"a"+t.y,i=new FormData,i.append("file",$.dataURLtoBlob(t.src)),
this.prepareUploadFormData(e,{thumb:"/crop/"+r+this.default_image_p,done:function(t){return function(t){return $.each(t,function(t,e){return i.append(t,e)}),"function"==typeof n?n(i):void 0}}(this)})},e.editorUp=function(t,e,n){return $loading.start({container:e}),this.cropBy(t,"image",function(t){return function(i){return t.ajaxSend(i,{done:function(i){var r;return r=t.createFrom(i),"function"==typeof n&&n(r),o.insert(r.url,r.size,"P"),$loading.stop(e)},fail:function(){return loading.stop(e),console.error("FAIL_UPLOAD Editor Image")}})}}(this))},e.avatarUp=function(t,e,n){return $loading.start({container:e,type:5}),this.cropBy(t,"avatar",function(t){return function(i){return t.ajaxSend(i,{done:function(i){var r;return r=t.createFrom(i),"function"==typeof n&&n(r),o.insert(r.url,r.size,"A"),$loading.stop(e)},fail:function(){return loading.stop(e),console.error("FAIL_UPLOAD AVATAR")}})}}(this))},e.validateSize=function(t){var e;switch(t.type){case"application/pdf":e=20;break;case"image/jpeg":case"image/png":case"image/jpg":case"image/webp":e=5}return t.size>1e6*e?($flash("文件大小不得超过"+e+"M",{type:"danger"}),!1):!0},e.fileupload=function(t,e){return null==e&&(e={}),t.fileupload({url:this.upload_url,dataType:"json",sequentialUploads:!0,pasteZone:e.zone,dropZone:e.zone,add:function(t){return function(n,i){var r;if(!s.first())return void $flash("登录会员账户后才可使用此功能",{type:"danger"});if(r=i.files[0],t.validateSize(r))switch(r.type){case"application/pdf":return"function"==typeof e.pdf?e.pdf(r):void 0;case"image/jpeg":case"image/png":case"image/jpg":case"image/webp":return $loading.start({container:e.$loader,msg:"上传中...",type:e.loader_type||0}),t.requestUpyunParams("image",!1,function(t){return t["content-type"]=r.type,i.formData=t,i.submit()});default:return $flash("不支持此格式的文件："+r.type,{type:"danger"})}}}(this),progressall:function(t){return function(t,n){var i;return i=parseInt(n.loaded/n.total*100,10),"function"==typeof e.progress?e.progress(i):void 0}}(this),fail:function(t,e){return $flash("此功能仅供联网状态下使用，请确保网络链接正确",{type:"danger"})},done:function(t){return function(n,i){return t.handleUploadResponse(i.result,{done:function(n){var i;return i=t.createFrom(n),"function"==typeof e.done&&e.done(i),o.insert(i.url,i.size,"P")},fail:e.fail})}}(this),always:function(){return $loading.stop(e.$loader)}})},e}(Spine.Model),e.exports=r},{"../../app/models/doc":100,"../../app/models/user":106,"../lib/api_service":66,"blueimp-file-upload":116}],72:[function(t,e,n){var i,r,o,s,a,l,u,c=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;o=t("../../../_share/components/modal/form_modal"),a=t("../../../_share/components/login-register/login_register"),s=t("../../../_share/components/image-uploader/image_uploader"),u=t("../../models/user"),l=t("../../models/preference"),r={cover:[{content:i18n.ac_m.c_close(),value:1,is_active:!0},{content:i18n.ac_m.c_green(),value:2},{content:i18n.ac_m.c_blue(),value:3}],lang:[{content:"中文",value:1,is_active:!0},{content:"English",value:2}],offline:[{content:i18n.ac_m.o_record(),value:1,is_active:!0},{content:i18n.ac_m.o_live(),value:2}],media:[{content:i18n.ac_m.m_audio(),value:1,is_active:!0},{content:i18n.ac_m.m_both(),value:2}]},i=function(e){function n(){this._t=i18n.ac_m,n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),u.on("login:success",function(t){return function(){return $flash(t._t.t_logined(),{type:"success"}),t.hide()}}(this))}return c(n,e),n.prototype.className="modal account-modal",n.prototype.opts={configure:["cover","lang"],wide:!1,no_btn:!0,title:i18n.ac_m.t_m()},n.prototype.elements={".avatar-uploader":"$uploader"},n.prototype.events={"change .preferences .row":"handleChange","click .logout":"handleLogout"},n.prototype.handleChange=function(t){var e;return e=$(t.currentTarget).data().p,l.configBy(e,Number($(t.target).val())),this.trigger("pref:saved",e)},n.prototype.handleLogout=function(){return u.logout(),this.hide()},n.prototype.afterShown=function(){var e,i,o,c,d,p,h;if(n.__super__.afterShown.apply(this,arguments),h=this,i=u.first()){for(e={},p=this.data.configure,o=0,d=p.length;d>o;o++)c=p[o],e[c]=r[c];return i.config=l.getConfig(e),i._t=this._t,this.$modalContent.html(t("./account_modal.jade")(i)),this.refreshElements(),this.iu=new s({el:this.$uploader,data:{preview_url:i.avatar}}),this.iu.on("complete",function(t){return i.upProp({avatar:t})})}return this.lrview=new a({el:this.$modalContent}),this.lrview.on("login:submit",function(t,e,n){return u.login(t,{fail:function(){return n()}})}).on("register:submit",function(t,e,n){return u.register(t,{done:function(){return h.hide(),$flash("已成功注册，请尽快验证您的注册邮箱！",{type:"success"})},fail:function(){return n()}})}).on("reset:submit",function(t,e,n){return u.resetPw(t,{done:function(){return h.hide(),$flash("您的密码已重置成功，请检查邮件！",{type:"success"})}})})},n.prototype.release=function(){var t,e;return null!=(t=this.iu)&&t.release(),null!=(e=this.lrview)&&e.release(),n.__super__.release.apply(this,arguments)},n}(o),e.exports=i},{"../../../_share/components/image-uploader/image_uploader":43,"../../../_share/components/login-register/login_register":47,"../../../_share/components/modal/form_modal":51,"../../models/preference":103,"../../models/user":106,"./account_modal.jade":73}],73:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t,o,s,a){r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},r.radio_group=e=function(t,e){this&&this.block,this&&this.attributes||{};r.group_btn("radio",t,e)},n.push('<div class="base-info form-group"><div class="avatar-uploader form-group"></div><div class="text-center name"><span>'+i.escape(null==(e=a+" / ")?"":e)+"</span><span>"+i.escape(null==(e=s)?"":e)+"</span></div></div><label>"+i.escape(null==(e=t.l_per())?"":e)+'</label><div class="form-horizontal preferences">'),o.offline&&(n.push('<div data-p="offline" class="row form-group"><label class="control-label col-sm-3">'+i.escape(null==(e=t.l_mode())?"":e)+'</label><div class="col-sm-8">'),r.radio_group("offline",o.offline),n.push("</div></div>")),o.media&&(n.push('<div data-p="media" class="row form-group"><label class="control-label col-sm-3">'+i.escape(null==(e=t.l_media())?"":e)+'</label><div class="col-sm-8">'),r.radio_group("media",o.media),n.push("</div></div>")),n.push('<div data-p="cover" class="row form-group"><label class="control-label col-sm-3">'+i.escape(null==(e=t.l_eye())?"":e)+'</label><div class="col-sm-8">'),r.radio_group("cover",o.cover),n.push("</div></div>"),o.lang&&(n.push('<div data-p="lang" class="row"><label class="control-label col-sm-3">'+i.escape(null==(e=t.l_lang())?"":e)+'</label><div class="col-sm-8">'),r.radio_group("lang",o.lang),n.push("</div></div>")),n.push('</div><div class="row"><div class="col-sm-6"><span class="btn btn-block btn-ebs logout"><i class="fa fa-sign-out"></i><span class="desc">'+i.escape(null==(e=t.t_logout())?"":e)+'</span></span></div><div class="col-sm-6"><span data-dismiss="modal" class="btn btn-block btn-default">'+i.escape(null==(e=t.t_close())?"":e)+"</span></div></div>")}.call(this,"_t"in o?o._t:"undefined"!=typeof _t?_t:void 0,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"email"in o?o.email:"undefined"!=typeof email?email:void 0,"nick"in o?o.nick:"undefined"!=typeof nick?nick:void 0),n.join("")}},{"jade/runtime":136}],74:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t,n,r){(function(){var n=t;if("number"==typeof n.length)for(var r=0,o=n.length;o>r;r++){var s=n[r];r%4===0&&e.push('<div class="clearfix"></div>'),e.push("<div"+i.attr("data-id",s.id,!0,!1)+i.attr("title",s.hc_at,!0,!1)+' class="col-sm-3 doc-item"><img'+i.attr("src",s.src+"!/fw/250/clip/250x166a0a0",!0,!1)+' class="img-thumbnail"/></div>')}else{var o=0;for(var r in n){o++;var s=n[r];r%4===0&&e.push('<div class="clearfix"></div>'),e.push("<div"+i.attr("data-id",s.id,!0,!1)+i.attr("title",s.hc_at,!0,!1)+' class="col-sm-3 doc-item"><img'+i.attr("src",s.src+"!/fw/250/clip/250x166a0a0",!0,!1)+' class="img-thumbnail"/></div>')}}}).call(this),n&&e.push('<div class="clearfix"></div><span class="load-more btn btn-block btn-ebs">加载更多</span>')}.call(this,"list"in n?n.list:"undefined"!=typeof list?list:void 0,"more"in n?n.more:"undefined"!=typeof more?more:void 0,"undefined"in n?n.undefined:void 0),e.join("")}},{"jade/runtime":136}],75:[function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("../../../_share/components/modal/modal"),i=t("models/doc"),r=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),$("body").append(this.render()),this.show()}return s(n,e),n.prototype.className="modal doc-modal wide-modal",n.prototype.opts={list:[{is_active:!0,value:"P",content:"图片"},{value:"F",content:"PDF文件"},{value:"A",content:"头像"}]},n.prototype.elements={".veg-modal-body .list-container":"$container"},n.prototype.events={"change .filter-group input":"handleFilter","click .list-container .doc-item":"handleDocClick","click .load-more":"handleLoadMore"},n.prototype.render=function(){return this.html(t("./doc_modal.jade")(this.data))},n.prototype.afterShown=function(t){return this.filterByType("P")},n.prototype.handleFilter=function(t){return this.filterByType($(t.currentTarget).val())},n.prototype.renderList=function(e,n,i){var r;return r=t("./doc_list.jade")({list:e,more:n}),i?this.$container.append(r):this.$container.html(r)},n.prototype.filterByType=function(t){var e;return e=this,this.currentTy=t,$loading.start({container:this.$container}),i.queryByType(t,{},function(t){return function(e,n){return t.renderList(e,n),$loading.stop(t.$container)}}(this))},n.prototype.handleDocClick=function(t){var e,n;if(n=$(t.currentTarget).data().id,e=i.find(n))switch(this.hide(),e.ty){case"P":case"A":return this.selectPic(e);case"F":return this.selectPdf(e.formatWBg())}},n.prototype.handleLoadMore=function(t){var e,n,r;return e=$(t.currentTarget),$loading.start({container:e,pos:"bot"}),r=i.filterByType(this.currentTy),r.length?(n=r[r.length-1],i.queryByType(this.currentTy,{key:n.c_at},function(t){return function(n,i){return e.remove(),n.length?t.renderList(n,i,!0):$flash("没有更多")}}(this))):void 0},n}(o),e.exports=r},{"../../../_share/components/modal/modal":52,"./doc_list.jade":74,"./doc_modal.jade":76,"models/doc":100}],76:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t){r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},r.radio_group=e=function(t,e){this&&this.block,this&&this.attributes||{};r.group_btn("radio",t,e)},n.push('<div class="modal-content"><div class="modal-header"><div data-dismiss="modal" class="close-modal"><div class="lr"><div class="rl"></div></div></div></div><div class="container veg-modal-body"><div class="form-group filter-group">'),r.radio_group("filter-group",t),n.push('</div><div class="list-container"></div></div></div>')}.call(this,"list"in o?o.list:"undefined"!=typeof list?list:void 0),n.join("")}},{"jade/runtime":136}],77:[function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=t("../user-list-item/user_list_item"),s=t("../../models/user"),o=t("../../../app_live/models/room"),r=t("models/preference"),i=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.data=$.extend({},this.data,i18n.live_video),s.bind("live:change",function(t){return function(){var e;return null!=(e=t.myPublisher)&&e.stopPublish(),t.render()}}(this)),o.query(this.data.user.uid,function(t){return function(e){return t.croom=e,t.croom&&(t.data.active=t.croom.active),t.render(),s.trigger("live",t.data.active)}}(this))}return l(n,e),n.prototype.className="live-video",n.prototype.opts={video:!1,audio:!0,active:!1},n.prototype.elements={".live-player":"$player",".live-player video":"$videoEl",".user-list":"$userList"},n.prototype.events={"change .lv-ctrl input":"toggleRoom"},n.prototype.toggleRoom=function(t){return $(t.currentTarget).prop("checked")?o.open(this.data.user,function(t){return function(e){return t.croom=e,$flash("已打开直播间",{type:"success"}),t.turnOn(),s.trigger("live",!0)}}(this)):this.turnOff()},n.prototype.turnOff=function(){var t;return null!=(t=this.myPublisher)&&t.stopPublish(),s.trigger("live",!1),this.croom?this.croom.close():void 0},n.prototype.startPublish=function(t,e,n){var i;return i={videoWidth:240,videoHeight:180,fps:15,bitrate:600},2===r.get().media&&(this.$player.removeClass("invisible"),this.myPublisher.setCamera(t.length-1)),this.myPublisher.setMicroPhone(e.length-1),n="rtmp://paedf060a.live.126.net/live/40c54341020b4431909b01fae05ab407?wsSecret=c4962a297a2fce6afc36e1b3c46b4cc6&wsTime=1476237260",this.myPublisher.startPublish(n,i,function(t,e){return console.error(t)})},n.prototype.turnOn=function(){var t,e,n;return t={previewWindowWidth:120,previewWindowHeight:90,wmode:"transparent",quality:"high",allowScriptAccess:"always"},e=this,n=function(){var t,n;return t=this.getCameraList(),n=this.getMicroPhoneList(),console.info(t,n),t.length&&n.length?e.startPublish(t,n):$flash("未发现摄像头设备，请连接摄像头后再次尝试",{type:"danger"})},this.myPublisher=new nePublisher("pubLive",{},t,n)},n.prototype.render=function(){return this.html(t("./live_video.jade")(this.data)),this.data.active?this.turnOn():void 0},n.prototype.release=function(){return this.turnOff(),n.__super__.release.apply(this,arguments)},n}(Spine.Controller),e.exports=i},{"../../../app_live/models/room":113,"../../models/user":106,"../user-list-item/user_list_item":91,"./live_video.jade":78,"models/preference":103}],78:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t,o,s){r["switch-panel"]=e=function(t,r,o,s,a){this&&this.block,this&&this.attributes||{};n.push("<div"+i.cls(["switch-panel",a||[]],[null,!0])+'><div class="switch-desc">'+i.escape(null==(e=t)?"":e)+'</div><label class="switch switch-flat">'),r?n.push('<input type="checkbox" checked="checked" class="switch-input"/>'):n.push('<input type="checkbox" class="switch-input"/>'),n.push("<span"+i.attr("data-on",o,!0,!1)+i.attr("data-off",s,!0,!1)+' class="switch-label"></span><span class="switch-handle"></span></label></div>')},r["switch-panel"]("",t,s(),o(),"lv-ctrl"),n.push('<div data-pl="暂无播放源" class="live-player invisible"><div id="pubLive"></div></div><div class="user-list"></div>')}.call(this,"active"in o?o.active:"undefined"!=typeof active?active:void 0,"mdOff"in o?o.mdOff:"undefined"!=typeof mdOff?mdOff:void 0,"mdOn"in o?o.mdOn:"undefined"!=typeof mdOn?mdOn:void 0),n.join("")}},{"jade/runtime":136}],79:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t){t?e.push('<span title="上传" class="am-item sync-data"><i class="fa fa-cloud-upload"></i></span>'):e.push('<span title="分享" class="am-item share"><i class="fa fa-share-square-o"></i></span><span title="删除" class="am-item remove"><i class="fa fa-trash"></i></span>')}.call(this,"local"in n?n.local:"undefined"!=typeof local?local:void 0),e.join("")}},{"jade/runtime":136}],80:[function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=t("./video_item"),r=t("models/user_video"),i=function(e){function n(){n.__super__.constructor.apply(this,arguments)}return s(n,e),n.prototype.className="left-menu play-list",n.prototype.elements={ul:"$list",".load-more":"$more",".tip":"$tip"},n.prototype.events={"click .load-more":"loadMore"},n.prototype.render=function(e,n){var i,r,o;for(this.html(t("./left_menu.jade")({more:n,list:e})),i=0,o=e.length;o>i;i++)r=e[i],this.addOne(r);return this.el.removeClass("hide").anim("flipInY"),this.el},n.prototype.addOne=function(e,n){var i;return null==n&&(n={}),this.$tip.remove(),i=new o({item:e}),i.on("play",function(n){return function(){var r;return n.selected=e,n.$am.html(t("./action_menu.jade")({local:!e.c_at})),r=i.el.position().top,n.$am.css({top:r}).addClass("active").anim("flipInY"),n.trigger("play",n.selected)}}(this)),n.prepend?this.$list.prepend(i.el):this.$list.append(i.el),n.active?i.handleClick():void 0},n.prototype.playFirst=function(){return this.$list.find("li a").first().click()},n.prototype.loadMore=function(t){return $loading.start({container:this.$more,pos:"bot"}),r.queryAll({key:r.last().c_at},function(t){return function(e,n){var i,r,o;for(i=0,r=e.length;r>i;i++)o=e[i],t.addOne(o);return n?$loading.stop(t.$more):t.$more.remove()}}(this))},n.prototype.toggle=function(t){return this.$am.toggleClass("active",t),this.el.toggleClass("hide",!t)},n}(Spine.Controller),e.exports=i},{"./action_menu.jade":79,"./left_menu.jade":81,"./video_item":84,"models/user_video":108}],81:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t,n){t.length||e.push('<div class="tip">Oops, 你还没有录制呢</div>'),e.push('<ul class="list-unstyled"></ul>'),n&&e.push('<span class="btn btn-ebs btn-sm load-more">加载更多</span>')}.call(this,"list"in n?n.list:"undefined"!=typeof list?list:void 0,"more"in n?n.more:"undefined"!=typeof more?more:void 0),e.join("")}},{"jade/runtime":136}],82:[function(t,e,n){var i,r,o,s,a,l,u,c,d,p,h,f=function(t,e){function n(){this.constructor=t}for(var i in e)v.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;a=t("../../../_share/components/modal/modal"),i=t("../../../_share/components/canvas-recorder/canvas_player"),d=t("models/user"),h=t("models/video"),p=t("models/user_video"),o=t("../../../_share/components/modal/form_modal"),s=t("./left_menu"),r=t("../../../_share/components/modal/confirm_modal"),c=t("models/quiz"),u=t("../../../_share/components/question-item/question_item"),l=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),$("body").append(this.render()),this.show()}return f(n,e),n.prototype.className="modal player-modal wide-modal",n.prototype.player=null,n.prototype.result=null,n.prototype.recorder=null,n.prototype.opts={theme:"default"},n.prototype.elements={".veg-modal-body":"$modalContent",".player-container":"$container",".left-menu":"$leftMenu",".action-menu":"$actionMenu"},n.prototype.events={"click .modal-header .new-reply":"newReply","click .modal-header .export-json":"exportJson","click .modal-header .sync-data":"syncData","click .action-menu .remove":"handleRemove","click .action-menu .share":"handleShare","click .action-menu .sync-data":"handleSync"},n.prototype.render=function(e){return null==e&&(e={}),this.recorder&&(this.data.list=[]),this.html(t("./player_modal.jade")(this.data)),this.renderPlayerBy(!this.recorder),this.recorder||this.renderLeftMenu(e.autoPaly),this.el},n.prototype.handleRemove=function(){var t,e;return e={title:"确认删除当前选中的录像?",is_danger:!0},t=new r({data:e}),t.on("confirm",function(e){return function(){var n;return(n=e.leftMenu.selected)&&n["delete"](function(){return e.$actionMenu.removeClass("active"),e.player.reset()}),t.hide()}}(this))},n.prototype.handleShare=function(t){var e;return(e=this.leftMenu.selected)?window.open(e.shareUrl()):void 0},n.prototype.handleSync=function(t){var e;return(e=this.leftMenu.selected)?this.doSyncData(JSON.parse(e.canvas_data),d.first(),e.blob_audio,function(t){return function(n){return e.destroy(),t.leftMenu.addOne(n,{active:!0,prepend:!0})}}(this)):void 0},n.prototype.renderLeftMenu=function(t){var e,n;return n=this,this.$container.addClass("pd-200"),this.leftMenu=new s({el:this.$leftMenu,$am:this.$actionMenu}),(e=d.first())?(p.cu=e,this.player.on("play resume",function(){return n.leftMenu.toggle(!1)}).on("pause stop",function(){return n.leftMenu.toggle(!0)}).on("seeked",function(){return n.leftMenu.toggle(!1)}),this.player.on("load:local",function(t,e,i){return $flash("数据已加载完毕，可以开始播放",{type:"success"}),n.leftMenu.addOne(p.createFromLocal(t,e,i),{prepend:!0}),n.leftMenu.playFirst()}),this.leftMenu.on("play",function(t){return n.player.stopPlay({nowoo:!0}),t.c_at?h.queryById(t.id,{done:function(t){return n.playVideo(t)}}):n.playVideo(t)}),p.queryAll({},function(e,i){return n.leftMenu.render(e,i),t?n.leftMenu.playFirst():void 0})):void 0},n.prototype.playVideo=function(t){var e;return e=JSON.parse(t.canvas_data),e.audio=t.audio_path,e.qz&&c.refresh(e.qz,{clear:!0}),this.player.loadFromSourceFile(e)},n.prototype.syncData=function(t){var e;return t.preventDefault(),(e=d.first())?this.doSyncData(this.result,e,this.recorder.blob_audio,function(t){return function(){return t.recorder=t.data.list=t.result=null,t.render({autoPaly:!0})}}(this)):($flash("请先登录 17UP 账户，再上传"),d.trigger("ac:pop"))},n.prototype.newReply=function(t){return t.preventDefault(),this.hide(),this.recorder.handleNewReply()},n.prototype.exportJson=function(t){return t.preventDefault(),this.recorder.saveToLocal(c.toJSON())},n.prototype.renderPlayerBy=function(t){var e,n;return null!=(n=this.player)&&n.release(),e={_t:{},can_open_local:t,canSeek:function(){return!0},handleQuiz:function(t,e){return c.query(t,function(t){var n;return n=new u({data:t.attributes()}),$("body").append(n.el),n.on("next",function(){return e.resumePlay()})})}},$.each(i18n.c_pl,function(t,n){return e._t[t]=n()}),this.player=new i({data:e}),this.$container.append(this.player.el),this.result?this.player.loadFromSourceFile(this.result):void 0},n.prototype.doSyncData=function(e,n,i,r){var s,a,l;return s={title:"上传并分享",wide:!1,is_form:!0,effect:"bounceIn",template:t("views/modals/simple_form_inputs.jade")({placeholder:"命名此录像",info:"提醒：您的录像将被上传到云端，上传后不能再修改"})},a=new o({data:s}),l=this,a.on("confirm",function(){var t;return e.blob=null,e.audio=null,t=this.$modalContent.serializeObject().title,e.dur>3e6?void $flash("您的作品时长"+$.durationFormat(e.dur)+" ,目前支持最长50分钟录制",{type:"danger"}):($loading.start({container:this.$modalBody,msg:"上传中..."}),l.taskSyncQuiz(e,function(o){return function(){return h.upload(n.uid,t,e,i,function(t){return o.hide(),p.insertOne(t,{done:r}),$flash("已成功上传您的视频",{type:"success"})})}}(this)))})},n.prototype.taskSyncQuiz=function(t,e){var n,i,r,o,s,a,l;if(o=$.grep(t.canvas,function(t){return"Qz"===t.ac}),0===o.length)return void("function"==typeof e&&e());for(r=async.queue(function(t,e){return c.find(t.r.data).sync(function(n){return t.r.updateAttributes({data:n}),e()})}),r.drain=e,a=t.canvas,l=[],n=0,i=a.length;i>n;n++)s=a[n],"Qz"===s.ac?l.push(r.push({r:s})):l.push(void 0);return l},n.prototype.release=function(){var t,e;return c.destroyAll(),p.destroyAll(),null!=(t=this.player)&&t.release(),null!=(e=this.leftMenu)&&e.release(),n.__super__.release.apply(this,arguments)},n}(a),e.exports=l},{"../../../_share/components/canvas-recorder/canvas_player":9,"../../../_share/components/modal/confirm_modal":50,"../../../_share/components/modal/form_modal":51,"../../../_share/components/modal/modal":52,"../../../_share/components/question-item/question_item":55,"./left_menu":80,"./player_modal.jade":83,"models/quiz":104,"models/user":106,"models/user_video":108,"models/video":109,"views/modals/simple_form_inputs.jade":112}],83:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t,o){r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},r.radio_group=e=function(t,e){this&&this.block,this&&this.attributes||{};r.group_btn("radio",t,e)},n.push("<div"+i.cls(["modal-content",o],[null,!0])+'><div class="modal-header">'),t?n.push('<ul class="veg-nav list-unstyled"><li><a href="#" class="new-reply"><i class="fa fa-times-circle"></i><span class="desc">放弃保存</span></a></li><li><a href="#" class="export-json"><i class="fa fa-download"></i><span class="desc">保存到本地</span></a></li><li><a href="#" class="sync-data"><i class="fa fa-cloud-upload"></i><span class="desc">上传分享</span></a></li></ul>'):n.push('<div data-dismiss="modal" class="close-modal"><div class="lr"><div class="rl"></div></div></div>'),n.push('</div><div class="container veg-modal-body">'),t&&t.length&&(n.push('<div class="form-group player-mode">'),r.radio_group("player-mode",t),n.push("</div>")),n.push('<div class="player-container">'),t||n.push('<div class="left-menu hide"></div><div class="action-menu"></div>'),n.push("</div></div></div>")}.call(this,"list"in o?o.list:"undefined"!=typeof list?list:void 0,"theme"in o?o.theme:"undefined"!=typeof theme?theme:void 0),n.join("")}},{"jade/runtime":136}],84:[function(t,e,n){var i,r=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=function(e){function n(){this.render=r(this.render,this),n.__super__.constructor.apply(this,arguments),this.render(),this.item.on("destroy",this.release)}return o(n,e),n.prototype.tag="li",n.prototype.className="video-item",n.prototype.events={"click a":"handleClick"},n.prototype.render=function(){return this.html(t("./video_item.jade")(this.item))},n.prototype.handleClick=function(t){return null!=t&&t.preventDefault(),this.el.hasClass("active")?void 0:(this.el.addClass("active").siblings().removeClass("active"),this.trigger("play"))},n}(Spine.Controller),e.exports=i},{"./video_item.jade":85}],85:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o){n.push('<a href="#"><div class="it">'+i.escape(null==(e=o)?"":e)+'</div><div class="ts clearfix"><span class="pull-left">'+i.escape(null==(e=r)?"":e)+'</span><span class="pull-right label label-ebs sim">'+i.escape(null==(e=t)?"":e)+"</span></div></a>")}.call(this,"duration"in r?r.duration:"undefined"!=typeof duration?duration:void 0,"hc_at"in r?r.hc_at:"undefined"!=typeof hc_at?hc_at:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),n.join("")}},{"jade/runtime":136}],86:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t){r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},r.radio_group=e=function(t,e){this&&this.block,this&&this.attributes||{};r.group_btn("radio",t,e)},n.push('<label class="control-label col-sm-2">正确选项</label><div class="col-sm-10">'),r.radio_group("correct_choices",t),n.push("</div>")}.call(this,"choices"in o?o.choices:"undefined"!=typeof choices?choices:void 0),n.join("")}},{"jade/runtime":136}],87:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t,n){e.push('<div class="form-group row"><div'+i.cls(["col-sm-offset-2",t?["col-sm-5"]:["col-sm-10"]],[null,!0])+'><span class="btn btn-block btn-ebs save-lib">保存到题库</span></div>'),t&&e.push('<div class="col-sm-5"><span class="btn btn-block btn-warning insert">插入到当前录制</span></div>'),e.push("</div>"),n&&e.push('<hr/><div class="form-group row"><div class="col-sm-5 col-sm-offset-2"><span class="btn btn-danger btn-block remove"><i class="fa fa-trash-o"></i><span class="desc">移除本题</span></span></div><div class="col-sm-5"><span class="btn btn-success btn-block new"><i class="fa fa-plus"></i><span class="desc">新建一题</span></span></div></div>');
}.call(this,"can_insert"in n?n.can_insert:"undefined"!=typeof can_insert?can_insert:void 0,"can_remove"in n?n.can_remove:"undefined"!=typeof can_remove?can_remove:void 0),e.join("")}},{"jade/runtime":136}],88:[function(t,e,n){var i,r,o,s,a,l,u,c=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;o=t("../../../_share/components/modal/form_modal"),i=t("../../../_share/components/modal/confirm_modal"),r=t("../../../_share/components/editor/editor"),l=t("../../../_share/components/tags/tags"),s=t("models/quiz"),u=t("models/user_quiz"),a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return c(n,e),n.prototype.className="modal quizf-modal",n.prototype.opts={wide:!0,template:t("./quiz_nav.jade")({nav:[{content:"习题制作",value:"new",is_active:!0},{content:"习题列表",value:"list"}]})},n.prototype.elements={".veg-uploader":"$imageUploader",".tx-editor":"$txEditor",".tx-solution":"$txSolution",".question-knowledges":"$qnInput",".correct-choices":"$correntChoices",".number-choices":"$numChoices",".qp-list":"$qpList",".qp-new":"$qpNew",".qp-new form":"$newForm",".form-action":"$formAction"},n.prototype.events={"change .number-choices":"handleQuestionNumberChange","change .question-type":"handleQuestionTypeChange","click .save-lib":"saveLib","click .quiz-nav a":"handleQuizNav","click .qick-new":"navToNew","click .quiz-item .edit":"editQuiz","click .quiz-item .insert":"insertQuiz","click .qp-new form .remove":"removeQuiz","click .qp-new form .new":"newQuiz","click .qp-list .load-more":"loadMore"},n.prototype.afterShown=function(){var t;return n.__super__.afterShown.apply(this,arguments),u.cu=this.cu,this.editor=new r(this.$txEditor[0],this.$imageUploader),this.solution_editor=new r(this.$txSolution[0],this.$imageUploader),this.navToList(),t={configs:{create:function(t,e){return{value:t,text:t}}}},this.qnTag=new l({el:this.$qnInput,data:t}),this.renderCorrectChoices()},n.prototype.navToNew=function(t){return null!=t&&t.preventDefault(),$(".quiz-nav a[data-v='new']",this.el).click()},n.prototype.navToList=function(){return $(".quiz-nav a[data-v='list']",this.el).click(),this.el.scrollTop(0)},n.prototype.validateForm=function(t,e){switch(t){case"content":return!this.editor.isEmpty();case"correct_choices":return"su"===e.question_type?!0:e.correct_choices}},n.prototype.saveLib=function(){var t,e,n;if(this.cu)return e=this,t=this.$newForm.serializeObject(),t.content=JSON.stringify(this.editor.getContent()),t.solution=JSON.stringify(this.solution_editor.getContent()),"su"===t.question_type?(delete t.number_choices,delete t.correct_choices):t.number_choices=Number(t.number_choices),this.validateForm("content",t)?this.validateForm("correct_choices",t)?(n=function(t){return function(e){return $loading.stop(t.$newForm),t.buildNewForm(),$flash(e,{type:"success"}),t.navToList()}}(this),$loading.start({container:this.$newForm}),this.uq?this.uq.updateData(t,function(){return n("习题已成功更新")}):u.insert(t,{done:function(t){return n("习题已成功创建")}})):void $flash("请输入正确选项",{type:"danger"}):void this.editor.editor.focus()},n.prototype.editQuiz=function(t){var e;return e=$(t.currentTarget).closest(".quiz-item"),(this.uq=u.find(e.data().id))?(this.buildNewForm(this.uq),this.navToNew()):void 0},n.prototype.insertQuiz=function(t){var e,n;return e=$(t.currentTarget).closest(".quiz-item"),(n=u.find(e.data().id))?s.insert(n,{done:function(t){return function(e){return s.trigger("insert",e),$flash("已成功插入一道互动习题",{type:"success"}),t.hide()}}(this)}):void 0},n.prototype.removeQuiz=function(t){var e,n,r;if(this.uq)return n={is_danger:!0,title:"确认删除本题？"},e=new i({data:n}),r=this,e.on("confirm",function(){return $loading.start({container:e.el}),r.uq["delete"](function(){return $flash("已删除",{type:"success"}),r.buildNewForm(),r.navToList(),e.hide()})})},n.prototype.newQuiz=function(t){return this.uq=null,this.buildNewForm()},n.prototype.handleQuizNav=function(t){var e;return t.preventDefault(),e=$(t.currentTarget).data().v,$(t.currentTarget).parent().addClass("active").siblings().removeClass("active"),$(".qp-"+e,this.el).addClass("active").siblings().removeClass("active"),"list"===e?($loading.start({container:this.$qpList}),u.queryAll({},function(t){return function(e,n){return t.renderQuizList(e,n),$loading.stop(t.$qpList)}}(this))):void 0},n.prototype.renderQuizList=function(e,n,i){var r,o,s,a;for(o=0,s=e.length;s>o;o++)a=e[o],a.content=fakeEditor.getHtml(a.content),a.solution=fakeEditor.getHtml(a.solution);return r=t("./quiz_list.jade")({list:e,more:n,can_insert:this.can_insert}),i?this.$qpList.append(r):this.$qpList.html(r)},n.prototype.loadMore=function(t){var e;return e=$(t.currentTarget),$loading.start({container:e,pos:"bot"}),u.queryAll({key:u.last().c_at},function(t){return function(n,i){return e.remove(),n.length?t.renderQuizList(n,i,!0):$flash("没有更多")}}(this))},n.prototype.buildNewForm=function(e){var n;return this.$formAction.html(t("./form_action.jade")({can_insert:this.can_insert,can_remove:null!=e})),e?(this.editor.setContent(e.content),this.solution_editor.setContent(e.solution),this.qnTag.setValue(e.knowledges.join(","))):(this.editor.empty(),this.solution_editor.empty()),this.renderCorrectChoices(null!=e?e.number_choices:void 0,null!=e?e.correct_choices:void 0),e?(n=e.question_type,$(".question-type input[value='"+n+"']",this.$newForm).parent().click()):void 0},n.prototype.handleQuestionNumberChange=function(t){return this.renderCorrectChoices(t.target.value)},n.prototype.renderCorrectChoices=function(e,n){var i,r;return n=n||"",e=e||4,i=$.map(function(){r=[];for(var t=1;e>=1?e>=t:t>=e;e>=1?t++:t--)r.push(t);return r}.apply(this),function(t){var e,i,r;return i=64+t,e=String.fromCharCode(i),r={content:e},n.indexOf(e)>-1&&(r.is_active=!0),r}),this.$correntChoices.html(t("./correct_choices.jade")({choices:i}))},n.prototype.handleQuestionTypeChange=function(t){var e;return e="su"===t.target.value,this.$correntChoices.toggleClass("hide",e),this.$numChoices.toggleClass("hide",e)},n.prototype.release=function(){var t,e,i;return null!=(t=this.editor)&&t.release(),null!=(e=this.solution_editor)&&e.release(),null!=(i=this.qnTag)&&i.release(),this.uq=null,n.__super__.release.apply(this,arguments)},n}(o),e.exports=a},{"../../../_share/components/editor/editor":36,"../../../_share/components/modal/confirm_modal":50,"../../../_share/components/modal/form_modal":51,"../../../_share/components/tags/tags":63,"./correct_choices.jade":86,"./form_action.jade":87,"./quiz_list.jade":89,"./quiz_nav.jade":90,"models/quiz":104,"models/user_quiz":107}],89:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t,o,s,a,l){r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},r["question-item-header-title"]=e=function(t){this&&this.block,this&&this.attributes||{};switch(t){case"si":n.push('<i class="fa fa-dot-circle-o"></i><span class="desc">单选题</span>');break;case"fi":n.push('<i class="fa fa-pencil-square-o"></i><span class="desc">填空题</span>');break;case"mu":n.push('<i class="fa fa-check-square-o"></i><span class="desc">多选题</span>');break;case"su":n.push('<i class="fa fa-lightbulb-o"></i><span class="desc">问答题</span>')}},s.length?function(){var a=s;if("number"==typeof a.length)for(var l=0,u=a.length;u>l;l++){var c=a[l];n.push("<div"+i.attr("data-id",c.id,!0,!1)+' class="quiz-item panel panel-default"><div class="panel-heading"><h3 class="panel-title">'),r["question-item-header-title"](c.question_type),n.push('</h3><span class="text-muted q-cat">'+i.escape(null==(e=c.hc_at)?"":e)+'</span></div><div class="panel-body"><div class="content ql-editor">'+(null==(e=c.content)?"":e)+'</div><span data-toggle="collapse"'+i.attr("data-target","#collapseQA"+c.cid,!0,!1)+' aria-expanded="false" class="show-so">查看解析<span class="caret"></span></span><div'+i.attr("id","collapseQA"+c.cid,!0,!1)+' class="question-answers collapse">');var d=t.trim(c.correct_choices),p=t.trim(c.solution);n.push('<div class="answer">'),d&&n.push("<h4>正确答案</h4><p>"+(null==(e=c.correct_choices)?"":e)+"</p>"),n.push('</div><div class="solution">'),p&&n.push('<h4>答案解析</h4><div class="content ql-editor">'+(null==(e=c.solution)?"":e)+"</div>"),n.push("</div>"),d||p||n.push("<p>暂无解析</p>"),n.push('</div></div><div class="panel-footer"><div class="row"><div class="col-xs-8 clearfix">'),c.knowledges.length&&(n.push('<ul class="list-inline pull-left"><li>知识点:</li>'),function(){var t=c.knowledges;if("number"==typeof t.length)for(var r=0,o=t.length;o>r;r++){var s=t[r];n.push('<li class="badge">'+i.escape(null==(e=s)?"":e)+"</li>")}else{var o=0;for(var r in t){o++;var s=t[r];n.push('<li class="badge">'+i.escape(null==(e=s)?"":e)+"</li>")}}}.call(this),n.push("</ul>")),n.push('</div><div class="col-xs-4 text-right"><span class="btn edit btn-default">编辑</span>'),o&&n.push('<span class="btn insert btn-ebs">插入</span>'),n.push("</div></div></div></div>")}else{var u=0;for(var l in a){u++;var c=a[l];n.push("<div"+i.attr("data-id",c.id,!0,!1)+' class="quiz-item panel panel-default"><div class="panel-heading"><h3 class="panel-title">'),r["question-item-header-title"](c.question_type),n.push('</h3><span class="text-muted q-cat">'+i.escape(null==(e=c.hc_at)?"":e)+'</span></div><div class="panel-body"><div class="content ql-editor">'+(null==(e=c.content)?"":e)+'</div><span data-toggle="collapse"'+i.attr("data-target","#collapseQA"+c.cid,!0,!1)+' aria-expanded="false" class="show-so">查看解析<span class="caret"></span></span><div'+i.attr("id","collapseQA"+c.cid,!0,!1)+' class="question-answers collapse">');var d=t.trim(c.correct_choices),p=t.trim(c.solution);n.push('<div class="answer">'),d&&n.push("<h4>正确答案</h4><p>"+(null==(e=c.correct_choices)?"":e)+"</p>"),n.push('</div><div class="solution">'),p&&n.push('<h4>答案解析</h4><div class="content ql-editor">'+(null==(e=c.solution)?"":e)+"</div>"),n.push("</div>"),d||p||n.push("<p>暂无解析</p>"),n.push('</div></div><div class="panel-footer"><div class="row"><div class="col-xs-8 clearfix">'),c.knowledges.length&&(n.push('<ul class="list-inline pull-left"><li>知识点:</li>'),function(){var t=c.knowledges;if("number"==typeof t.length)for(var r=0,o=t.length;o>r;r++){var s=t[r];n.push('<li class="badge">'+i.escape(null==(e=s)?"":e)+"</li>")}else{var o=0;for(var r in t){o++;var s=t[r];n.push('<li class="badge">'+i.escape(null==(e=s)?"":e)+"</li>")}}}.call(this),n.push("</ul>")),n.push('</div><div class="col-xs-4 text-right"><span class="btn edit btn-default">编辑</span>'),o&&n.push('<span class="btn insert btn-ebs">插入</span>'),n.push("</div></div></div></div>")}}}.call(this):n.push('<div class="empty well well-sm text-center">暂无习题<a href="#" class="qick-new">立即制作</a></div>'),a&&n.push('<span class="load-more btn btn-block btn-ebs">加载更多</span>')}.call(this,"$"in o?o.$:"undefined"!=typeof $?$:void 0,"can_insert"in o?o.can_insert:"undefined"!=typeof can_insert?can_insert:void 0,"list"in o?o.list:"undefined"!=typeof list?list:void 0,"more"in o?o.more:"undefined"!=typeof more?more:void 0,"undefined"in o?o.undefined:void 0),n.join("")}},{"jade/runtime":136}],90:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r={},o=t||{};return function(t,o,s){r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},r.radio_group=e=function(t,e){this&&this.block,this&&this.attributes||{};r.group_btn("radio",t,e)},n.push('<nav class="quiz-nav form-group"><ul class="nav nav-ebs"><li class="text-center col-sm-6"><a href="#" data-v="list">习题列表</a></li><li class="text-center col-sm-6"><a href="#" data-v="new">习题制作</a></li></ul></nav><div class="panel-container"><div class="quiz-panel qp-list"></div><div class="quiz-panel qp-new">'),r.group_btn=e=function(t,r,o){this&&this.block,this&&this.attributes||{};n.push('<div data-toggle="buttons" class="btn-group btn-group-justified">'),function(){var s=o;if("number"==typeof s.length)for(var a=0,l=s.length;l>a;a++){var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}else{var l=0;for(var a in s){l++;var u=s[a];u.is_active?n.push('<label class="btn btn-default active"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off" checked="checked"/>'+i.escape(null==(e=u.content)?"":e)+"</label>"):n.push('<label class="btn btn-default"><input'+i.attr("type",t,!0,!1)+i.attr("name",r,!0,!1)+i.attr("value",u.value||u.content,!0,!1)+' autocomplete="off"/>'+i.escape(null==(e=u.content)?"":e)+"</label>")}}}.call(this),n.push("</div>")},r.radio_group=e=function(t,e){this&&this.block,this&&this.attributes||{};r.group_btn("radio",t,e)},n.push('<form action="#"><div class="form-horizontal"><div class="form-group row"><label class="control-label col-sm-2">习题类型</label><div class="col-sm-10 question-type">'),r.radio_group("question_type",[{is_active:!0,content:"单选题",value:"si"},{content:"问答题",value:"su"}]),n.push('</div></div><div class="form-group row"><label class="control-label col-sm-2">习题内容</label><div class="col-sm-10"><div class="tx-editor"></div></div></div><div class="number-choices form-group row"><label class="control-label col-sm-2">选项数量</label><div class="col-sm-10">'),r.radio_group("number_choices",[{content:2},{content:3},{content:4,is_active:!0},{content:5},{content:6}]),n.push('</div></div><div class="correct-choices form-group row"></div><div class="form-group row"><label class="control-label col-sm-2">答案解析(如有)</label><div class="col-sm-10"><div class="tx-solution"></div></div></div><div class="form-group row"><label class="control-label col-sm-2">知识点</label><div class="col-sm-10"><input type="text" name="knowledges"'+i.attr("value",s,!0,!1)+' placeholder="输入相关知识点" class="question-knowledges"/></div></div></div><div class="form-action"><div class="form-group row"><div'+i.cls(["col-sm-offset-2",t?["col-sm-5"]:["col-sm-10"]],[null,!0])+'><span class="btn btn-block btn-ebs save-lib">保存到题库</span></div>'),t&&n.push('<div class="col-sm-5"><span class="btn btn-block btn-warning insert">插入到当前录制</span></div>'),n.push("</div>"),o&&n.push('<hr/><div class="form-group row"><div class="col-sm-5 col-sm-offset-2"><span class="btn btn-danger btn-block remove"><i class="fa fa-trash-o"></i><span class="desc">移除本题</span></span></div><div class="col-sm-5"><span class="btn btn-success btn-block new"><i class="fa fa-plus"></i><span class="desc">新建一题</span></span></div></div>'),n.push('</div><input accept="image/png,image/gif,image/jpeg" name="file" type="file" multiple="multiple" class="veg-uploader"/></form></div></div>')}.call(this,"can_insert"in o?o.can_insert:"undefined"!=typeof can_insert?can_insert:void 0,"can_remove"in o?o.can_remove:"undefined"!=typeof can_remove?can_remove:void 0,"knowledges"in o?o.knowledges:"undefined"!=typeof knowledges?knowledges:void 0),n.join("")}},{"jade/runtime":136}],91:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.data=$.extend({},this.opts,this.data),this.render()}return r(n,e),n.prototype.className="user-list-item",n.prototype.opts={nick:"xx",show_ctrl:!1,is_teacher:!1,permission:"0",handup:!1},n.prototype.elements={".btn-group":"$ctrl"},n.prototype.events={"click .btn-group .btn":"handleCtrl"},n.prototype.render=function(){return this.html(t("./user_list_item.jade")(this.data)),this.updatePermissionUI(),this.el},n.prototype.updatePermissionUI=function(){return this.el.removeClass("status-1 status-2 status-0").addClass("status-"+this.data.permission)},n.prototype.handleCtrl=function(t){var e;return e=$(t.currentTarget),e.addClass("loading").find(".fa").addClass("fa-spin"),this.trigger(e.data().event)},n.prototype.updateCtrl=function(e){return this.data.permission=e,this.$ctrl.html(t("./user_permission.jade")(this.data)),this.updatePermissionUI()},n}(Spine.Controller),e.exports=i},{"./user_list_item.jade":92,"./user_permission.jade":93}],92:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r,o,s,a){if(n.push('<span class="nick desc">'+i.escape(null==(e=o)?"":e)+"</span>"),a&&t){switch(n.push('<div class="btn-group">'),s){case"1":n.push('<span title="取消举手" data-event="cancel_hold" class="btn btn-default btn-sm"><i class="fa fa-times"></i></span>'),r&&n.push('<span title="允许发言" data-event="grant_speak" class="btn btn-success btn-sm"><i class="fa fa-check"></i></span>');break;case"2":n.push('<span title="取消发言" data-event="cancel_speak" class="btn btn-default btn-sm"><i class="fa fa-microphone-slash"></i></span>');break;default:r?n.push('<span title="授权发言" data-event="grant_speak" class="btn btn-default btn-sm"><i class="fa fa-microphone"></i></span>'):n.push('<span title="举手" data-event="request_speak" class="btn btn-default btn-sm"><i class="fa fa-paw"></i></span>')}n.push("</div>")}}.call(this,"handup"in r?r.handup:"undefined"!=typeof handup?handup:void 0,"is_teacher"in r?r.is_teacher:"undefined"!=typeof is_teacher?is_teacher:void 0,"nick"in r?r.nick:"undefined"!=typeof nick?nick:void 0,"permission"in r?r.permission:"undefined"!=typeof permission?permission:void 0,"show_ctrl"in r?r.show_ctrl:"undefined"!=typeof show_ctrl?show_ctrl:void 0),n.join("")}},{"jade/runtime":136}],93:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t,n){switch(n){case"1":e.push('<span title="取消举手" data-event="cancel_hold" class="btn btn-default btn-sm"><i class="fa fa-times"></i></span>'),t&&e.push('<span title="允许发言" data-event="grant_speak" class="btn btn-success btn-sm"><i class="fa fa-check"></i></span>');break;case"2":e.push('<span title="取消发言" data-event="cancel_speak" class="btn btn-default btn-sm"><i class="fa fa-microphone-slash"></i></span>');break;default:t?e.push('<span title="授权发言" data-event="grant_speak" class="btn btn-default btn-sm"><i class="fa fa-microphone"></i></span>'):e.push('<span title="举手" data-event="request_speak" class="btn btn-default btn-sm"><i class="fa fa-paw"></i></span>')}}.call(this,"is_teacher"in n?n.is_teacher:"undefined"!=typeof is_teacher?is_teacher:void 0,"permission"in n?n.permission:"undefined"!=typeof permission?permission:void 0),e.join("")}},{"jade/runtime":136}],94:[function(t,e,n){var i,r,o,s,a,l,u,c,d,p,h,f,v,y,g,m,b=function(t,e){return function(){return t.apply(e,arguments)}},_=function(t,e){function n(){this.constructor=t}for(var i in e)w.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},w={}.hasOwnProperty;o=t("../../_share/components/user-navbar/user_navbar"),l=t("../../_share/components/modal/form_modal"),m=t("../../_share/components/canvas-recorder/models/utils_module"),f=t("components/quiz-form/quiz_form"),d=t("components/player-modal/player_modal"),s=t("../../_share/components/canvas-recorder/canvas_recorder"),i=t("components/account-modal/account_modal"),a=t("components/doc-modal/doc_modal"),v=t("models/section"),u=t("models/frame"),h=t("models/quiz"),window.offline&&(u=t("models/local_frame")),g=t("models/user"),p=t("models/preference"),y=t("./section_controller"),c=t("./frame_controller"),r=function(e){function n(){this.openAccountModal=b(this.openAccountModal,this),n.__super__.constructor.apply(this,arguments),$(window).resize(function(t){return function(){return t.adjustContainerHeight()}}(this)),v.bind("add:pop",this.showSectionAddModal),g.bind("ac:pop",this.openAccountModal),u.bind("active",function(t){return function(e){var n;return t.log("current fid",current_fid),null!=(n=t.recorder)?n.activeFrame(e):void 0}}(this)),u.bind("batch:success",function(t){return function(){var e;return null!=(e=t.recorder)?e.endLoader():void 0}}(this)),u.bind("destroy change:bg",function(t){return function(e){var n;return null!=(n=t.recorder)?n.canvasCtrl.clearBgCache(e.id):void 0}}(this)),u.bind("change:bg",function(t){return function(e){var n;return null!=(n=t.recorder)?n.scaleFrame(1,e):void 0}}(this)),this.canvasScale=1,this.render()}return _(n,e),n.prototype.checkLogin=function(){return g.first()?!0:($flash("会员登录后，可访问"),g.trigger("ac:pop"),!1)},n.prototype.pauseRecordAnyway=function(t){return!this.recorder.playPaused&&this.recorder.currentTs?(console.debug("pause record"),t.handleRecordPause()):void 0},n.prototype.render=function(){var e,n,i,r;return r=this,n={can_record:window.offline,video_manager:window.offline,can_edit_section:!window.offline},e=new o({el:this.el,data:n}),g.on("refresh",function(n){return n.length?e.$brand.html(t("views/layer/user_card.jade")({avatar:n[0].avatar})).anim("tada"):void 0}),e.on("open:about",this.openAboutModal).on("open:account",this.openAccountModal).on("open:player",function(){return r.checkLogin()?(r.pauseRecordAnyway(e.recordCtrl),new d({data:{theme:"reverse"}})):void 0}).on("zoom:in",function(t){return function(){return t.scaleBoard((1.1*t.canvasScale).toFixed(2))}}(this)).on("zoom:out",function(t){return function(){return t.scaleBoard((t.canvasScale/1.1).toFixed(2))}}(this)).on("pdf:import",function(t){return function(){var e;return null!=(e=t.recorder)?e.$uploader.trigger("click"):void 0}}(this)).on("quiz:insert",function(){return r.checkLogin()?(r.pauseRecordAnyway(e.recordCtrl),new f({cu:g.first(),can_insert:r.recorder.currentTs})):void 0}),this.recorder=new s({el:this.canvasEl,data:{viewSize:[900,506],live:!window.offline}}),this.recorder.on("frame:batch",function(t){return window.offline&&u.deleteAll(),u.insertByImages(t)}).pictureLayer.on("open:lib",function(){return r.checkLogin()?new a({selectPic:this.getPic,selectPdf:function(t){return u.find(current_fid).updateBg(t,function(t){return u.trigger("change:bg",t)})}}):void 0}),this.filterCover(),this.recorder.$pictureCtrlBtn=e.sketchCtrl.$pictureCtrlBtn,i=new c(e.frameCtrl),window.offline?(this.recorder.$timerRecord=e.recordCtrl.$timerRecord,this.recorder.on("record:over",function(t){return this.$timerRecord.text("录制"),new d({recorder:this,result:t})}),u.queryList(),e.recordCtrl.on("recordStart",function(t){return function(){return t.recorder.stage=u.toJSON(),t.recorder.startRecord(),e.$quizBtn.addClass("active")}}(this)).on("recordEnd",function(t){return function(){return t.recorder.stopRecord(),e.$quizBtn.removeClass("active")}}(this)).on("recordPause",function(t){return function(){return t.recorder.handleRecordPause()}}(this)),h.bind("insert",function(t){return function(n){var i;return e.recordCtrl.handleRecordPause(),null!=(i=t.recorder)?i.addQuizRecord(n.id):void 0}}(this)),e.sectionList.el.addClass("hide")):(e.sectionList.setup({can_insert:!0,placeholder:"新建一节"}),new y(e.sectionList),e.on("section:add",this.showSectionAddModal).on("section:update",this.showSectionUpdateModal),u.bind("load",function(t){return u.c_sec=t,i.currentIndex=null,u.queryList(t)}),this.recorder.on("LIVE_EVENT",function(t,e){return i.currentAc={ac:t,data:e}}),g.on("live",function(t){return function(e){var n;if(e){if(t.liveClock)return;return t.liveClock=m.Timer.accurateInterval(100,i.syncAcLive)}return null!=(n=t.liveClock)&&n.cancel(),t.liveClock=null}}(this))),e.sketchCtrl.on("colorChange",function(t){return function(e){return t.recorder.handleColorChange(e)}}(this)).on("modeDeactive",function(t){return function(){return t.recorder.canvasCtrl.deactiveCurrent()}}(this)).on("modeChange",function(t){return function(e,n){return t.recorder.canvasCtrl.setActiveLayer(e,n)}}(this)).on("undoEarse",function(t){return function(){return t.recorder.handleUndoEarse()}}(this)).on("sizeChange",function(t){return function(e){return t.recorder.handleLineWidthChange(e)}}(this)),e.sketchCtrl.$sketchBtnList.first().trigger("click")},n.prototype.adjustContainerHeight=function(){var t;return t=$(window).height()-71-$("footer").height(),this.canvasEl.height(t)},n.prototype.showSectionAddModal=function(){var e,n,i;return i=this.sectionList,n={wide:!1,is_form:!0,confirm_desc:"提交",title:"新建一章节",default_btn_cls:"btn-ebs",template:t("views/modals/simple_form_inputs.jade")({placeholder:"输入章节标题"})},e=new l({data:n}),e.on("confirm",function(){return i.trigger("insert",$("input",this.$modalContent).val()),this.hide()})},n.prototype.showSectionUpdateModal=function(){var e,n,i,r;return r=null!=(n=v.current())?n.title:void 0,e={wide:!1,is_form:!0,confirm_desc:"提交",title:"编辑当前章节",default_btn_cls:"btn-ebs",template:t("views/modals/simple_form_inputs.jade")({placeholder:"重命名标题",info:r})},i=new l({data:e}),i.el.on("keyup",function(t){return 13===t.keyCode?i.trigger("confirm"):void 0}),i.on("confirm",function(){return r=$("input",this.$modalContent).val(),v.trigger("update:title",r),this.hide()})},n.prototype.openAboutModal=function(){var e,n;return e={title:"关于 17UP众创教育",single_btn:!0,confirm_desc:"Just Try It",template:t("views/modals/about.jade"),wide:!1,effect:"flipInX"},n=new l({data:e}),n.on("confirm",function(){return this.hide()})},n.prototype.scaleBoard=function(t){return t>1.7?void $flash("不支持更大"):.8>t?void $flash("不支持更小"):(this.recorder.scaleFrame(t,u.find(current_fid)),this.canvasScale=t)},n.prototype.openAccountModal=function(){var t,e,n;return window.api?(n={},(e=g.first())&&e.vip&&(n.configure=["cover","lang","offline","media"]),t=new i({data:n}),t.on("pref:saved",function(t){return function(e){switch(e){case"offline":return $flash("即将切换模式..."),setTimeout(function(){return location.reload()},2e3);case"media":return g.trigger("live:change");case"cover":return t.filterCover();case"lang":return location.reload()}}}(this))):void $flash("当前处于离线模式",{type:"danger"})},n.prototype.filterCover=function(){var t,e;return(t=p.get().cover)&&(e="green blue",this.recorder.$canvasLayer.removeClass(e),t>1)?this.recorder.$canvasLayer.addClass(e.split(" ")[t-2]):void 0},n}(Spine.Controller),e.exports=r},{"../../_share/components/canvas-recorder/canvas_recorder":11,"../../_share/components/canvas-recorder/models/utils_module":27,"../../_share/components/modal/form_modal":51,"../../_share/components/user-navbar/user_navbar":64,"./frame_controller":95,"./section_controller":96,"components/account-modal/account_modal":72,"components/doc-modal/doc_modal":75,"components/player-modal/player_modal":82,"components/quiz-form/quiz_form":88,"models/frame":101,"models/local_frame":102,"models/preference":103,"models/quiz":104,"models/section":105,"models/user":106,"views/layer/user_card.jade":110,"views/modals/about.jade":111,"views/modals/simple_form_inputs.jade":112}],95:[function(t,e,n){var i,r,o,s,a,l,u=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,d=function(t,e){return function(){return t.apply(e,arguments)}};r=t("models/frame"),window.offline&&(r=t("models/local_frame")),l=t("models/section"),a=t("../../app_live/models/room"),i=t("../../_share/components/modal/confirm_modal"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.hide=function(){return e.__super__.hide.apply(this,arguments),this.trigger("cancel")},e}(i),o=function(){function t(t){this.view=t,this.handleRemove=d(this.handleRemove,this),this.handleInsert=d(this.handleInsert,this),this.handleNavTo=d(this.handleNavTo,this),this.render=d(this.render,this),this.syncAcLive=d(this.syncAcLive,this),r.bind("refresh destroy",this.render),r.bind("batch:insert",function(t){return function(e){return t.currentIndex=r.count()-e+1,t.render(),r.trigger("batch:success")}}(this)),window.offline||r.bind("change:bg",function(t){return a.canSync?a.first().doSync("BG",{id:t.id,bg:t.bg}):void 0}),this.view.on("navTo",this.handleNavTo).on("insert",this.handleInsert).on("remove",this.handleRemove)}return t.prototype.syncAcLive=function(){var t,e,n,i,r;if(this.currentAc){switch(e=this.currentAc.data,t=this.currentAc.ac){case"CEnd":case"TEnd":case"PEnd":this.currentFrame.insertPathData(e),a.canSync&&a.first().doSync(t,e);break;case"E":this.currentFrame.removePathByIds(e),a.canSync&&a.first().doSync(t,e);break;case"UE":for(n=0,i=e.length;i>n;n++)r=e[n],this.currentFrame.insertPathData(r);a.canSync&&a.first().doSync(t,e);break;case"CSync":case"TSync":case"PAct":case"TAct":case"CM":case"SL":case"CC":case"Qz":a.canSync&&a.first().doSync(t,e)}return this.currentAc=null}},t.prototype.render=function(){var t,e,n;return e=r.count(),0===e?r.insertOne({},{one:!0},this.render):(n=this.currentIndex||r.defaultPage(),t={total_count:e,page:n},this.view.setup(t),this.loadPage(n))},t.prototype.renderWithPermission=function(t){return this.hasPermission=t,this.view.toggleNewBtn(!this.hasPermission)},t.prototype.handleNavTo=function(t){return this.loadPage(t)},t.prototype.loadPage=function(t){return this.currentIndex=t,this.currentFrame=r.all()[this.currentIndex-1],window.previous_fid=window.current_fid,window.current_fid=this.currentFrame.id,window.offline?r.trigger("active",this.currentFrame):this.currentFrame.queryData(function(){return r.trigger("active",this),a.canSync&&a.first().doSync("Frame",this.id),l.find(r.c_sec).upCurrentFrameId(this.id)})},t.prototype.insertFrame=function(){return r.one("create",function(t){return function(e){return window.offline||a.canSync&&a.first().doSync("Frame:A",{
id:e.id,idx:t.currentIndex}),t.currentIndex+=1,t.render()}}(this)),r.insertOne({},{idx:this.currentIndex,one:!0})},t.prototype.handleInsert=function(){var t,e;return window.offline?void this.insertFrame():r.count()>=100?(t={default_btn_cls:"btn-ebs",title:"提醒",content:"您当前章节已达到100页，是否新建一章节？"},e=new s({data:t}),e.on("confirm",function(){return this.hide(),l.trigger("add:pop")}).on("cancel",function(t){return function(){return t.insertFrame()}}(this))):this.insertFrame()},t.prototype.handleRemove=function(){var t,e;return window.offline||$loading.start({container:$("#appWrap"),msg:"正在删除..."}),e=r.all()[this.currentIndex-1],t=e.id,e["delete"](function(e){return function(n){return 1!==e.currentIndex&&(e.currentIndex-=1),!window.offline&&($loading.stop(),a.canSync)?a.first().doSync("Frame:D",t):void 0}}(this))},t}(),e.exports=o},{"../../_share/components/modal/confirm_modal":50,"../../app_live/models/room":113,"models/frame":101,"models/local_frame":102,"models/section":105}],96:[function(t,e,n){var i,r,o,s,a,l=function(t,e){return function(){return t.apply(e,arguments)}};i=t("../../_share/components/modal/form_modal"),s=t("models/section"),r=t("models/frame"),o=t("../../app_live/models/room"),window.offline&&(r=t("models/local_frame")),a=function(){function t(t){this.view=t,this.handleInsert=l(this.handleInsert,this),this.renderSectionList=l(this.renderSectionList,this),this.view.on("insert",this.handleInsert).on("change",this.handleChange).on("remove",this.handleRemove),s.bind("destroy refresh prop:update",this.renderSectionList),s.bind("update:title",this.handleUpdate),s.bind("rm:frames",function(t){var e,n,i,o;for(o=[],n=0,i=t.length;i>n;n++)e=t[n],o.push(r.find(e).removeData());return o})}return t.prototype.renderSectionList=function(){var t,e;return 0===s.count()?s.insertNew("first section",this.renderSectionList):(e=s.cu.c_sec||(null!=(t=s.first())?t.id:void 0),this.view.loadList(s.formatViewData()),this.view.setCurrent(e))},t.prototype.handleInsert=function(t,e){return t.length>60?($flash("最大字符数60",{type:"danger"}),!1):s.insertNew(t,this.renderSectionList)},t.prototype.handleChange=function(t){return o.canSync&&(o.first().doSync("Section",t),o.first().upProp({c_sec:t})),s.cu.upProp({c_sec:t}),r.trigger("load",t)},t.prototype.handleRemove=function(t,e){return $loading.start({container:e.$content,msg:"删除中..."}),s.find(t)["delete"](function(){return e.hide()})},t.prototype.handleUpdate=function(t){return s.current().upProp({title:t})},t}(),e.exports=a},{"../../_share/components/modal/form_modal":51,"../../app_live/models/room":113,"models/frame":101,"models/local_frame":102,"models/section":105}],97:[function(t,e,n){var i,r,o,s,a,l,u,c,d,p;t("./lib/setup"),l=t("models/user"),i=t("models/doc"),a=t("models/section"),s=t("models/preference"),o=t("components/live-video/live_video"),r=t("../_share/components/editor/editor"),d="zh-cn",c=s.get().lang,c&&2===c&&(d="en"),u=function(){return window.AudioContext&&navigator.getUserMedia?void 0:$("#unsupportTips").removeClass("hide")},p=function(){var t;return t=$("<div class='tx-quill'></div>").appendTo($("body")),window.fakeEditor=new r(t[0])},$(function(){var e;return u(),p(),e=$("#appWrap"),$.getCachedScript("/i18n/"+d+".js",function(){var n,r;return n=t("./controllers/app"),new n({el:$("#topNavbar"),canvasEl:$(".main-canvas-wrap")}),$(window).trigger("resize"),"undefined"!=typeof api&&null!==api?(r=null,l.setupAuth({afterLogin:function(t){if(i.cu=t,!window.offline){if(!t.vip)return;$flash("您正在使用直播模式",{type:"success"}),r=new o({data:{user:t}}),e.prepend(r.el).addClass("has-lv"),a.cu=t,a.queryByUser(t.uid)}return $("body").removeClass("init-loading")},afterLogout:function(){return e.removeClass("has-lv"),null!=r&&r.release(),i.cu=null,window.offline?$("body").removeClass("init-loading"):($flash("未登录，无法使用直播模式",{confirm:"立即登录",doConfirm:function(){return l.trigger("ac:pop")}}),a.cu=null)}})):$("body").removeClass("init-loading")})})},{"../_share/components/editor/editor":36,"./controllers/app":94,"./lib/setup":99,"components/live-video/live_video":77,"models/doc":100,"models/preference":103,"models/section":105,"models/user":106}],98:[function(t,e,n){!function(e,i){"function"==typeof define&&define.amd?define(["jquery"],i):i("object"==typeof n?t("jquery"):e.jQuery)}(this,function(t){"use strict";function e(e,n){-1===t.inArray(n,["horizontal","vertical","both"])&&t.error("Flip value must be one of horizontal, vertical or both");var i,r=t("<canvas />")[0];return r.width=e.width,r.height=e.height,i=r.getContext("2d"),"horizontal"!==n&&"both"!==n||(i.translate(e.width,0),i.scale(-1,1)),"vertical"!==n&&"both"!==n||(i.translate(0,e.height),i.scale(1,-1)),i.drawImage(e,0,0,e.width,e.height),r}var n=function(e,n){var i=0,r=0;return"string"!=typeof e&&t.error("Hotspot value is not a string and could not be parsed"),"number"!=typeof n&&t.error("Cursor size must be a number"),e.split(" ").forEach(function(t){switch(t){case"center":i=n/2,r=n/2;break;case"top":r=0;break;case"bottom":r=n-1;break;case"left":i=0;break;case"right":i=n-1}}),[i,r]};t.fn.extend({awesomeCursor:function(i,r){r=t.extend({},t.fn.awesomeCursor.defaults,r),"string"==typeof i&&i||t.error("First parameter must be the icon name, e.g. 'pencil'"),r.size="string"==typeof r.size?parseInt(r.size,10):r.size,"string"==typeof r.hotspot&&(r.hotspot=n(r.hotspot,r.size)),r.hotspot=t.map(r.hotspot,function(t){return Math.min(r.size-1,Math.max(0,t))});var o=function(t,e){return"string"==typeof e?e.replace(/%s/g,t):"function"==typeof e?e(t):t}(i,r.font.cssClass),s=t("<i />",{"class":o,style:"display: inline; font-size: "+r.size+"px;"}),a=t("<div />",{style:"position: absolute; left: -9999px; top: -9999px;"}).append(s);t("body").append(a);var l,u,c,d=window.getComputedStyle(s[0],":before").getPropertyValue("content"),p=s[0].getBoundingClientRect(),h=t("<canvas />")[0],f=Math.max(p.width,p.height);return a.remove(),r.outline&&(f+=2),r.rotate?(f=Math.ceil(Math.sqrt(Math.pow(f,2)+Math.pow(f,2))),l=(f-r.size)/2,h.width=f,h.height=f,c=h.getContext("2d"),c.translate(h.width/2,h.height/2),c.rotate(r.rotate*Math.PI/180),c.translate(-h.width/2,-h.height/2),r.hotspot[0]+=r.hotspot[0]!==h.width/2?l:0,r.hotspot[1]+=r.hotspot[1]!==h.height/2?l:0):(h.height=f*window.devicePixelRatio,h.width=f*window.devicePixelRatio,t(h).css({width:f}),t(h).css({height:f}),c=h.getContext("2d"),c.scale(window.devicePixelRatio,window.devicePixelRatio)),d=d.replace(/['"]/g,""),c.fillStyle=r.color,c.font=r.size+"px "+r.font.family,c.textAlign="center",c.textBaseline="middle",c.fillText(d,f/2,f/2),r.outline&&(c.lineWidth=.5,c.strokeStyle=r.outline,c.strokeText(d,f/2,f/2)),r.flip&&(h=e(h,r.flip)),u=h.toDataURL("image/webp"),t(this).css("cursor","").css("cursor",["url("+u+")",r.hotspot[0],r.hotspot[1],",","auto"].join(" ")),window.devicePixelRatio>1&&t(this).css("cursor","-webkit-image-set(url("+u+") 2x) "+[r.hotspot[0],r.hotspot[1]].join(" ")+", auto"),this}}),t.fn.awesomeCursor.defaults={color:"#000000",size:18,hotspot:[0,0],flip:"",rotate:0,outline:null,font:{family:"FontAwesome",cssClass:"fa fa-%s"}}})},{jquery:138}],99:[function(t,e,n){var i;t("../../_share/lib/setup"),t("./awesome-cursor.js"),window._debug=!0,window._debug||(console.debug=function(){},console.info=function(){},console.log=function(){}),window.wilddog&&"undefined"!=typeof window&&null!==window&&(window.api=wilddog.initializeApp({authDomain:"17up.wilddog.com",syncURL:"https://17up.wilddogio.com"})),i=t("models/preference"),"undefined"!=typeof window&&null!==window&&(window.offline=!(2===i.get().offline)),window.devicePixelRatio=2},{"../../_share/lib/setup":70,"./awesome-cursor.js":98,"models/preference":103}],100:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../../_share/lib/api_service"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.configure("Doc","id","size","url","src","ty","d","c_at","hc_at"),e.extend(i),e.more={},e.loaded={},e.dataPath=function(){return api.sync().ref("doc/"+this.cu.uid)},e.dataPathByType=function(t){return this.dataPath().child(t)},e.formatFromW=function(t,e){return e.src=this.static_prefix+e.url,e.hc_at=moment(e.c_at).format("YYYY-MM-DD HH:mm"),$.extend({},e,{id:t})},e.prototype.formatWBg=function(){return{h:this.d.h,url:this.url}},e.filterByType=function(t){return this.select(function(e){return e.ty===t})},e.queryByType=function(t,e,n){var i,r,o;return null==e&&(e={}),!e.key&&this.loaded[t]?(i=this.filterByType(t),void("function"==typeof n&&n(i,this.more[t]))):(r=e.per||8,o=this.dataPathByType(t).orderByChild("c_at"),e.key&&(o=o.endAt(e.key-1)),o.limitToLast(r).once("value").then(function(e){return function(o){var s,a;return s=$.map(o.val(),function(n,i){return n.ty=t,e.formatFromW(i,n)}),e.more[t]=a=s.length===r,i=e.refresh(s.reverse()),e.loaded[t]=!0,"function"==typeof n?n(i,a):void 0}}(this)))},e.insert=function(t,e,n,i){var r,o,s,a;return null==i&&(i={}),r={c_at:wilddog.sync().ServerValue.TIMESTAMP,size:e,url:t},i.d&&(r.d=i.d),o=t.replace(/\/file\/\w*\//,"").split(".")[0],a=(new Date).getTime(),s=this.dataPathByType(n).child(o),s.setWithPriority(r,a).then(i.done),s.once("value").then(function(t){return function(e){var i;return i=e.val(),i.ty=n,t.refresh(t.formatFromW(e.key(),i))}}(this))},e}(Spine.Model),e.exports=r},{"../../_share/lib/api_service":66}],101:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=t("./section"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.configure("Frame","id","c_at","sid","bg","pd"),e.dataPath=function(t){var e;return e=api.sync().ref("fd"),t?e.child(t):e},e.prototype.dataPath=function(){return e.dataPath(this.id)},e.prototype.pathDataPath=function(){return this.dataPath().child("pd")},e.formatFromW=function(t,e){var n;return n={id:t},e.pd&&(e.pd=$.map(e.pd,function(t,e){return JSON.parse(t)})),$.extend({},n,e)},e.insertByImages=function(t){var e,n,i,r,o,s,a,l;if(n=$.map(t,function(t){return{bg:t.formatWBg()}}),window.offline){for(i=0,o=n.length;o>i;i++)e=n[i],this.create(e);return this.trigger("batch:insert",n.length)}for(a=async.queue(function(t){return function(e,n){return t.insertOne(e.data,{},n)}}(this)),a.drain=function(t){return function(){return t.trigger("batch:insert",n.length),t.updateSectionFrameList()}}(this),l=[],r=0,s=n.length;s>r;r++)e=n[r],l.push(a.push({data:e}));return l},e.queryList=function(t){var e,n;return window.offline?this.fetch({clear:!0}):(n=r.find(t))?(e=[],n.f_list&&(e=$.map(n.f_list,function(t){return{id:t}})),this.refresh(e,{clear:!0})):void 0},e.prototype.updateBg=function(t,e){return window.offline?(this.updateAttribute("bg",t),"function"==typeof e?e(this):void 0):this.dataPath().child("bg").set(t).then(function(n){return function(){return n.updateAttribute("bg",t),"function"==typeof e?e(n):void 0}}(this))},e.prototype.queryData=function(t){return this.pd?void(null!=t&&t.apply(this)):this.dataPath().once("value",function(e){return function(n){var i;return i=n.val(),console.info("fetch [frame] "+e.id),i.pd=$.map(i.pd,function(t,e){return JSON.parse(t)}),e.updateAttributes(i),null!=t?t.apply(e):void 0}}(this))},e.insertOne=function(t,e,n){var i;return null==e&&(e={}),window.offline?(this.create({c_at:(new Date).getTime()},{idx:e.idx}),"function"==typeof n?n():void 0):this.c_sec?(i={sid:this.c_sec,c_at:wilddog.sync().ServerValue.TIMESTAMP},i=$.extend({},i,t),this.dataPath().push(i).then(function(t){return function(i){var r;return(r=i.key())?t.dataPath(r).once("value").then(function(i){return i=t.formatFromW(i.key(),i.val()),t.create(i,{idx:e.idx}),console.info("sync [frame] done"),"function"==typeof n&&n(),e.one?t.updateSectionFrameList():void 0}):void 0}}(this))):void 0},e.numOf=function(t){var e;return e=$.map(this.all(),function(t){return t.cid}),e.indexOf(t.cid)},e.defaultPage=function(t){var e;return e=r.find(this.c_sec),e&&e.cf_id?this.numOf(this.find(e.cf_id))+1:1},e.updateSectionFrameList=function(){var t,n;return(n=r.find(e.c_sec))?(t=$.map(this.all(),function(t){return t.id}),n.setFrameList(t)):void 0},e.prototype["delete"]=function(t){return window.offline?("function"==typeof t&&t(),this.destroy()):this.dataPath().remove(function(n){return function(){return"function"==typeof t&&t(),n.destroy(),e.updateSectionFrameList()}}(this))},e.prototype.removeData=function(){return this.dataPath().remove()},e.prototype.insertPathData=function(t,e){var n;return n=(new Date).getTime(),this.pathDataPath().child(t.id).setWithPriority(JSON.stringify(t),n).then(function(){return console.info("sync [path] done"),"function"==typeof e?e():void 0})},e.prototype.removePathByIds=function(t){var e,n,i,r;for(r=[],e=0,i=t.length;i>e;e++)n=t[e],r.push(this.pathDataPath().child(n).remove());return r},e}(Spine.Model),e.exports=i},{"./section":105}],102:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("models/frame"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.extend(Spine.Model.Local),e}(i),e.exports=r},{"models/frame":101}],103:[function(t,e,n){var i;i={key:"member_pre",create:function(t){var e;return e=$.extend({},this.get(),t),window.localStorage.setItem(this.key,JSON.stringify(e)),this.get()},get:function(){return JSON.parse(window.localStorage.getItem(this.key))||{}},configBy:function(t,e){var n,i;return n=this.create((i={},i[""+t]=e,i)),n[t]},getConfig:function(t){var e;return t?(e=this.get(),$.each(t,function(t,n){var i,r,o,s;if(e[t]){for(s=[],r=0,o=n.length;o>r;r++)i=n[r],s.push(i.is_active=i.value===e[t]);return s}})):{}}},e.exports=i},{}],104:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../../_share/lib/api_service"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.configure("Quiz","id","uid","question_type","content","number_choices","correct_choices","solution","knowledges","limit_dur","c_at","hc_at"),e.extend(i),e.dataPath=function(t){var e;return e=api.sync().ref("quiz"),t?e.child(t):e},e.prototype.dataPath=function(){return e.dataPath(this.id)},e.formatFromW=function(t,e){var n;return n={question_type:e.ty,content:e.con,number_choices:e.nco,correct_choices:e.cco,solution:e.sol,hc_at:moment(e.c_at).format("YYYY-MM-DD HH:mm"),c_at:e.c_at,uid:e.uid,id:t,limit_dur:e.dur},n.knowledges=e.kno?e.kno.split(","):[],n},e.query=function(t,e){var n;return(n=this.find(t))?void("function"==typeof e&&e(n)):this.dataPath(t).once("value",function(t){return function(i){return n=t.create(t.formatFromW(i.key(),i.val())),"function"==typeof e?e(n):void 0}}(this))},e.prototype.sync=function(t){var n,i,r;return n={c_at:wilddog.sync().ServerValue.TIMESTAMP,ty:this.question_type,uid:this.uid,con:this.content,sol:this.solution,kno:this.knowledges.join(","),cco:this.correct_choices,nco:this.number_choices,dur:this.limit_dur},r=e.dataPath().push(n),(i=r.key())?(console.info("sync [quiz] done"),"function"==typeof t?t(i):void 0):void 0},e.insert=function(t,e){var n,i;return null==e&&(e={}),n=t.props(),n.limit_dur=e.limit_dur||!1,i=this.create(n),"function"==typeof e.done?e.done(i):void 0},e}(Spine.Model),e.exports=r},{"../../_share/lib/api_service":66}],105:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.configure("Section","id","c_at","uid","title","cf_id","f_list"),e.comparator=function(t,e){return e.c_at>t.c_at},e.dataPath=function(t){var e;return e=api.sync().ref("sec"),t?e.child(t):e},e.prototype.dataPath=function(){return e.dataPath(this.id)},e.prototype.frameDataPath=function(){return this.dataPath().child("f_list")},e.formatFromW=function(t,e){var n;return n={id:t,title:e.t},$.extend({},e,n)},e.queryByUser=function(t,e){return this.dataPath().orderByChild("uid").equalTo(t).once("value").then(function(t){return function(n){var i;return i=$.map(n.val(),function(e,n){return t.formatFromW(n,e)}),t.refresh(i,{clear:!0}),null!=e?e.apply(t):void 0}}(this))},e.query=function(t,e){var n;return(n=this.find(t))?void("function"==typeof e&&e(n)):this.dataPath(t).once("value").then(function(t){return function(i){return n=t.create(t.formatFromW(i.key(),i.val())),"function"==typeof e?e(n):void 0}}(this))},e.formatViewData=function(){var t;return t=$.map(this.all(),function(t){return t.cid}),$.map(this.all(),function(e){var n,i;return i=t.indexOf(e.cid),n={num:i+1,text:e.title,value:e.id}})},e.prototype["delete"]=function(t){return t?this.dataPath().remove(function(n){return function(){return e.cu.upProp({c_sec:null}),e.trigger("rm:frames",n.f_list.slice(0)),n.destroy(),0===e.count()?e.insertNew("first section",t):t.apply(n)}}(this)):void this.log("need callback [done]")},e.current=function(){return this.cu?this.find(this.cu.c_sec):void 0},e.prototype.upProp=function(t,n){return e.cu.uid===this.uid?(this.updateAttributes(t),this.dataPath().update(t),n?void 0:e.trigger("prop:update")):void 0},e.prototype.setFrameList=function(t){return this.updateAttribute("f_list",t),this.frameDataPath().set(t)},e.prototype.upCurrentFrameId=function(t){return this.upProp({cf_id:t},!0)},e.insertNew=function(t,e){return this.cu?this.dataPath().push({t:t,uid:this.cu.uid,c_at:wilddog.sync().ServerValue.TIMESTAMP}).then(function(t){return function(n){var i;return(i=n.key())?t.dataPath(i).once("value").then(function(n){var i;return console.info("sync [section] done"),i=t.create(t.formatFromW(n.key(),n.val())),t.cu.c_sec=i.id,null!=e?e.apply(i):void 0}):void 0}}(this)):void 0},e}(Spine.Model),e.exports=i},{}],106:[function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=t("../../_share/lib/api_service"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.configure("User","id","uid","refreshToken","providerId","displayName","nick","email","emailVerified","isAnonymous","photoURL","avatar","c_sec","vip"),e.extend(i),e.accountPath=function(t){return api.sync().ref("ac/"+t)},e.userInfoData=function(t){return{uid:t.uid,displayName:t.displayName,nick:t.displayName,email:t.email,emailVerified:t.emailVerified,photoURL:t.photoURL,isAnonymous:t.isAnonymous,providerId:t.providerId,refreshToken:t.refreshToken}},e.prototype.upProp=function(t){return this.updateAttributes(t),e.accountPath(this.uid).update(t),t.avatar?api.auth().currentUser.updateProfile({photoURL:t.avatar}):void 0},e.setupAuth=function(t){return null==t&&(t={}),api.auth().onAuthStateChanged(function(e){return function(n){var i;return console.debug("u state:",n),n?(i=e.userInfoData(n),e.queryInfoBy(i.uid,function(n){var r;return n&&(i=$.extend({},i,n)),e.refresh(i,{clear:!0}),r=e.first(),"function"==typeof t.afterLogin&&t.afterLogin(r),"function"==typeof t.always&&t.always(r),woopra.identify({name:r.nick,email:r.email}),woopra.track()})):(e.refresh([],{clear:!0}),"function"==typeof t.afterLogout&&t.afterLogout(),"function"==typeof t.always?t.always():void 0)}}(this))},e.queryInfoBy=function(t,e){return this.accountPath(t).once("value",function(t){return function(n){var i;return i=n.val(),i&&i.avatar&&(i.avatar=t.static_prefix+i.avatar),"function"==typeof e?e(i):void 0}}(this))},e.login=function(t,e){return null==e&&(e={}),api.auth().signInWithEmailAndPassword(t.email,t.password).then(function(t){return function(){return t.trigger("login:success")}}(this))["catch"](function(t){return console.error(t.code),$flash("你的用户名或密码不正确",{type:"danger"}),"function"==typeof e.fail?e.fail():void 0})},e.register=function(t,e){return null==e&&(e={}),api.auth().createUserWithEmailAndPassword(t.email,t.password).then(function(n){return api.auth().currentUser.updateProfile({displayName:t.nick}),api.auth().currentUser.sendEmailVerification(),null!=e?e.done():void 0})["catch"](function(t){var n;switch(t.code){case"email_already_in_use":n="您输入的邮箱已被另一个账户占用，请登陆或换一个邮箱试试";break;default:n=t}return $flash(n,{type:"danger"}),"function"==typeof e.fail?e.fail():void 0})},e.logout=function(){return api.auth().signOut().then(function(){return location.reload()})},e.resetPw=function(t,e){return null==e&&(e={}),api.auth().sendPasswordResetEmail(t.email),"function"==typeof e.done?e.done():void 0},e.prototype.baseInfo=function(){return{uid:this.uid,avatar:this.avatar,nick:this.nick}},e}(Spine.Model),e.exports=r},{"../../_share/lib/api_service":66}],107:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.configure("UserQuiz","id","uid","question_type","content","number_choices","correct_choices","solution","knowledges","c_at","hc_at"),e.dataPath=function(t){var e;return e=api.sync().ref("uqz").child(this.cu.uid),t?e.child(t):e},e.prototype.dataPath=function(){return e.dataPath(this.id)},e.formatFromW=function(t,e){var n;return n={question_type:e.ty,content:e.con,number_choices:e.nco,correct_choices:e.cco,solution:e.sol,hc_at:moment(e.c_at).format("YYYY-MM-DD HH:mm"),c_at:e.c_at,uid:e.uid,id:t},n.knowledges=e.kno?e.kno.split(","):[],n},e.queryAll=function(t,e){var n,i;return null==t&&(t={}),!t.key&&this.loaded?void("function"==typeof e&&e(this.all(),this.more)):(n=t.per||10,i=this.dataPath().orderByChild("c_at"),t.key&&(i=i.endAt(t.key-1)),i.limitToLast(n).once("value").then(function(t){return function(i){var r,o;return r=$.map(i.val(),function(e,n){return t.formatFromW(n,e)}),t.more=r.length===n,o=t.refresh(r.reverse()),t.loaded=!0,"function"==typeof e?e(o,t.more):void 0}}(this)))},e.prototype["delete"]=function(t){return this.dataPath().remove(function(e){return function(){return e.destroy(),"function"==typeof t?t():void 0}}(this))},e.convertData=function(t){return{c_at:wilddog.sync().ServerValue.TIMESTAMP,ty:t.question_type,con:t.content,sol:t.solution,kno:t.knowledges,cco:t.correct_choices||!1,nco:t.number_choices||!1}},e.prototype.updateData=function(t,n){return this.dataPath().update(e.convertData(t)).then(function(e){return function(){return t.knowledges=t.knowledges?t.knowledges.split(","):[],e.updateAttributes(t),"function"==typeof n?n():void 0}}(this))["catch"](function(t){return console.error(t)})},e.insert=function(t,e){var n,i,r;return null==e&&(e={}),n=this.convertData(t),n.uid=this.cu.uid,r=this.dataPath().push(n),(i=r.key())?this.dataPath(i).once("value").then(function(n){return function(i){var r;return console.info("sync [user quiz] done"),t=n.formatFromW(i.key(),i.val()),r=n.create(t,{idx:0}),"function"==typeof e.done?e.done(r):void 0}}(this)):void 0},e.prototype.props=function(){var t,e,n,i,r;for(n=["uid","question_type","content","number_choices","correct_choices","solution","knowledges"],r={},t=0,i=n.length;i>t;t++)e=n[t],r[e]=this.attributes()[e];return r},e}(Spine.Model),e.exports=i},{}],108:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.configure("UserVideo","id","title","duration","c_at","hc_at","blob_audio","canvas_data","audio_path"),e.dataPath=function(t){return api.sync().ref("uvd").child(t||this.cu.uid)},e.prototype.dataPath=function(){return e.dataPath().child(this.id)},e.prototype.shareUrl=function(){return"/player#/v/"+this.id},e.formatFromW=function(t,e){return{id:t,title:e.t,duration:e.dur,c_at:e.c_at,hc_at:moment(e.c_at).format("YYYY-MM-DD HH:mm")}},e.queryAll=function(t,e){var n,i;return null==t&&(t={}),n=t.per||10,i=this.dataPath().orderByChild("c_at"),t.key&&(i=i.endAt(t.key-1)),i.limitToLast(n).once("value",function(t){return function(i){var r,o,s;return r=$.map(i.val(),function(e,n){return t.formatFromW(n,e)}),o=r.length===n,s=t.refresh(r.reverse()),"function"==typeof e?e(s,o):void 0}}(this))},e.prototype["delete"]=function(t){return this.dataPath().remove(function(e){return function(){return e.destroy(),"function"==typeof t?t():void 0}}(this))},e.insertOne=function(t,e){var n;return null==e&&(e={}),n=this.dataPath(t.uid).child(t.id),n.set({t:t.title,dur:t.duration,c_at:wilddog.sync().ServerValue.TIMESTAMP}),n.once("value",function(t){return function(n){var i;return i=t.create(t.formatFromW(n.key(),n.val())),"function"==typeof e.done?e.done(i):void 0}}(this))},e.createFromLocal=function(t,e,n){return this.create({title:"本地未命名视频",duration:$.durationFormat(JSON.parse(t).dur),canvas_data:t,blob_audio:n,audio_path:e})},e}(Spine.Model),e.exports=i},{}],109:[function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=t("../../_share/lib/api_service"),r=t("./doc"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.configure("Video","id","title","duration","canvas_data","audio_path","cover_url","cover","c_at","uid","count","blob_audio"),e.extend(i),e.dataPath=function(t){var e;return e=api.sync().ref("vd"),t?e.child(t):e},e.prototype.dataPath=function(){return e.dataPath(this.id)},e.prototype.shareUrl=function(){return"/player#/v/"+this.id},e.formatFromW=function(t,e){var n;return n={id:t,title:e.t,duration:$.durationFormat(JSON.parse(e.cd).dur),canvas_data:e.cd,audio_path:this.static_prefix+e.ap,c_at:moment(e.c_at).format("YYYY-MM-DD HH:mm"),uid:e.uid,count:e.n,cover_url:e.cover_url},e.cover_url&&(n.cover=this.static_prefix+e.cover_url),n},e.queryByUser=function(t,e){return this.dataPath().orderByChild("uid").equalTo(t).once("value",function(t){return function(n){var i;return i=$.map(n.val(),function(e,n){return t.formatFromW(n,e)}),t.refresh(i,{clear:!0}),null!=e?e.apply(t):void 0}}(this))},e.uploadAudio=function(t,e){var n;return n=new FormData,n.append("file",t),this.uploadFile("audio",n,{done:function(n){return console.info("sync [audio] "+$.humanFileSize(t.size)),"function"==typeof e&&e(n.url),r.insert(n.url,t.size,"O")},fail:function(){return console.error("FAIL_UPLOAD AUDIO")},options:{"content-type":"audio/ogg"}})},e.upload=function(t,e,n,i,r){var o,s;return s=$.grep(n.stage,function(t){return t.bg}),s.length&&(o=s[0].bg.url),this.uploadAudio(i,function(i){return function(s){var a,l,u;return u={cd:JSON.stringify(n),ap:s,c_at:wilddog.sync().ServerValue.TIMESTAMP,t:e,uid:t},o&&(u.cover_url=o),l=i.dataPath().push(u),(a=l.key())?i.dataPath(a).once("value",function(t){var e,n;return console.info("sync [video] done"),e=i.formatFromW(t.key(),t.val()),n=i.create(e),"function"==typeof r?r(n):void 0}):void 0}}(this))},e.prototype["delete"]=function(t){return this.dataPath().remove(function(e){return function(){return e.destroy(),"function"==typeof t?t():void 0}}(this))},e.queryById=function(t,e){var n;return null==e&&(e={}),(n=this.find(t))?(e.done(n),void("function"==typeof e.always&&e.always())):this.dataPath().child(t).once("value",function(t){return function(i){return"function"==typeof e.always&&e.always(),i.val()?(n=t.create(t.formatFromW(i.key(),i.val())),e.done(n)):"function"==typeof e.fail?e.fail():void 0}}(this))},e.prototype.played=function(){var t;return t=this.count||0,this.dataPath().child("n").set(t+1).then(function(e){return function(){return"undefined"!=typeof woopra&&null!==woopra?woopra.track("video:play",{title:e.title,count:t}):void 0}}(this))},e.queryByTitle=function(t,e){return this.dataPath().orderByChild("t").equalTo(t).once("value",function(t){return function(n){var i,r;return i=$.map(n.val(),function(e,n){return t.formatFromW(n,e)}),r=t.refresh(i,{clear:!0}),"function"==typeof e?e(r):void 0}}(this))},e}(Spine.Model),e.exports=o},{"../../_share/lib/api_service":66,"./doc":100}],110:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t){e.push('<div class="avatar"><img'+i.attr("src",t,!0,!1)+"/></div>")}.call(this,"avatar"in n?n.avatar:"undefined"!=typeof avatar?avatar:void 0),e.join("")}},{"jade/runtime":136}],111:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<p>这是一款用于录制课程的工具，支持离线使用，可以通过外接手写设备书写笔迹，并提供上传PDF课件，插入图片，文字标注等功能</p><p>注册会员后，提供云端存储服务，录制的课程永久保存</p><p>直播版本正在开发中，敬请期待！</p><p>有对本产品感兴趣的，欢迎联系我！</p><div class="label-ebs inline"><div class="label-header"><div class="as-table"><span>当前版本</span></div></div><div class="label-body">0.57</div></div><div class="label-ebs inline"><div class="label-header"><div class="as-table"><span>Chrome</span></div></div><div class="label-body">版本 53</div></div><hr/><ul class="veg-nav list-unstyled"><li><a href="mailto:kkxlkkxllb@gmail.com"><i class="fa fa-envelope-o"></i> Email</a></li><li><a href="https://github.com/kkxlkkxllb" target="blank"><i class="fa fa-github"></i> Github</a></li><li><a href="https://twitter.com/17uporg" target="blank"><i class="fa fa-twitter"></i> Twitter</a></li></ul>'),e.join("")}},{"jade/runtime":136}],112:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],r=t||{};return function(t,r){t&&n.push('<div class="well well-sm">'+i.escape(null==(e=t)?"":e)+"</div>"),n.push('<div class="form-group"><input type="text" name="title"'+i.attr("placeholder",r,!0,!1)+' required="required" autofocus="autofocus" class="form-control"/></div>')}.call(this,"info"in r?r.info:"undefined"!=typeof info?info:void 0,"placeholder"in r?r.placeholder:"undefined"!=typeof placeholder?placeholder:void 0),n.join("")}},{"jade/runtime":136}],113:[function(t,e,n){var i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.configure("Room","id","nick","avatar","c_sec","active"),e.dataPath=function(t){var e;return e=api.sync().ref("live"),t?e.child(t):e},e.prototype.dataPath=function(){return e.dataPath(this.id)},e.prototype.syncPath=function(){return this.dataPath().child("sync")},e.prototype.roomUrl=function(){return"/live?u="+this.id},e.formatFromW=function(t,e){return $.extend({},e,{id:t})},e.open=function(t,e){return this.dataPath(t.uid).set({nick:t.nick,avatar:t.avatar,c_sec:t.c_sec,active:!0}).then(function(n){return function(){return n.query(t.uid,e)}}(this))},e.prototype.close=function(){return this.dataPath().update({active:!1}).then(function(t){return function(){return t.active=!1,e.canSync=!1,t.save()}}(this))},e.query=function(t,e){return this.dataPath(t).once("value").then(function(t){return function(n){var i;return n.val()?(i=t.create(t.formatFromW(n.key(),n.val())),t.canSync=i.active,"function"==typeof e?e(i):void 0):"function"==typeof e?e(!1):void 0}}(this))},e.prototype.doSync=function(t,e){var n;return n={ac:t,data:e},this.syncPath().set(JSON.stringify(n))},e.prototype.upProp=function(t){return this.updateAttributes(t),this.dataPath().update(t)},e.prototype.listenSync=function(t){return this.syncPath().on("value",function(e){return t(JSON.parse(e.val()));
})},e}(Spine.Model),e.exports=i},{}],114:[function(t,e,n){(function(t,i){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?i(n):"function"==typeof define&&define.amd?define(["exports"],i):i(t.async=t.async||{})}(this,function(e){"use strict";function n(t,e,n){var i=n.length;switch(i){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){var e=r(t)?mn.call(t):"";return e==vn||e==yn}function s(t){return!!t&&"object"==typeof t}function a(t){return"symbol"==typeof t||s(t)&&wn.call(t)==bn}function l(t){if("number"==typeof t)return t;if(a(t))return xn;if(r(t)){var e=o(t.valueOf)?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(kn,"");var n=On.test(t);return n||Sn.test(t)?Tn(t.slice(2),n?2:8):Cn.test(t)?xn:+t}function u(t){if(!t)return 0===t?t:0;if(t=l(t),t===En||t===-En){var e=0>t?-1:1;return e*Pn}return t===t?t:0}function c(t){var e=u(t),n=e%1;return e===e?n?e-n:e:0}function d(t,e){if("function"!=typeof t)throw new TypeError(An);return e=jn(void 0===e?t.length-1:c(e),0),function(){for(var i=arguments,r=-1,o=jn(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,i[0],s);case 2:return t.call(this,i[0],i[1],s)}var a=Array(e+1);for(r=-1;++r<e;)a[r]=i[r];return a[e]=s,n(t,this,a)}}function p(t){return d(function(e){var n=e.pop();t.call(this,e,n)})}function h(t){return d(function(e,n){var i=p(function(n,i){var r=this;return t(e,function(t,e){t.apply(r,n.concat([e]))},i)});return n.length?i.apply(this,n):i})}function f(){}function v(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}function y(t){return function(e){return null==e?void 0:e[t]}}function g(t){return"number"==typeof t&&t>-1&&t%1==0&&$n>=t}function m(t){return null!=t&&g(Ln(t))&&!o(t)}function b(t){return Dn&&t[Dn]&&t[Dn]()}function _(t){return In(Object(t))}function w(t,e){return null!=t&&(Rn.call(t,e)||"object"==typeof t&&e in t&&null===_(t))}function x(t){return Mn(Object(t))}function k(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function C(t){return s(t)&&m(t)}function O(t){return C(t)&&Bn.call(t,"callee")&&(!Un.call(t,"callee")||zn.call(t)==qn)}function S(t){return"string"==typeof t||!Hn(t)&&s(t)&&Vn.call(t)==Wn}function T(t){var e=t?t.length:void 0;return g(e)&&(Hn(t)||S(t)||O(t))?k(e,String):null}function E(t,e){return e=null==e?Xn:e,!!e&&("number"==typeof t||Qn.test(t))&&t>-1&&t%1==0&&e>t}function P(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Gn;return t===n}function A(t){var e=P(t);if(!e&&!m(t))return x(t);var n=T(t),i=!!n,r=n||[],o=r.length;for(var s in t)!w(t,s)||i&&("length"==s||E(s,o))||e&&"constructor"==s||r.push(s);return r}function j(t){var e,n=-1;if(m(t))return e=t.length,function(){return n++,e>n?{value:t[n],key:n}:null};var i=b(t);if(i)return function(){var t=i.next();return t.done?null:(n++,{value:t.value,key:n})};var r=A(t);return e=r.length,function(){n++;var i=r[n];return e>n?{value:t[i],key:i}:null}}function L(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function $(t){return function(e,n,i){i=v(i||f),e=e||[];var r=j(e);if(0>=t)return i(null);var o=!1,s=0,a=!1;!function l(){if(o&&0>=s)return i(null);for(;t>s&&!a;){var e=r();if(null===e)return o=!0,void(0>=s&&i(null));s+=1,n(e.value,e.key,L(function(t){s-=1,t?(i(t),a=!0):l()}))}}()}}function D(t){return function(e,n,i,r){return t($(n),e,i,r)}}function I(t,e,n,i){i=v(i||f),e=e||[];var r=[],o=0;t(e,function(t,e,i){var s=o++;n(t,function(t,e){r[s]=e,i(t)})},function(t){i(t,r)})}function N(t,e){return function(n,i,r){return t(n,e,i,r)}}function R(t){return p(function(e,n){var i;try{i=t.apply(this,e)}catch(o){return n(o)}r(i)&&"function"==typeof i.then?i.then(function(t){n(null,t)})["catch"](function(t){n(t.message?t:new Error(t))}):n(null,i)})}function M(t,e){for(var n=-1,i=t?t.length:0;++n<i&&e(t[n],n,t)!==!1;);return t}function q(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(n(o[l],l,o)===!1)break}return e}}function F(t,e){return t&&ii(t,e,A)}function B(){this.__data__=[]}function z(t,e){return t===e||t!==t&&e!==e}function U(t,e){for(var n=t.length;n--;)if(z(t[n][0],e))return n;return-1}function H(t){var e=this.__data__,n=U(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():oi.call(e,n,1),!0}function W(t){var e=this.__data__,n=U(e,t);return 0>n?void 0:e[n][1]}function Y(t){return U(this.__data__,t)>-1}function V(t,e){var n=this.__data__,i=U(n,t);return 0>i?n.push([t,e]):n[i][1]=e,this}function X(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Q(){this.__data__=new X}function G(t){return this.__data__["delete"](t)}function Z(t){return this.__data__.get(t)}function K(t){return this.__data__.has(t)}function J(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function tt(t){return t&&t.Object===Object?t:null}function et(t){return!!di&&di in t}function nt(t){if(null!=t){try{return pi.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function it(t){if(!r(t)||et(t))return!1;var e=o(t)||J(t)?mi:fi;return e.test(nt(t))}function rt(t,e){return null==t?void 0:t[e]}function ot(t,e){var n=rt(t,e);return it(n)?n:void 0}function st(){this.__data__=bi?bi(null):{}}function at(t){return this.has(t)&&delete this.__data__[t]}function lt(t){var e=this.__data__;if(bi){var n=e[t];return n===_i?void 0:n}return xi.call(e,t)?e[t]:void 0}function ut(t){var e=this.__data__;return bi?void 0!==e[t]:Ci.call(e,t)}function ct(t,e){var n=this.__data__;return n[t]=bi&&void 0===e?Oi:e,this}function dt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function pt(){this.__data__={hash:new dt,map:new(Si||X),string:new dt}}function ht(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ft(t,e){var n=t.__data__;return ht(e)?n["string"==typeof e?"string":"hash"]:n.map}function vt(t){return ft(this,t)["delete"](t)}function yt(t){return ft(this,t).get(t)}function gt(t){return ft(this,t).has(t)}function mt(t,e){return ft(this,t).set(t,e),this}function bt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function _t(t,e){var n=this.__data__;return n instanceof X&&n.__data__.length==Ti&&(n=this.__data__=new bt(n.__data__)),n.set(t,e),this}function wt(t){this.__data__=new X(t)}function xt(t){return this.__data__.set(t,Ei),this}function kt(t){return this.__data__.has(t)}function Ct(t){var e=-1,n=t?t.length:0;for(this.__data__=new bt;++e<n;)this.add(t[e])}function Ot(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function St(t,e,n,i,r,o){var s=r&Ai,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t);if(u)return u==e;var c=-1,d=!0,p=r&Pi?new Ct:void 0;for(o.set(t,e);++c<a;){var h=t[c],f=e[c];if(i)var v=s?i(f,h,c,e,t,o):i(h,f,c,t,e,o);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!Ot(e,function(t,e){return p.has(e)||h!==t&&!n(h,t,i,r,o)?void 0:p.add(e)})){d=!1;break}}else if(h!==f&&!n(h,f,i,r,o)){d=!1;break}}return o["delete"](t),d}function Tt(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function Et(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Pt(t,e,n,i,r,o,s){switch(n){case Wi:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Hi:return!(t.byteLength!=e.byteLength||!i(new Li(t),new Li(e)));case Ii:case Ni:return+t==+e;case Ri:return t.name==e.name&&t.message==e.message;case qi:return t!=+t?e!=+e:t==+e;case Fi:case zi:return t==e+"";case Mi:var a=Tt;case Bi:var l=o&Di;if(a||(a=Et),t.size!=e.size&&!l)return!1;var u=s.get(t);return u?u==e:(o|=$i,s.set(t,e),St(a(t),a(e),i,r,o,s));case Ui:if(Vi)return Vi.call(t)==Vi.call(e)}return!1}function At(t,e,n,i,r,o){var s=r&Xi,a=A(t),l=a.length,u=A(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var p=a[d];if(!(s?p in e:w(e,p)))return!1}var h=o.get(t);if(h)return h==e;var f=!0;o.set(t,e);for(var v=s;++d<l;){p=a[d];var y=t[p],g=e[p];if(i)var m=s?i(g,y,p,e,t,o):i(y,g,p,t,e,o);if(!(void 0===m?y===g||n(y,g,i,r,o):m)){f=!1;break}v||(v="constructor"==p)}if(f&&!v){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o["delete"](t),f}function jt(t){return sr.call(t)}function Lt(t){return s(t)&&g(t.length)&&!!Rr[qr.call(t)]}function $t(t,e,n,i,r,o){var s=Hn(t),a=Hn(e),l=zr,u=zr;s||(l=pr(t),l=l==Br?Ur:l),a||(u=pr(e),u=u==Br?Ur:u);var c=l==Ur&&!J(t),d=u==Ur&&!J(e),p=l==u;if(p&&!c)return o||(o=new wt),s||Lt(t)?St(t,e,n,i,r,o):Pt(t,e,l,n,i,r,o);if(!(r&Fr)){var h=c&&Wr.call(t,"__wrapped__"),f=d&&Wr.call(e,"__wrapped__");if(h||f){var v=h?t.value():t,y=f?e.value():e;return o||(o=new wt),n(v,y,i,r,o)}}return p?(o||(o=new wt),At(t,e,n,i,r,o)):!1}function Dt(t,e,n,i,o){return t===e?!0:null==t||null==e||!r(t)&&!s(e)?t!==t&&e!==e:$t(t,e,Dt,n,i,o)}function It(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=Object(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=n[r];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(void 0===u&&!(l in t))return!1}else{var d=new wt;if(i)var p=i(u,c,l,t,e,d);if(!(void 0===p?Dt(c,u,i,Yr|Vr,d):p))return!1}}return!0}function Nt(t){return t===t&&!r(t)}function Rt(t){for(var e=A(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Nt(r)]}return e}function Mt(t,e){return function(n){return null==n?!1:n[t]===e&&(void 0!==e||t in Object(n))}}function qt(t){var e=Rt(t);return 1==e.length&&e[0][2]?Mt(e[0][0],e[0][1]):function(n){return n===t||It(n,t,e)}}function Ft(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Xr);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(Ft.Cache||bt),n}function Bt(t){if("string"==typeof t)return t;if(a(t))return Kr?Kr.call(t):"";var e=t+"";return"0"==e&&1/t==-Gr?"-0":e}function zt(t){return null==t?"":Bt(t)}function Ut(t){return Hn(t)?t:eo(t)}function Ht(t,e){if(Hn(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||a(t)?!0:io.test(t)||!no.test(t)||null!=e&&t in Object(e)}function Wt(t){if("string"==typeof t||a(t))return t;var e=t+"";return"0"==e&&1/t==-ro?"-0":e}function Yt(t,e){e=Ht(e,t)?[e]:Ut(e);for(var n=0,i=e.length;null!=t&&i>n;)t=t[Wt(e[n++])];return n&&n==i?t:void 0}function Vt(t,e,n){var i=null==t?void 0:Yt(t,e);return void 0===i?n:i}function Xt(t,e){return null!=t&&e in Object(t)}function Qt(t,e,n){e=Ht(e,t)?[e]:Ut(e);for(var i,r=-1,o=e.length;++r<o;){var s=Wt(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;var o=t?t.length:0;return!!o&&g(o)&&E(s,o)&&(Hn(t)||S(t)||O(t))}function Gt(t,e){return null!=t&&Qt(t,e,Xt)}function Zt(t,e){return Ht(t)&&Nt(e)?Mt(Wt(t),e):function(n){var i=Vt(n,t);return void 0===i&&i===e?Gt(n,t):Dt(e,i,void 0,oo|so)}}function Kt(t){return t}function Jt(t){return function(e){return Yt(e,t)}}function te(t){return Ht(t)?y(Wt(t)):Jt(t)}function ee(t){return"function"==typeof t?t:null==t?Kt:"object"==typeof t?Hn(t)?Zt(t[0],t[1]):qt(t):te(t)}function ne(t,e){return t&&F(t,ee(e,3))}function ie(t,e,n){for(var i=t.length,r=e+(n?1:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function re(t,e,n){if(e!==e)return ie(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function oe(t,e,n){function i(t,e){b.push(function(){a(t,e)})}function r(){if(0===b.length&&0===y)return n(null,h);for(;b.length&&e>y;){var t=b.shift();t()}}function o(t,e){var n=m[t];n||(n=m[t]=[]),n.push(e)}function s(t){var e=m[t]||[];M(e,function(t){t()}),r()}function a(t,e){if(!g){var i=L(d(function(e,i){if(y--,i.length<=1&&(i=i[0]),e){var r={};ne(h,function(t,e){r[e]=t}),r[t]=i,g=!0,m=[],n(e,r)}else h[t]=i,s(t)}));y++;var r=e[e.length-1];e.length>1?r(h,i):r(i)}}function l(){for(var t,e=0;_.length;)t=_.pop(),e++,M(u(t),function(t){--w[t]||_.push(t)});if(e!==p)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function u(e){var n=[];return ne(t,function(t,i){Hn(t)&&re(t,e,0)>=0&&n.push(i)}),n}"function"==typeof e&&(n=e,e=null),n=v(n||f);var c=A(t),p=c.length;if(!p)return n(null);e||(e=p);var h={},y=0,g=!1,m={},b=[],_=[],w={};ne(t,function(e,n){if(!Hn(e))return i(n,[e]),void _.push(n);var r=e.slice(0,e.length-1),s=r.length;return 0===s?(i(n,e),void _.push(n)):(w[n]=s,void M(r,function(a){if(!t[a])throw new Error("async.auto task `"+n+"` has a non-existent dependency in "+r.join(", "));o(a,function(){s--,0===s&&i(n,e)})}))}),l(),r()}function se(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function ae(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function le(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}function ue(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:le(t,e,n)}function ce(t,e){for(var n=t.length;n--&&re(e,t[n],0)>-1;);return n}function de(t,e){for(var n=-1,i=t.length;++n<i&&re(e,t[n],0)>-1;);return n}function pe(t){return t.match(Oo)}function he(t,e,n){if(t=zt(t),t&&(n||void 0===e))return t.replace(So,"");if(!t||!(e=Bt(e)))return t;var i=pe(t),r=pe(e),o=de(i,r),s=ce(i,r)+1;return ue(i,o,s).join("")}function fe(t){return he(t.toString().match(To)[2]).split(/\s*\,\s*/)}function ve(t,e){var n={};ne(t,function(t,e){function i(e,n){var i=se(r,function(t){return e[t]});i.push(n),t.apply(null,i)}var r;if(Hn(t))r=ae(t),t=r.pop(),n[e]=r.concat(r.length>0?i:t);else{if(0===t.length)throw new Error("autoInject task functions require explicit parameters.");1===t.length?n[e]=t:(r=fe(t),r.pop(),n[e]=r.concat(i))}}),oe(n,e)}function ye(t){setTimeout(t,0)}function ge(t){return d(function(e,n){t(function(){e.apply(null,n)})})}function me(t,e,n){function i(t,e,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");return t.started=!0,Hn(e)||(e=[e]),0===e.length&&t.idle()?jo(function(){t.drain()}):(M(e,function(e){var r={data:e,callback:i||f};n?t.tasks.unshift(r):t.tasks.push(r)}),void jo(t.process))}function r(t,e){return function(){o-=1;var n=!1,i=arguments;M(e,function(e){M(s,function(t,i){t!==e||n||(s.splice(i,1),n=!0)}),e.callback.apply(e,i),null!=i[0]&&t.error(i[0],e.data)}),o<=t.concurrency-t.buffer&&t.unsaturated(),t.tasks.length+o===0&&t.drain(),t.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=0,s=[],a={tasks:[],concurrency:e,payload:n,saturated:f,unsaturated:f,buffer:e/4,empty:f,drain:f,error:f,started:!1,paused:!1,push:function(t,e){i(a,t,!1,e)},kill:function(){a.drain=f,a.tasks=[]},unshift:function(t,e){i(a,t,!0,e)},process:function(){for(;!a.paused&&o<a.concurrency&&a.tasks.length;){var e=a.payload?a.tasks.splice(0,a.payload):a.tasks.splice(0,a.tasks.length),n=se(e,y("data"));0===a.tasks.length&&a.empty(),o+=1,s.push(e[0]),o===a.concurrency&&a.saturated();var i=L(r(a,e));t(n,i)}},length:function(){return a.tasks.length},running:function(){return o},workersList:function(){return s},idle:function(){return a.tasks.length+o===0},pause:function(){a.paused=!0},resume:function(){if(a.paused!==!1){a.paused=!1;for(var t=Math.min(a.concurrency,a.tasks.length),e=1;t>=e;e++)jo(a.process)}}};return a}function be(t,e){return me(t,1,e)}function _e(t,e,n,i){$(e)(t,n,i)}function we(t,e,n,i){Lo(t,function(t,i,r){n(e,t,function(t,n){e=n,r(t)})},function(t){i(t,e)})}function xe(){var t=arguments;return d(function(e){var n=this,i=e[e.length-1];"function"==typeof i?e.pop():i=f,we(t,e,function(t,e,i){e.apply(n,t.concat([d(function(t,e){i(t,e)})]))},function(t,e){i.apply(n,[t].concat(e))})})}function ke(){return xe.apply(null,$o.call(arguments))}function Ce(t,e,n,i){var r=[];t(e,function(t,e,i){n(t,function(t,e){r=r.concat(e||[]),i(t)})},function(t){i(t,r)})}function Oe(t){return function(e,n,i){return t(Do,e,n,i)}}function Se(t){return function(e,n,i){return t(Lo,e,n,i)}}function Te(t,e,n){return function(i,r,o,s){function a(t){s&&(t?s(t):s(null,n(!1)))}function l(t,i,r){return s?void o(t,function(i,a){s&&(i?(s(i),s=o=!1):e(a)&&(s(null,n(!0,t)),s=o=!1)),r()}):r()}arguments.length>3?(s=s||f,t(i,r,l,a)):(s=o,s=s||f,o=r,t(i,l,a))}}function Ee(t,e){return e}function Pe(t){return d(function(e,n){e.apply(null,n.concat([d(function(e,n){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&M(n,function(e){console[t](e)}))})]))})}function Ae(t,e,n){n=n||f;var i=d(function(e,i){e?n(e):(i.push(r),t.apply(this,i))}),r=function(t,r){return t?n(t):r?void e(i):n(null)};t(r)}function je(t,e,n){var i=0;Ae(function(t){return i++<1?t(null,!0):void e.apply(this,arguments)},t,n)}function Le(t,e,n){if(n=n||f,!t())return n(null);var i=d(function(r,o){return r?n(r):t.apply(this,o)?e(i):void n.apply(null,[null].concat(o))});e(i)}function $e(t,e,n){var i=0;return Le(function(){return++i<=1||e.apply(this,arguments)},t,n)}function De(t,e,n){return $e(t,function(){return!e.apply(this,arguments)},n)}function Ie(t){return function(e,n,i){return t(e,i)}}function Ne(t,e,n,i){return $(e)(t,Ie(n),i)}function Re(t){return p(function(e,n){var i=!0;e.push(function(){var t=arguments;i?jo(function(){n.apply(null,t)}):n.apply(null,t)}),t.apply(this,e),i=!1})}function Me(t){return!t}function qe(t,e,n,i){var r=[];t(e,function(t,e,i){n(t,function(n,o){n?i(n):(o&&r.push({index:e,value:t}),i())})},function(t){t?i(t):i(null,se(r.sort(function(t,e){return t.index-e.index}),y("value")))})}function Fe(t,e){function n(t){return t?i(t):void r(n)}var i=L(e||f),r=Re(t);n()}function Be(t){function e(n){function i(){return t.length&&t[n].apply(null,arguments),i.next()}return i.next=function(){return n<t.length-1?e(n+1):null},i}return e(0)}function ze(t,e,n,i){var r={};_e(t,e,function(t,e,i){n(t,e,function(t,n){return t?i(t):(r[e]=n,void i())})},function(t){i(t,r)})}function Ue(t,e){return e in t}function He(t,e){var n=Object.create(null),i=Object.create(null);e=e||Kt;var r=p(function(r,o){var s=e.apply(null,r);Ue(n,s)?jo(function(){o.apply(null,n[s])}):Ue(i,s)?i[s].push(o):(i[s]=[o],t.apply(null,r.concat([d(function(t){n[s]=t;var e=i[s];delete i[s];for(var r=0,o=e.length;o>r;r++)e[r].apply(null,t)})])))});return r.memo=n,r.unmemoized=t,r}function We(t,e,n){n=n||f;var i=m(e)?[]:{};t(e,function(t,e,n){t(d(function(t,r){r.length<=1&&(r=r[0]),i[e]=r,n(t)}))},function(t){n(t,i)})}function Ye(t,e,n){return We($(e),t,n)}function Ve(t,e){return me(function(e,n){t(e[0],n)},e,1)}function Xe(t,e){function n(t,e){return t.priority-e.priority}function i(t,e,n){for(var i=-1,r=t.length-1;r>i;){var o=i+(r-i+1>>>1);n(e,t[o])>=0?i=o:r=o-1}return i}function r(t,e,r,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,Hn(e)||(e=[e]),0===e.length?jo(function(){t.drain()}):void M(e,function(e){var s={data:e,priority:r,callback:"function"==typeof o?o:f};t.tasks.splice(i(t.tasks,s,n)+1,0,s),jo(t.process)})}var o=Ve(t,e);return o.push=function(t,e,n){r(o,t,e,n)},delete o.unshift,o}function Qe(t,e){return function(n,i){if(null==n)return n;if(!m(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=Object(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function Ge(t,e){var n=Hn(t)?M:es;return n(t,ee(e,3))}function Ze(t,e){return e=v(e||f),Hn(t)?t.length?void Ge(t,function(t){t(e)}):e():e(new TypeError("First argument to race must be an array of functions"))}function Ke(t,e,n,i){var r=ns.call(t).reverse();we(r,e,n,i)}function Je(t){return p(function(e,n){return e.push(d(function(t,e){if(t)n(null,{error:t});else{var i=null;1===e.length?i=e[0]:e.length>1&&(i=e),n(null,{value:i})}})),t.apply(this,e)})}function tn(t,e,n,i){qe(t,e,function(t,e){n(t,function(t,n){t?e(t):e(null,!n)})},i)}function en(t){return t.map(Je)}function nn(t,e){return We(Lo,t,e)}function rn(t){return function(){return t}}function on(t,e,n){function i(t,e){if("object"==typeof e)t.times=+e.times||s,t.intervalFunc="function"==typeof e.interval?e.interval:rn(+e.interval||a);else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||s}}function r(t){return function(n){e(function(e,i){n(!e||t,{err:e,result:i})})}}function o(t){return function(e){setTimeout(function(){e(null)},t)}}var s=5,a=0,l={times:s,intervalFunc:rn(a)};if(arguments.length<3&&"function"==typeof t?(n=e||f,e=t):(i(l,t),n=n||f),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");for(var u=[],c=1;c<l.times+1;c++){var d=c==l.times;u.push(r(d));var p=l.intervalFunc(c);!d&&p>0&&u.push(o(p))}nn(u,function(t,e){e=e[e.length-1],n(e.err,e.result)})}function sn(t,e){return e||(e=t,t=null),p(function(n,i){function r(t){e.apply(null,n.concat([t]))}t?on(t,r,i):on(r,i)})}function an(t,e,n){function i(t,e){var n=t.criteria,i=e.criteria;return i>n?-1:n>i?1:0}Kn(t,function(t,n){e(t,function(e,i){return e?n(e):void n(null,{value:t,criteria:i})})},function(t,e){return t?n(t):void n(null,se(e.sort(i),y("value")))})}function ln(t,e,n){function i(){a||(o.apply(null,arguments),clearTimeout(s))}function r(){var e=t.name||"anonymous",i=new Error('Callback function "'+e+'" timed out.');i.code="ETIMEDOUT",n&&(i.info=n),a=!0,o(i)}var o,s,a=!1;return p(function(n,a){o=a,s=setTimeout(r,e),t.apply(null,n.concat(i))})}function un(t,e,n,i){for(var r=-1,o=cs(us((e-t)/(n||1)),0),s=Array(o);o--;)s[i?o:++r]=t,t+=n;return s}function cn(t,e,n,i){return Zn(un(0,t,1),e,n,i)}function dn(t,e,n,i){3===arguments.length&&(i=n,n=e,e=Hn(t)?[]:{}),Do(t,function(t,i,r){n(e,t,i,r)},function(t){i(t,e)})}function pn(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function hn(t,e,n){return Le(function(){return!t.apply(this,arguments)},e,n)}function fn(t,e){function n(r){if(i===t.length)return e.apply(null,[null].concat(r));var o=L(d(function(t,i){return t?e.apply(null,[t].concat(i)):void n(i)}));r.push(o);var s=t[i++];s.apply(null,r)}if(e=v(e||f),!Hn(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var i=0;n([])}var vn="[object Function]",yn="[object GeneratorFunction]",gn=Object.prototype,mn=gn.toString,bn="[object Symbol]",_n=Object.prototype,wn=_n.toString,xn=NaN,kn=/^\s+|\s+$/g,Cn=/^[-+]0x[0-9a-f]+$/i,On=/^0b[01]+$/i,Sn=/^0o[0-7]+$/i,Tn=parseInt,En=1/0,Pn=1.7976931348623157e308,An="Expected a function",jn=Math.max,Ln=y("length"),$n=9007199254740991,Dn="function"==typeof Symbol&&Symbol.iterator,In=Object.getPrototypeOf,Nn=Object.prototype,Rn=Nn.hasOwnProperty,Mn=Object.keys,qn="[object Arguments]",Fn=Object.prototype,Bn=Fn.hasOwnProperty,zn=Fn.toString,Un=Fn.propertyIsEnumerable,Hn=Array.isArray,Wn="[object String]",Yn=Object.prototype,Vn=Yn.toString,Xn=9007199254740991,Qn=/^(?:0|[1-9]\d*)$/,Gn=Object.prototype,Zn=D(I),Kn=N(Zn,1/0),Jn=h(Kn),ti=N(Zn,1),ei=h(ti),ni=d(function(t,e){return d(function(n){return t.apply(null,e.concat(n))})}),ii=q(),ri=Array.prototype,oi=ri.splice;X.prototype.clear=B,X.prototype["delete"]=H,X.prototype.get=W,X.prototype.has=Y,X.prototype.set=V;var si=tt("object"==typeof i&&i),ai=tt("object"==typeof self&&self),li=tt("object"==typeof this&&this),ui=si||ai||li||Function("return this")(),ci=ui["__core-js_shared__"],di=function(){var t=/[^.]+$/.exec(ci&&ci.keys&&ci.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pi=Function.prototype.toString,hi=/[\\^$.*+?()[\]{}|]/g,fi=/^\[object .+?Constructor\]$/,vi=Object.prototype,yi=Function.prototype.toString,gi=vi.hasOwnProperty,mi=RegExp("^"+yi.call(gi).replace(hi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bi=ot(Object,"create"),_i="__lodash_hash_undefined__",wi=Object.prototype,xi=wi.hasOwnProperty,ki=Object.prototype,Ci=ki.hasOwnProperty,Oi="__lodash_hash_undefined__";dt.prototype.clear=st,dt.prototype["delete"]=at,dt.prototype.get=lt,dt.prototype.has=ut,dt.prototype.set=ct;var Si=ot(ui,"Map");bt.prototype.clear=pt,bt.prototype["delete"]=vt,bt.prototype.get=yt,bt.prototype.has=gt,bt.prototype.set=mt;var Ti=200;wt.prototype.clear=Q,wt.prototype["delete"]=G,wt.prototype.get=Z,wt.prototype.has=K,wt.prototype.set=_t;var Ei="__lodash_hash_undefined__";Ct.prototype.add=Ct.prototype.push=xt,Ct.prototype.has=kt;var Pi=1,Ai=2,ji=ui.Symbol,Li=ui.Uint8Array,$i=1,Di=2,Ii="[object Boolean]",Ni="[object Date]",Ri="[object Error]",Mi="[object Map]",qi="[object Number]",Fi="[object RegExp]",Bi="[object Set]",zi="[object String]",Ui="[object Symbol]",Hi="[object ArrayBuffer]",Wi="[object DataView]",Yi=ji?ji.prototype:void 0,Vi=Yi?Yi.valueOf:void 0,Xi=2,Qi=ot(ui,"DataView"),Gi=ot(ui,"Promise"),Zi=ot(ui,"Set"),Ki=ot(ui,"WeakMap"),Ji="[object Map]",tr="[object Object]",er="[object Promise]",nr="[object Set]",ir="[object WeakMap]",rr="[object DataView]",or=Object.prototype,sr=or.toString,ar=nt(Qi),lr=nt(Si),ur=nt(Gi),cr=nt(Zi),dr=nt(Ki);(Qi&&jt(new Qi(new ArrayBuffer(1)))!=rr||Si&&jt(new Si)!=Ji||Gi&&jt(Gi.resolve())!=er||Zi&&jt(new Zi)!=nr||Ki&&jt(new Ki)!=ir)&&(jt=function(t){var e=sr.call(t),n=e==tr?t.constructor:void 0,i=n?nt(n):void 0;if(i)switch(i){case ar:return rr;case lr:return Ji;case ur:return er;case cr:return nr;case dr:return ir}return e});var pr=jt,hr="[object Arguments]",fr="[object Array]",vr="[object Boolean]",yr="[object Date]",gr="[object Error]",mr="[object Function]",br="[object Map]",_r="[object Number]",wr="[object Object]",xr="[object RegExp]",kr="[object Set]",Cr="[object String]",Or="[object WeakMap]",Sr="[object ArrayBuffer]",Tr="[object DataView]",Er="[object Float32Array]",Pr="[object Float64Array]",Ar="[object Int8Array]",jr="[object Int16Array]",Lr="[object Int32Array]",$r="[object Uint8Array]",Dr="[object Uint8ClampedArray]",Ir="[object Uint16Array]",Nr="[object Uint32Array]",Rr={};Rr[Er]=Rr[Pr]=Rr[Ar]=Rr[jr]=Rr[Lr]=Rr[$r]=Rr[Dr]=Rr[Ir]=Rr[Nr]=!0,Rr[hr]=Rr[fr]=Rr[Sr]=Rr[vr]=Rr[Tr]=Rr[yr]=Rr[gr]=Rr[mr]=Rr[br]=Rr[_r]=Rr[wr]=Rr[xr]=Rr[kr]=Rr[Cr]=Rr[Or]=!1;var Mr=Object.prototype,qr=Mr.toString,Fr=2,Br="[object Arguments]",zr="[object Array]",Ur="[object Object]",Hr=Object.prototype,Wr=Hr.hasOwnProperty,Yr=1,Vr=2,Xr="Expected a function";Ft.Cache=bt;var Qr,Gr=1/0,Zr=ji?ji.prototype:void 0,Kr=Zr?Zr.toString:void 0,Jr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,to=/\\(\\)?/g,eo=Ft(function(t){var e=[];return zt(t).replace(Jr,function(t,n,i,r){e.push(i?r.replace(to,"$1"):n||t)}),e}),no=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,io=/^\w*$/,ro=1/0,oo=1,so=2,ao="\\ud800-\\udfff",lo="\\u0300-\\u036f\\ufe20-\\ufe23",uo="\\u20d0-\\u20f0",co="\\ufe0e\\ufe0f",po="["+ao+"]",ho="["+lo+uo+"]",fo="\\ud83c[\\udffb-\\udfff]",vo="(?:"+ho+"|"+fo+")",yo="[^"+ao+"]",go="(?:\\ud83c[\\udde6-\\uddff]){2}",mo="[\\ud800-\\udbff][\\udc00-\\udfff]",bo="\\u200d",_o=vo+"?",wo="["+co+"]?",xo="(?:"+bo+"(?:"+[yo,go,mo].join("|")+")"+wo+_o+")*",ko=wo+_o+xo,Co="(?:"+[yo+ho+"?",ho,go,mo,po].join("|")+")",Oo=RegExp(fo+"(?="+fo+")|"+Co+ko,"g"),So=/^\s+|\s+$/g,To=/^(function[^\(]*)?\(?\s*([^\)=]*)/m,Eo="function"==typeof setImmediate&&setImmediate,Po="object"==typeof t&&"function"==typeof t.nextTick;Qr=Eo?setImmediate:Po?t.nextTick:ye;var Ao,jo=ge(Qr),Lo=N(_e,1),$o=Array.prototype.reverse,Do=N(_e,1/0),Io=Oe(Ce),No=Se(Ce),Ro=d(function(t){var e=[null].concat(t);return p(function(t,n){return n.apply(this,e)})}),Mo=Te(Do,Kt,Ee),qo=Te(_e,Kt,Ee),Fo=Te(Lo,Kt,Ee),Bo=Pe("dir"),zo=N(Ne,1/0),Uo=N(Ne,1),Ho=Te(_e,Me,Me),Wo=N(Ho,1/0),Yo=N(Ho,1),Vo=D(qe),Xo=N(Vo,1/0),Qo=N(Vo,1),Go=Pe("log"),Zo=N(ze,1/0),Ko=N(ze,1);Ao=Po?t.nextTick:Eo?setImmediate:ye;var Jo=ge(Ao),ts=N(Ye,1/0),es=Qe(F),ns=Array.prototype.slice,is=D(tn),rs=N(is,1/0),os=N(is,1),ss=Te(_e,Boolean,Kt),as=N(ss,1/0),ls=N(ss,1),us=Math.ceil,cs=Math.max,ds=N(cn,1/0),ps=N(cn,1),hs={applyEach:Jn,applyEachSeries:ei,apply:ni,asyncify:R,auto:oe,autoInject:ve,cargo:be,compose:ke,concat:Io,concatSeries:No,constant:Ro,detect:Mo,detectLimit:qo,detectSeries:Fo,dir:Bo,doDuring:je,doUntil:De,doWhilst:$e,during:Ae,each:zo,eachLimit:Ne,eachOf:Do,eachOfLimit:_e,eachOfSeries:Lo,eachSeries:Uo,ensureAsync:Re,every:Wo,everyLimit:Ho,everySeries:Yo,filter:Xo,filterLimit:Vo,filterSeries:Qo,forever:Fe,iterator:Be,log:Go,map:Kn,mapLimit:Zn,mapSeries:ti,mapValues:Zo,mapValuesLimit:ze,mapValuesSeries:Ko,memoize:He,nextTick:Jo,parallel:ts,parallelLimit:Ye,priorityQueue:Xe,queue:Ve,race:Ze,reduce:we,reduceRight:Ke,reflect:Je,reflectAll:en,reject:rs,rejectLimit:is,rejectSeries:os,retry:on,retryable:sn,seq:xe,series:nn,setImmediate:jo,some:as,someLimit:ss,someSeries:ls,sortBy:an,timeout:ln,times:ds,timesLimit:cn,timesSeries:ps,transform:dn,unmemoize:pn,until:hn,waterfall:fn,whilst:Le,all:Wo,any:as,forEach:zo,forEachSeries:Uo,forEachLimit:Ne,forEachOf:Do,forEachOfSeries:Lo,forEachOfLimit:_e,inject:we,foldl:we,foldr:Ke,select:Xo,selectLimit:Vo,selectSeries:Qo,wrapSync:R};e["default"]=hs,e.applyEach=Jn,e.applyEachSeries=ei,e.apply=ni,e.asyncify=R,e.auto=oe,e.autoInject=ve,e.cargo=be,e.compose=ke,e.concat=Io,e.concatSeries=No,e.constant=Ro,e.detect=Mo,e.detectLimit=qo,e.detectSeries=Fo,e.dir=Bo,e.doDuring=je,e.doUntil=De,e.doWhilst=$e,e.during=Ae,e.each=zo,e.eachLimit=Ne,e.eachOf=Do,e.eachOfLimit=_e,e.eachOfSeries=Lo,e.eachSeries=Uo,e.ensureAsync=Re,e.every=Wo,e.everyLimit=Ho,e.everySeries=Yo,e.filter=Xo,e.filterLimit=Vo,e.filterSeries=Qo,e.forever=Fe,e.iterator=Be,e.log=Go,e.map=Kn,e.mapLimit=Zn,e.mapSeries=ti,e.mapValues=Zo,e.mapValuesLimit=ze,e.mapValuesSeries=Ko,e.memoize=He,e.nextTick=Jo,e.parallel=ts,e.parallelLimit=Ye,e.priorityQueue=Xe,e.queue=Ve,e.race=Ze,e.reduce=we,e.reduceRight=Ke,e.reflect=Je,e.reflectAll=en,e.reject=rs,e.rejectLimit=is,e.rejectSeries=os,e.retry=on,e.retryable=sn,e.seq=xe,e.series=nn,e.setImmediate=jo,e.some=as,e.someLimit=ss,e.someSeries=ls,e.sortBy=an,e.timeout=ln,e.times=ds,e.timesLimit=cn,e.timesSeries=ps,e.transform=dn,e.unmemoize=pn,e.until=hn,e.waterfall=fn,e.whilst=Le,e.all=Wo,e.allLimit=Ho,e.allSeries=Yo,e.any=as,e.anyLimit=ss,e.anySeries=ls,e.find=Mo,e.findLimit=qo,e.findSeries=Fo,e.forEach=zo,e.forEachSeries=Uo,e.forEachLimit=Ne,e.forEachOf=Do,e.forEachOfSeries=Lo,e.forEachOfLimit=_e,e.inject=we,e.foldl=we,e.foldr=Ke,e.select=Xo,e.selectLimit=Vo,e.selectSeries=Qo,e.wrapSync=R})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:141}],115:[function(t,e,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===d?62:e===a||e===p?63:l>e?-1:l+10>e?e-l+26+26:c+26>e?e-c:u+26>e?e-u+26:void 0}function n(t){function n(t){u[d++]=t}var i,r,s,a,l,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;l="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,u=new o(3*t.length/4-l),s=l>0?t.length-4:t.length;var d=0;for(i=0,r=0;s>i;i+=4,r+=3)a=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===l?(a=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,n(255&a)):1===l&&(a=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,n(a>>8&255),n(255&a)),u}function r(t){function e(t){return i.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,o,s,a=t.length%3,l="";for(r=0,s=t.length-a;s>r;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],l+=n(o);switch(a){case 1:o=t[t.length-1],l+=e(o>>2),l+=e(o<<4&63),l+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],l+=e(o>>10),l+=e(o>>4&63),l+=e(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),l="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),d="-".charCodeAt(0),p="_".charCodeAt(0);
t.toByteArray=n,t.fromByteArray=r}("undefined"==typeof n?this.base64js={}:n)},{}],116:[function(t,e,n){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof n?e(t("jquery"),t("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&-1!==t.inArray("Files",r.types)&&this._trigger(e,t.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return e.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],o=e.multipart||!t.support.xhrFileUpload,s="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:s,value:e.blob}):t.each(e.files,function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||s,value:r})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(s,e.blob,r.name):t.each(e.files,function(r,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||s,o,o.uploadName||o.name)})),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),o=r.promise();return n=n||this.options.context||o,e===!0?r.resolveWith(n,i):e===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,o){return(e||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)}).then(e,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,o=this,s=e.files[0],a=s.size,l=e.uploadedBytes,u=e.maxChunkSize||a,c=this._blobSlice,d=t.Deferred(),p=d.promise();return this._isXHRUpload(e)&&c&&(l||a>u)&&!e.data?n?!0:l>=a?(s.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",s.error])):(r=function(){var n=t.extend({},e),p=n._progress.loaded;n.blob=c.call(s,l,l+u,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&t.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,s,u){l=o._getUploadedBytes(u)||l+n.chunkSize,p+n.chunkSize-n._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=u,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),a>l?r():d.resolveWith(n.context,[i,s,u])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[t,e,i])})},this._enhancePromise(p),p.abort=function(){return i.abort()},r(),p):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=e,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,o,s,a=this,l=a._getAJAXSettings(n),u=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){a._onDone(t,e,n,l)}).fail(function(t,e,n){a._onFail(t,e,n,l)}).always(function(t,e,n){if(a._onAlways(t,e,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),s=o.then(u)):(this._sequence=this._sequence.then(u,u),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),u())},this._enhancePromise(s)):u()},_onAdd:function(e,n){var i,r,o,s,a=this,l=!0,u=t.extend({},this.options,n),c=n.files,d=c.length,p=u.limitMultiFileUploads,h=u.limitMultiFileUploadSize,f=u.limitMultiFileUploadSizeOverhead,v=0,y=this._getParamName(u),g=0;if(!d)return!1;if(h&&void 0===c[0].size&&(h=void 0),(u.singleFileUploads||p||h)&&this._isXHRUpload(u))if(u.singleFileUploads||h||!p)if(!u.singleFileUploads&&h)for(o=[],i=[],s=0;d>s;s+=1)v+=c[s].size+f,(s+1===d||v+c[s+1].size+f>h||p&&s+1-g>=p)&&(o.push(c.slice(g,s+1)),r=y.slice(g,s+1),r.length||(r=y),i.push(r),g=s+1,v=0);else i=y;else for(o=[],i=[],s=0;d>s;s+=p)o.push(c.slice(s,s+p)),r=y.slice(s,s+p),r.length||(r=y),i.push(r);else o=[c],i=[y];return n.originalFiles=c,t.each(o||c,function(r,s){var u=t.extend({},n);return u.files=o?s:[s],u.paramName=i[r],a._initResponseObject(u),a._initProgressObject(u),a._addConvenienceMethods(e,u),l=a._trigger("add",t.Event("add",{delegatedEvent:e}),u)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),r=n.is(document.activeElement);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),r&&i.focus(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,r=this,o=t.Deferred(),s=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},a=function(t){r._handleFileTreeEntries(t,n+e.name+"/").done(function(t){o.resolve(t)}).fail(s)},l=function(){i.readEntries(function(t){t.length?(u=u.concat(t),l()):a(u)},s)},u=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file(function(t){t.relativePath=n,o.resolve(t)},s):e.isDirectory?(i=e.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,r=e.prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)!==!1&&n._onAdd(e,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,function(t,r){var o,s=r.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),o=i[s],e._isRegExpOption(s,o)&&(o=e._getRegExp(o)),n[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=t.Deferred(),s=o.promise();return s.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void o.reject();e.files=t,n=r._onSend(null,e),n.then(function(t,e,n){o.resolve(t,e,n)},function(t,e,n){o.reject(t,e,n)})}}),this._enhancePromise(s)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})})},{"./vendor/jquery.ui.widget":117,jquery:138}],117:[function(t,e,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof n?t("jquery"):jQuery)}(function(t){var e=0,n=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,l={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],s=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;a>s;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&void 0!==r&&(t.isPlainObject(r)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):e[i]=r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,a):n.bind(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget})},{jquery:138}],118:[function(t,e,n){t("../../js/transition.js"),t("../../js/alert.js"),t("../../js/button.js"),t("../../js/carousel.js"),t("../../js/collapse.js"),t("../../js/dropdown.js"),t("../../js/modal.js"),t("../../js/tooltip.js"),t("../../js/popover.js"),t("../../js/scrollspy.js"),t("../../js/tab.js"),t("../../js/affix.js")},{"../../js/affix.js":119,"../../js/alert.js":120,"../../js/button.js":121,"../../js/carousel.js":122,"../../js/collapse.js":123,"../../js/dropdown.js":124,"../../js/modal.js":125,"../../js/popover.js":126,"../../js/scrollspy.js":127,"../../js/tab.js":128,"../../js/tooltip.js":129,"../../js/transition.js":130}],119:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=o.top?!1:"bottom":t-i>=r+s?!1:"bottom";var a=null==this.affixed,l=a?r:o.top,u=a?s:e;return null!=n&&n>=r?"top":null!=i&&l+u>=t-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery)},{}],120:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t(o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery)},{}],121:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery)},{}],122:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),
this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery)},{}],123:[function(t,e,n){+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();n.call(o,a)})}(jQuery)},{}],124:[function(t,e,n){+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=e(i),s=r.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery)},{}],125:[function(t,e,n){+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery)},{}],126:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery)},{}],127:[function(t,e,n){+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery)},{}],128:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery)},{}],129:[function(t,e,n){+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=o[0].offsetWidth,p=o[0].offsetHeight;if(u){var h=a,f=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+p>f.bottom?"top":"top"==a&&c.top-p<f.top?"bottom":"right"==a&&c.right+d>f.width?"left":"left"==a&&c.left-d<f.left?"right":a,o.removeClass(h).addClass(a)}var v=this.getCalculatedOffset(a,c,d,p);this.applyPlacement(v,a);var y=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",y).emulateTransitionEnd(n.TRANSITION_DURATION):y()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(n),p=d?2*c.left-r+l:2*c.top-o+u,h=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(p,i[0][h],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,a,o)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var u=e.left-o,c=e.left+o+n;u<s.left?r.left=s.left-u:c>s.right&&(r.left=s.left+s.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery)},{}],130:[function(t,e,n){+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery)},{}],131:[function(t,e,n){},{}],132:[function(t,e,n){(function(e){"use strict";function i(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?s(this,t):"string"==typeof t?a(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new o(t,arguments[1]):new o(t)}function s(t,e){if(t=v(t,0>e?0:0|y(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)t[n]=0;return t}function a(t,e,n){"string"==typeof n&&""!==n||(n="utf8");var i=0|m(e,n);return t=v(t,i),t.write(e,n),t}function l(t,e){if(o.isBuffer(e))return u(t,e);if(G(e))return c(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return d(t,e);if(e instanceof ArrayBuffer)return p(t,e)}return e.length?h(t,e):f(t,e)}function u(t,e){var n=0|y(e.length);return t=v(t,n),e.copy(t,0,0,n),t}function c(t,e){var n=0|y(e.length);t=v(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function d(t,e){var n=0|y(e.length);t=v(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function p(t,e){return o.TYPED_ARRAY_SUPPORT?(e.byteLength,t=o._augment(new Uint8Array(e))):t=d(t,new Uint8Array(e)),t}function h(t,e){var n=0|y(e.length);t=v(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function f(t,e){var n,i=0;"Buffer"===e.type&&G(e.data)&&(n=e.data,i=0|y(n.length)),t=v(t,i);for(var r=0;i>r;r+=1)t[r]=255&n[r];return t}function v(t,e){o.TYPED_ARRAY_SUPPORT?(t=o._augment(new Uint8Array(e)),
t.__proto__=o.prototype):(t.length=e,t._isBuffer=!0);var n=0!==e&&e<=o.poolSize>>>1;return n&&(t.parent=Z),t}function y(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function g(t,e){if(!(this instanceof g))return new g(t,e);var n=new o(t,e);return delete n.parent,n}function m(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(i)return U(t).length;e=(""+e).toLowerCase(),i=!0}}function b(t,e,n){var i=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return j(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return P(this,e,n);case"binary":return A(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function _(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function w(t,e,n,i){return V(U(e,t.length-n),t,n,i)}function x(t,e,n,i){return V(H(e),t,n,i)}function k(t,e,n,i){return x(t,e,n,i)}function C(t,e,n,i){return V(Y(e),t,n,i)}function O(t,e,n,i){return V(W(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;n>r;){var o=t[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(n>=r+a){var l,u,c,d;switch(a){case 1:128>o&&(s=o);break;case 2:l=t[r+1],128===(192&l)&&(d=(31&o)<<6|63&l,d>127&&(s=d));break;case 3:l=t[r+1],u=t[r+2],128===(192&l)&&128===(192&u)&&(d=(15&o)<<12|(63&l)<<6|63&u,d>2047&&(55296>d||d>57343)&&(s=d));break;case 4:l=t[r+1],u=t[r+2],c=t[r+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(d=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c,d>65535&&1114112>d&&(s=d))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=a}return E(i)}function E(t){var e=t.length;if(K>=e)return String.fromCharCode.apply(String,t);for(var n="",i=0;e>i;)n+=String.fromCharCode.apply(String,t.slice(i,i+=K));return n}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;r++)i+=String.fromCharCode(t[r]);return i}function j(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=e;n>o;o++)r+=z(t[o]);return r}function L(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function $(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,i,r,s){if(!o.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>r||s>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range")}function I(t,e,n,i){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);o>r;r++)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(t,e,n,i){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);o>r;r++)t[n+r]=e>>>8*(i?r:3-r)&255}function R(t,e,n,i,r,o){if(e>r||o>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function M(t,e,n,i,r){return r||R(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,i,23,4),n+4}function q(t,e,n,i,r){return r||R(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,i,52,8),n+8}function F(t){if(t=B(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return 16>t?"0"+t.toString(16):t.toString(16)}function U(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],s=0;i>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function W(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function Y(t){return X.toByteArray(F(t))}function V(t,e,n,i){for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}var X=t("base64-js"),Q=t("ieee754"),G=t("isarray");n.Buffer=o,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var Z={};o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:i(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);s>r&&t[r]===e[r];)++r;return r!==s&&(n=t[r],i=e[r]),i>n?-1:n>i?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!G(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new o(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new o(e),r=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(i,r),r+=s.length}return i},o.byteLength=m,o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):b.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:o.compare(this,t)},o.prototype.indexOf=function(t,e){function n(t,e,n){for(var i=-1,r=0;n+r<t.length;r++)if(t[n+r]===e[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===e.length)return n+i}else i=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(o.isBuffer(t))return n(this,t,e);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},o.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},o.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=e,e=0|n,n=r}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"binary":return k(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var i;if(o.TYPED_ARRAY_SUPPORT)i=o._augment(this.subarray(t,e));else{var r=e-t;i=new o(r,void 0);for(var s=0;r>s;s++)i[s]=this[s+t]}return i.length&&(i.parent=this.parent||this),i},o.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||$(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},o.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||$(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},o.prototype.readUInt8=function(t,e){return e||$(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||$(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||$(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||$(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||$(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||$(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||$(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||$(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||$(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||$(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||$(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||$(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||$(t,4,this.length),Q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||$(t,4,this.length),Q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||$(t,8,this.length),Q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||$(t,8,this.length),Q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||D(this,t,e,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,i){t=+t,e=0|e,n=0|n,i||D(this,t,e,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);D(this,t,e,n,r-1,-r)}var o=0,s=1,a=0>t?1:0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);D(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||D(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return q(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return q(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,s=i-n;if(this===t&&e>n&&i>e)for(r=s-1;r>=0;r--)t[r+e]=this[r+n];else if(1e3>s||!o.TYPED_ARRAY_SUPPORT)for(r=0;s>r;r++)t[r+e]=this[r+n];else t._set(this.subarray(n,n+s),e);return s},o.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof t)for(i=e;n>i;i++)this[i]=t;else{var r=U(t.toString()),o=r.length;for(i=e;n>i;i++)this[i]=r[i%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var J=o.prototype;o._augment=function(t){return t.constructor=o,t._isBuffer=!0,t._set=t.set,t.get=J.get,t.set=J.set,t.write=J.write,t.toString=J.toString,t.toLocaleString=J.toString,t.toJSON=J.toJSON,t.equals=J.equals,t.compare=J.compare,t.indexOf=J.indexOf,t.copy=J.copy,t.slice=J.slice,t.readUIntLE=J.readUIntLE,t.readUIntBE=J.readUIntBE,t.readUInt8=J.readUInt8,t.readUInt16LE=J.readUInt16LE,t.readUInt16BE=J.readUInt16BE,t.readUInt32LE=J.readUInt32LE,t.readUInt32BE=J.readUInt32BE,t.readIntLE=J.readIntLE,t.readIntBE=J.readIntBE,t.readInt8=J.readInt8,t.readInt16LE=J.readInt16LE,t.readInt16BE=J.readInt16BE,t.readInt32LE=J.readInt32LE,t.readInt32BE=J.readInt32BE,t.readFloatLE=J.readFloatLE,t.readFloatBE=J.readFloatBE,t.readDoubleLE=J.readDoubleLE,t.readDoubleBE=J.readDoubleBE,t.writeUInt8=J.writeUInt8,t.writeUIntLE=J.writeUIntLE,t.writeUIntBE=J.writeUIntBE,t.writeUInt16LE=J.writeUInt16LE,t.writeUInt16BE=J.writeUInt16BE,t.writeUInt32LE=J.writeUInt32LE,t.writeUInt32BE=J.writeUInt32BE,t.writeIntLE=J.writeIntLE,t.writeIntBE=J.writeIntBE,t.writeInt8=J.writeInt8,t.writeInt16LE=J.writeInt16LE,t.writeInt16BE=J.writeInt16BE,t.writeInt32LE=J.writeInt32LE,t.writeInt32BE=J.writeInt32BE,t.writeFloatLE=J.writeFloatLE,t.writeFloatBE=J.writeFloatBE,t.writeDoubleLE=J.writeDoubleLE,t.writeDoubleBE=J.writeDoubleBE,t.fill=J.fill,t.inspect=J.inspect,t.toArrayBuffer=J.toArrayBuffer,t};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":115,ieee754:134,isarray:135}],133:[function(t,e,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof n?t("jquery"):jQuery)}(function(t){"use strict";function e(t){return"number"==typeof t&&!isNaN(t)}function n(t){return"undefined"==typeof t}function i(t,n){var i=[];return e(n)&&i.push(n),i.slice.apply(t,i)}function r(t,e){var n=i(arguments,2);return function(){return t.apply(e,n.concat(i(arguments)))}}function o(t){var e=t.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return e&&(e[1]!==_.protocol||e[2]!==_.hostname||e[3]!==_.port)}function s(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function a(t){return t?' crossOrigin="'+t+'"':""}function l(t,e){var n;return t.naturalWidth?e(t.naturalWidth,t.naturalHeight):(n=document.createElement("img"),n.onload=function(){e(this.width,this.height)},void(n.src=t.src))}function u(t){var n=[],i=t.rotate,r=t.scaleX,o=t.scaleY;return e(i)&&n.push("rotate("+i+"deg)"),e(r)&&e(o)&&n.push("scale("+r+","+o+")"),n.length?n.join(" "):"none"}function c(t,e){var n,i,r=mt(t.degree)%180,o=(r>90?180-r:r)*Math.PI/180,s=bt(o),a=_t(o),l=t.width,u=t.height,c=t.aspectRatio;return e?(n=l/(a+s/c),i=n/c):(n=l*a+u*s,i=l*s+u*a),{width:n,height:i}}function d(n,i){var r,o,s,a=t("<canvas>")[0],l=a.getContext("2d"),u=0,d=0,p=i.naturalWidth,h=i.naturalHeight,f=i.rotate,v=i.scaleX,y=i.scaleY,g=e(v)&&e(y)&&(1!==v||1!==y),m=e(f)&&0!==f,b=m||g,_=p,w=h;return g&&(r=p/2,o=h/2),m&&(s=c({width:p,height:h,degree:f}),_=s.width,w=s.height,r=s.width/2,o=s.height/2),a.width=_,a.height=w,b&&(u=-p/2,d=-h/2,l.save(),l.translate(r,o)),m&&l.rotate(f*Math.PI/180),g&&l.scale(v,y),l.drawImage(n,kt(u),kt(d),kt(p),kt(h)),b&&l.restore(),a}function p(e){var n=e.length,i=0,r=0;return n&&(t.each(e,function(t,e){i+=e.pageX,r+=e.pageY}),i/=n,r/=n),{pageX:i,pageY:r}}function h(t,e,n){var i,r="";for(i=e,n+=e;n>i;i++)r+=Ct(t.getUint8(i));return r}function f(t){var e,n,i,r,o,s,a,l,u,c,d=new k(t),p=d.byteLength;if(255===d.getUint8(0)&&216===d.getUint8(1))for(u=2;p>u;){if(255===d.getUint8(u)&&225===d.getUint8(u+1)){a=u;break}u++}if(a&&(n=a+4,i=a+10,"Exif"===h(d,n,4)&&(s=d.getUint16(i),o=18761===s,(o||19789===s)&&42===d.getUint16(i+2,o)&&(r=d.getUint32(i+4,o),r>=8&&(l=i+r)))),l)for(p=d.getUint16(l,o),c=0;p>c;c++)if(u=l+12*c+2,274===d.getUint16(u,o)){u+=8,e=d.getUint16(u,o),d.setUint16(u,1,o);break}return e}function v(t){var e,n=t.replace(Z,""),i=atob(n),r=i.length,o=new w(r),s=new x(o);for(e=0;r>e;e++)s[e]=i.charCodeAt(e);return o}function y(t){var e,n=new x(t),i=n.length,r="";for(e=0;i>e;e++)r+=Ct(n[e]);return"data:image/jpeg;base64,"+C(r)}function g(e,n){this.$element=t(e),this.options=t.extend({},g.DEFAULTS,t.isPlainObject(n)&&n),this.isLoaded=!1,this.isBuilt=!1,this.isCompleted=!1,this.isRotated=!1,this.isCropped=!1,this.isDisabled=!1,this.isReplaced=!1,this.isLimited=!1,this.wheeling=!1,this.isImg=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.init()}var m=t(window),b=t(document),_=window.location,w=window.ArrayBuffer,x=window.Uint8Array,k=window.DataView,C=window.btoa,O="cropper",S="cropper-modal",T="cropper-hide",E="cropper-hidden",P="cropper-invisible",A="cropper-move",j="cropper-crop",L="cropper-disabled",$="cropper-bg",D="mousedown touchstart pointerdown MSPointerDown",I="mousemove touchmove pointermove MSPointerMove",N="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",R="wheel mousewheel DOMMouseScroll",M="dblclick",q="load."+O,F="error."+O,B="resize."+O,z="build."+O,U="built."+O,H="cropstart."+O,W="cropmove."+O,Y="cropend."+O,V="crop."+O,X="zoom."+O,Q=/e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/,G=/^data\:/,Z=/^data\:([^\;]+)\;base64,/,K=/^data\:image\/jpeg.*;base64,/,J="preview",tt="action",et="e",nt="w",it="s",rt="n",ot="se",st="sw",at="ne",lt="nw",ut="all",ct="crop",dt="move",pt="zoom",ht="none",ft=t.isFunction(t("<canvas>")[0].getContext),vt=Number,yt=Math.min,gt=Math.max,mt=Math.abs,bt=Math.sin,_t=Math.cos,wt=Math.sqrt,xt=Math.round,kt=Math.floor,Ct=String.fromCharCode;g.prototype={constructor:g,init:function(){var t,e=this.$element;if(e.is("img")){if(this.isImg=!0,this.originalUrl=t=e.attr("src"),!t)return;t=e.prop("src")}else e.is("canvas")&&ft&&(t=e[0].toDataURL());this.load(t)},trigger:function(e,n){var i=t.Event(e,n);return this.$element.trigger(i),i},load:function(e){var n,i,r=this.options,o=this.$element;if(e&&(o.one(z,r.build),!this.trigger(z).isDefaultPrevented())){if(this.url=e,this.image={},!r.checkOrientation||!w)return this.clone();if(n=t.proxy(this.read,this),G.test(e))return K.test(e)?n(v(e)):this.clone();i=new XMLHttpRequest,i.onerror=i.onabort=t.proxy(function(){this.clone()},this),i.onload=function(){n(this.response)},i.open("get",e),i.responseType="arraybuffer",i.send()}},read:function(t){var e,n,i,r=this.options,o=f(t),s=this.image;if(o>1)switch(this.url=y(t),o){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}r.rotatable&&(s.rotate=e),r.scalable&&(s.scaleX=n,s.scaleY=i),this.clone()},clone:function(){var e,n,i=this.options,r=this.$element,l=this.url,u="";i.checkCrossOrigin&&o(l)&&(u=r.prop("crossOrigin"),u?e=l:(u="anonymous",e=s(l))),this.crossOrigin=u,this.crossOriginUrl=e,this.$clone=n=t("<img"+a(u)+' src="'+(e||l)+'">'),this.isImg?r[0].complete?this.start():r.one(q,t.proxy(this.start,this)):n.one(q,t.proxy(this.start,this)).one(F,t.proxy(this.stop,this)).addClass(T).insertAfter(r)},start:function(){var e=this.$element,n=this.$clone;this.isImg||(n.off(F,this.stop),e=n),l(e[0],t.proxy(function(e,n){t.extend(this.image,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),this.isLoaded=!0,this.build()},this))},stop:function(){this.$clone.remove(),this.$clone=null},build:function(){var e,n,i,r=this.options,o=this.$element,s=this.$clone;this.isLoaded&&(this.isBuilt&&this.unbuild(),this.$container=o.parent(),this.$cropper=e=t(g.TEMPLATE),this.$canvas=e.find(".cropper-canvas").append(s),this.$dragBox=e.find(".cropper-drag-box"),this.$cropBox=n=e.find(".cropper-crop-box"),this.$viewBox=e.find(".cropper-view-box"),this.$face=i=n.find(".cropper-face"),o.addClass(E).after(e),this.isImg||s.removeClass(T),this.initPreview(),this.bind(),r.aspectRatio=gt(0,r.aspectRatio)||NaN,r.viewMode=gt(0,yt(3,xt(r.viewMode)))||0,r.autoCrop?(this.isCropped=!0,r.modal&&this.$dragBox.addClass(S)):n.addClass(E),r.guides||n.find(".cropper-dashed").addClass(E),r.center||n.find(".cropper-center").addClass(E),r.cropBoxMovable&&i.addClass(A).data(tt,ut),r.highlight||i.addClass(P),r.background&&e.addClass($),r.cropBoxResizable||n.find(".cropper-line, .cropper-point").addClass(E),this.setDragMode(r.dragMode),this.render(),this.isBuilt=!0,this.setData(r.data),o.one(U,r.built),setTimeout(t.proxy(function(){this.trigger(U),this.isCompleted=!0},this),0))},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.isCompleted=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.isCropped&&this.renderCropBox()},initContainer:function(){var t=this.options,e=this.$element,n=this.$container,i=this.$cropper;i.addClass(E),e.removeClass(E),i.css(this.container={width:gt(n.width(),vt(t.minContainerWidth)||200),height:gt(n.height(),vt(t.minContainerHeight)||100)}),e.addClass(E),i.removeClass(E)},initCanvas:function(){var e,n=this.options.viewMode,i=this.container,r=i.width,o=i.height,s=this.image,a=s.naturalWidth,l=s.naturalHeight,u=90===mt(s.rotate),c=u?l:a,d=u?a:l,p=c/d,h=r,f=o;o*p>r?3===n?h=o*p:f=r/p:3===n?f=r/p:h=o*p,e={naturalWidth:c,naturalHeight:d,aspectRatio:p,width:h,height:f},e.oldLeft=e.left=(r-h)/2,e.oldTop=e.top=(o-f)/2,this.canvas=e,this.isLimited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImage=t.extend({},s),this.initialCanvas=t.extend({},e)},limitCanvas:function(t,e){var n,i,r,o,s=this.options,a=s.viewMode,l=this.container,u=l.width,c=l.height,d=this.canvas,p=d.aspectRatio,h=this.cropBox,f=this.isCropped&&h;t&&(n=vt(s.minCanvasWidth)||0,i=vt(s.minCanvasHeight)||0,a&&(a>1?(n=gt(n,u),i=gt(i,c),3===a&&(i*p>n?n=i*p:i=n/p)):n?n=gt(n,f?h.width:0):i?i=gt(i,f?h.height:0):f&&(n=h.width,i=h.height,i*p>n?n=i*p:i=n/p)),n&&i?i*p>n?i=n/p:n=i*p:n?i=n/p:i&&(n=i*p),d.minWidth=n,d.minHeight=i,d.maxWidth=1/0,d.maxHeight=1/0),e&&(a?(r=u-d.width,o=c-d.height,d.minLeft=yt(0,r),d.minTop=yt(0,o),d.maxLeft=gt(0,r),d.maxTop=gt(0,o),f&&this.isLimited&&(d.minLeft=yt(h.left,h.left+h.width-d.width),d.minTop=yt(h.top,h.top+h.height-d.height),d.maxLeft=h.left,d.maxTop=h.top,2===a&&(d.width>=u&&(d.minLeft=yt(0,r),d.maxLeft=gt(0,r)),d.height>=c&&(d.minTop=yt(0,o),d.maxTop=gt(0,o))))):(d.minLeft=-d.width,d.minTop=-d.height,d.maxLeft=u,d.maxTop=c))},renderCanvas:function(t){var e,n,i=this.canvas,r=this.image,o=r.rotate,s=r.naturalWidth,a=r.naturalHeight;this.isRotated&&(this.isRotated=!1,n=c({width:r.width,height:r.height,degree:o}),e=n.width/n.height,e!==i.aspectRatio&&(i.left-=(n.width-i.width)/2,i.top-=(n.height-i.height)/2,i.width=n.width,i.height=n.height,i.aspectRatio=e,i.naturalWidth=s,i.naturalHeight=a,o%180&&(n=c({width:s,height:a,degree:o}),i.naturalWidth=n.width,i.naturalHeight=n.height),this.limitCanvas(!0,!1))),(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=yt(gt(i.width,i.minWidth),i.maxWidth),i.height=yt(gt(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.oldLeft=i.left=yt(gt(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=yt(gt(i.top,i.minTop),i.maxTop),this.$canvas.css({width:i.width,height:i.height,left:i.left,top:i.top}),this.renderImage(),this.isCropped&&this.isLimited&&this.limitCropBox(!0,!0),t&&this.output()},renderImage:function(e){var n,i=this.canvas,r=this.image;r.rotate&&(n=c({width:i.width,height:i.height,degree:r.rotate,aspectRatio:r.aspectRatio},!0)),t.extend(r,n?{width:n.width,height:n.height,left:(i.width-n.width)/2,top:(i.height-n.height)/2}:{width:i.width,height:i.height,left:0,top:0}),this.$clone.css({width:r.width,height:r.height,marginLeft:r.left,marginTop:r.top,transform:u(r)}),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvas,i=e.aspectRatio,r=vt(e.autoCropArea)||.8,o={width:n.width,height:n.height};i&&(n.height*i>n.width?o.height=o.width/i:o.width=o.height*i),this.cropBox=o,this.limitCropBox(!0,!0),o.width=yt(gt(o.width,o.minWidth),o.maxWidth),o.height=yt(gt(o.height,o.minHeight),o.maxHeight),o.width=gt(o.minWidth,o.width*r),o.height=gt(o.minHeight,o.height*r),o.oldLeft=o.left=n.left+(n.width-o.width)/2,o.oldTop=o.top=n.top+(n.height-o.height)/2,this.initialCropBox=t.extend({},o)},limitCropBox:function(t,e){var n,i,r,o,s=this.options,a=s.aspectRatio,l=this.container,u=l.width,c=l.height,d=this.canvas,p=this.cropBox,h=this.isLimited;t&&(n=vt(s.minCropBoxWidth)||0,i=vt(s.minCropBoxHeight)||0,n=yt(n,u),i=yt(i,c),r=yt(u,h?d.width:u),o=yt(c,h?d.height:c),a&&(n&&i?i*a>n?i=n/a:n=i*a:n?i=n/a:i&&(n=i*a),o*a>r?o=r/a:r=o*a),p.minWidth=yt(n,r),p.minHeight=yt(i,o),p.maxWidth=r,p.maxHeight=o),e&&(h?(p.minLeft=gt(0,d.left),p.minTop=gt(0,d.top),p.maxLeft=yt(u,d.left+d.width)-p.width,p.maxTop=yt(c,d.top+d.height)-p.height):(p.minLeft=0,p.minTop=0,p.maxLeft=u-p.width,p.maxTop=c-p.height))},renderCropBox:function(){var t=this.options,e=this.container,n=e.width,i=e.height,r=this.cropBox;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=yt(gt(r.width,r.minWidth),r.maxWidth),r.height=yt(gt(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.oldLeft=r.left=yt(gt(r.left,r.minLeft),r.maxLeft),r.oldTop=r.top=yt(gt(r.top,r.minTop),r.maxTop),t.movable&&t.cropBoxMovable&&this.$face.data(tt,r.width===n&&r.height===i?dt:ut),this.$cropBox.css({width:r.width,height:r.height,left:r.left,top:r.top}),this.isCropped&&this.isLimited&&this.limitCanvas(!0,!0),this.isDisabled||this.output()},output:function(){this.preview(),this.isCompleted?this.trigger(V,this.getData()):this.isBuilt||this.$element.one(U,t.proxy(function(){this.trigger(V,this.getData())},this))},initPreview:function(){var e=a(this.crossOrigin),n=e?this.crossOriginUrl:this.url;this.$preview=t(this.options.preview),this.$viewBox.html("<img"+e+' src="'+n+'">'),this.$preview.each(function(){var i=t(this);i.data(J,{width:i.width(),height:i.height(),html:i.html()}),i.html("<img"+e+' src="'+n+'" style="display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;">')})},resetPreview:function(){this.$preview.each(function(){var e=t(this),n=e.data(J);e.css({width:n.width,height:n.height}).html(n.html).removeData(J)})},preview:function(){var e=this.image,n=this.canvas,i=this.cropBox,r=i.width,o=i.height,s=e.width,a=e.height,l=i.left-n.left-e.left,c=i.top-n.top-e.top;this.isCropped&&!this.isDisabled&&(this.$viewBox.find("img").css({width:s,height:a,marginLeft:-l,marginTop:-c,transform:u(e)}),this.$preview.each(function(){var n=t(this),i=n.data(J),d=i.width,p=i.height,h=d,f=p,v=1;r&&(v=d/r,f=o*v),o&&f>p&&(v=p/o,h=r*v,f=p),n.css({width:h,height:f}).find("img").css({width:s*v,height:a*v,marginLeft:-l*v,marginTop:-c*v,transform:u(e)})}))},bind:function(){var e=this.options,n=this.$element,i=this.$cropper;t.isFunction(e.cropstart)&&n.on(H,e.cropstart),t.isFunction(e.cropmove)&&n.on(W,e.cropmove),t.isFunction(e.cropend)&&n.on(Y,e.cropend),t.isFunction(e.crop)&&n.on(V,e.crop),t.isFunction(e.zoom)&&n.on(X,e.zoom),i.on(D,t.proxy(this.cropStart,this)),e.zoomable&&e.zoomOnWheel&&i.on(R,t.proxy(this.wheel,this)),e.toggleDragModeOnDblclick&&i.on(M,t.proxy(this.dblclick,this)),b.on(I,this._cropMove=r(this.cropMove,this)).on(N,this._cropEnd=r(this.cropEnd,this)),e.responsive&&m.on(B,this._resize=r(this.resize,this))},unbind:function(){var e=this.options,n=this.$element,i=this.$cropper;t.isFunction(e.cropstart)&&n.off(H,e.cropstart),t.isFunction(e.cropmove)&&n.off(W,e.cropmove),t.isFunction(e.cropend)&&n.off(Y,e.cropend),t.isFunction(e.crop)&&n.off(V,e.crop),t.isFunction(e.zoom)&&n.off(X,e.zoom),i.off(D,this.cropStart),e.zoomable&&e.zoomOnWheel&&i.off(R,this.wheel),e.toggleDragModeOnDblclick&&i.off(M,this.dblclick),b.off(I,this._cropMove).off(N,this._cropEnd),e.responsive&&m.off(B,this._resize)},resize:function(){var e,n,i,r=this.options.restore,o=this.$container,s=this.container;!this.isDisabled&&s&&(i=o.width()/s.width,1===i&&o.height()===s.height||(r&&(e=this.getCanvasData(),n=this.getCropBoxData()),this.render(),r&&(this.setCanvasData(t.each(e,function(t,n){e[t]=n*i})),this.setCropBoxData(t.each(n,function(t,e){n[t]=e*i})))))},dblclick:function(){this.isDisabled||(this.$dragBox.hasClass(j)?this.setDragMode(dt):this.setDragMode(ct));
},wheel:function(e){var n=e.originalEvent||e,i=vt(this.options.wheelZoomRatio)||.1,r=1;this.isDisabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(t.proxy(function(){this.wheeling=!1},this),50),n.deltaY?r=n.deltaY>0?1:-1:n.wheelDelta?r=-n.wheelDelta/120:n.detail&&(r=n.detail>0?1:-1),this.zoom(-r*i,e)))},cropStart:function(e){var n,i,r=this.options,o=e.originalEvent,s=o&&o.touches,a=e;if(!this.isDisabled){if(s){if(n=s.length,n>1){if(!r.zoomable||!r.zoomOnTouch||2!==n)return;a=s[1],this.startX2=a.pageX,this.startY2=a.pageY,i=pt}a=s[0]}if(i=i||t(a.target).data(tt),Q.test(i)){if(this.trigger(H,{originalEvent:o,action:i}).isDefaultPrevented())return;e.preventDefault(),this.action=i,this.cropping=!1,this.startX=a.pageX||o&&o.pageX,this.startY=a.pageY||o&&o.pageY,i===ct&&(this.cropping=!0,this.$dragBox.addClass(S))}}},cropMove:function(t){var e,n=this.options,i=t.originalEvent,r=i&&i.touches,o=t,s=this.action;if(!this.isDisabled){if(r){if(e=r.length,e>1){if(!n.zoomable||!n.zoomOnTouch||2!==e)return;o=r[1],this.endX2=o.pageX,this.endY2=o.pageY}o=r[0]}if(s){if(this.trigger(W,{originalEvent:i,action:s}).isDefaultPrevented())return;t.preventDefault(),this.endX=o.pageX||i&&i.pageX,this.endY=o.pageY||i&&i.pageY,this.change(o.shiftKey,s===pt?t:null)}}},cropEnd:function(t){var e=t.originalEvent,n=this.action;this.isDisabled||n&&(t.preventDefault(),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(S,this.isCropped&&this.options.modal)),this.action="",this.trigger(Y,{originalEvent:e,action:n}))},change:function(t,e){var n,i,r=this.options,o=r.aspectRatio,s=this.action,a=this.container,l=this.canvas,u=this.cropBox,c=u.width,d=u.height,p=u.left,h=u.top,f=p+c,v=h+d,y=0,g=0,m=a.width,b=a.height,_=!0;switch(!o&&t&&(o=c&&d?c/d:1),this.limited&&(y=u.minLeft,g=u.minTop,m=y+yt(a.width,l.width),b=g+yt(a.height,l.height)),i={x:this.endX-this.startX,y:this.endY-this.startY},o&&(i.X=i.y*o,i.Y=i.x/o),s){case ut:p+=i.x,h+=i.y;break;case et:if(i.x>=0&&(f>=m||o&&(g>=h||v>=b))){_=!1;break}c+=i.x,o&&(d=c/o,h-=i.Y/2),0>c&&(s=nt,c=0);break;case rt:if(i.y<=0&&(g>=h||o&&(y>=p||f>=m))){_=!1;break}d-=i.y,h+=i.y,o&&(c=d*o,p+=i.X/2),0>d&&(s=it,d=0);break;case nt:if(i.x<=0&&(y>=p||o&&(g>=h||v>=b))){_=!1;break}c-=i.x,p+=i.x,o&&(d=c/o,h+=i.Y/2),0>c&&(s=et,c=0);break;case it:if(i.y>=0&&(v>=b||o&&(y>=p||f>=m))){_=!1;break}d+=i.y,o&&(c=d*o,p-=i.X/2),0>d&&(s=rt,d=0);break;case at:if(o){if(i.y<=0&&(g>=h||f>=m)){_=!1;break}d-=i.y,h+=i.y,c=d*o}else i.x>=0?m>f?c+=i.x:i.y<=0&&g>=h&&(_=!1):c+=i.x,i.y<=0?h>g&&(d-=i.y,h+=i.y):(d-=i.y,h+=i.y);0>c&&0>d?(s=st,d=0,c=0):0>c?(s=lt,c=0):0>d&&(s=ot,d=0);break;case lt:if(o){if(i.y<=0&&(g>=h||y>=p)){_=!1;break}d-=i.y,h+=i.y,c=d*o,p+=i.X}else i.x<=0?p>y?(c-=i.x,p+=i.x):i.y<=0&&g>=h&&(_=!1):(c-=i.x,p+=i.x),i.y<=0?h>g&&(d-=i.y,h+=i.y):(d-=i.y,h+=i.y);0>c&&0>d?(s=ot,d=0,c=0):0>c?(s=at,c=0):0>d&&(s=st,d=0);break;case st:if(o){if(i.x<=0&&(y>=p||v>=b)){_=!1;break}c-=i.x,p+=i.x,d=c/o}else i.x<=0?p>y?(c-=i.x,p+=i.x):i.y>=0&&v>=b&&(_=!1):(c-=i.x,p+=i.x),i.y>=0?b>v&&(d+=i.y):d+=i.y;0>c&&0>d?(s=at,d=0,c=0):0>c?(s=ot,c=0):0>d&&(s=lt,d=0);break;case ot:if(o){if(i.x>=0&&(f>=m||v>=b)){_=!1;break}c+=i.x,d=c/o}else i.x>=0?m>f?c+=i.x:i.y>=0&&v>=b&&(_=!1):c+=i.x,i.y>=0?b>v&&(d+=i.y):d+=i.y;0>c&&0>d?(s=lt,d=0,c=0):0>c?(s=st,c=0):0>d&&(s=at,d=0);break;case dt:this.move(i.x,i.y),_=!1;break;case pt:this.zoom(function(t,e,n,i){var r=wt(t*t+e*e),o=wt(n*n+i*i);return(o-r)/r}(mt(this.startX-this.startX2),mt(this.startY-this.startY2),mt(this.endX-this.endX2),mt(this.endY-this.endY2)),e),this.startX2=this.endX2,this.startY2=this.endY2,_=!1;break;case ct:if(!i.x||!i.y){_=!1;break}n=this.$cropper.offset(),p=this.startX-n.left,h=this.startY-n.top,c=u.minWidth,d=u.minHeight,i.x>0?s=i.y>0?ot:at:i.x<0&&(p-=c,s=i.y>0?st:lt),i.y<0&&(h-=d),this.isCropped||(this.$cropBox.removeClass(E),this.isCropped=!0,this.limited&&this.limitCropBox(!0,!0))}_&&(u.width=c,u.height=d,u.left=p,u.top=h,this.action=s,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},crop:function(){this.isBuilt&&!this.isDisabled&&(this.isCropped||(this.isCropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(S),this.$cropBox.removeClass(E)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.isBuilt&&!this.isDisabled&&(this.image=t.extend({},this.initialImage),this.canvas=t.extend({},this.initialCanvas),this.cropBox=t.extend({},this.initialCropBox),this.renderCanvas(),this.isCropped&&this.renderCropBox())},clear:function(){this.isCropped&&!this.isDisabled&&(t.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.isCropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(S),this.$cropBox.addClass(E))},replace:function(t){!this.isDisabled&&t&&(this.isImg&&(this.isReplaced=!0,this.$element.attr("src",t)),this.options.data=null,this.load(t))},enable:function(){this.isBuilt&&(this.isDisabled=!1,this.$cropper.removeClass(L))},disable:function(){this.isBuilt&&(this.isDisabled=!0,this.$cropper.addClass(L))},destroy:function(){var t=this.$element;this.isLoaded?(this.isImg&&this.isReplaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(E)):this.isImg?t.off(q,this.start):this.$clone&&this.$clone.remove(),t.removeData(O)},move:function(t,e){var i=this.canvas;this.moveTo(n(t)?t:i.left+vt(t),n(e)?e:i.top+vt(e))},moveTo:function(t,i){var r=this.canvas,o=!1;n(i)&&(i=t),t=vt(t),i=vt(i),this.isBuilt&&!this.isDisabled&&this.options.movable&&(e(t)&&(r.left=t,o=!0),e(i)&&(r.top=i,o=!0),o&&this.renderCanvas(!0))},zoom:function(t,e){var n=this.canvas;t=vt(t),t=0>t?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,e)},zoomTo:function(t,e){var n,i,r,o,s,a=this.options,l=this.canvas,u=l.width,c=l.height,d=l.naturalWidth,h=l.naturalHeight;if(t=vt(t),t>=0&&this.isBuilt&&!this.isDisabled&&a.zoomable){if(i=d*t,r=h*t,e&&(n=e.originalEvent),this.trigger(X,{originalEvent:n,oldRatio:u/d,ratio:i/d}).isDefaultPrevented())return;n?(o=this.$cropper.offset(),s=n.touches?p(n.touches):{pageX:e.pageX||n.pageX||0,pageY:e.pageY||n.pageY||0},l.left-=(i-u)*((s.pageX-o.left-l.left)/u),l.top-=(r-c)*((s.pageY-o.top-l.top)/c)):(l.left-=(i-u)/2,l.top-=(r-c)/2),l.width=i,l.height=r,this.renderCanvas(!0)}},rotate:function(t){this.rotateTo((this.image.rotate||0)+vt(t))},rotateTo:function(t){t=vt(t),e(t)&&this.isBuilt&&!this.isDisabled&&this.options.rotatable&&(this.image.rotate=t%360,this.isRotated=!0,this.renderCanvas(!0))},scale:function(t,i){var r=this.image,o=!1;n(i)&&(i=t),t=vt(t),i=vt(i),this.isBuilt&&!this.isDisabled&&this.options.scalable&&(e(t)&&(r.scaleX=t,o=!0),e(i)&&(r.scaleY=i,o=!0),o&&this.renderImage(!0))},scaleX:function(t){var n=this.image.scaleY;this.scale(t,e(n)?n:1)},scaleY:function(t){var n=this.image.scaleX;this.scale(e(n)?n:1,t)},getData:function(e){var n,i,r=this.options,o=this.image,s=this.canvas,a=this.cropBox;return this.isBuilt&&this.isCropped?(i={x:a.left-s.left,y:a.top-s.top,width:a.width,height:a.height},n=o.width/o.naturalWidth,t.each(i,function(t,r){r/=n,i[t]=e?xt(r):r})):i={x:0,y:0,width:0,height:0},r.rotatable&&(i.rotate=o.rotate||0),r.scalable&&(i.scaleX=o.scaleX||1,i.scaleY=o.scaleY||1),i},setData:function(n){var i,r,o,s=this.options,a=this.image,l=this.canvas,u={};t.isFunction(n)&&(n=n.call(this.element)),this.isBuilt&&!this.isDisabled&&t.isPlainObject(n)&&(s.rotatable&&e(n.rotate)&&n.rotate!==a.rotate&&(a.rotate=n.rotate,this.isRotated=i=!0),s.scalable&&(e(n.scaleX)&&n.scaleX!==a.scaleX&&(a.scaleX=n.scaleX,r=!0),e(n.scaleY)&&n.scaleY!==a.scaleY&&(a.scaleY=n.scaleY,r=!0)),i?this.renderCanvas():r&&this.renderImage(),o=a.width/a.naturalWidth,e(n.x)&&(u.left=n.x*o+l.left),e(n.y)&&(u.top=n.y*o+l.top),e(n.width)&&(u.width=n.width*o),e(n.height)&&(u.height=n.height*o),this.setCropBoxData(u))},getContainerData:function(){return this.isBuilt?this.container:{}},getImageData:function(){return this.isLoaded?this.image:{}},getCanvasData:function(){var e=this.canvas,n={};return this.isBuilt&&t.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,i){n[i]=e[i]}),n},setCanvasData:function(n){var i=this.canvas,r=i.aspectRatio;t.isFunction(n)&&(n=n.call(this.$element)),this.isBuilt&&!this.isDisabled&&t.isPlainObject(n)&&(e(n.left)&&(i.left=n.left),e(n.top)&&(i.top=n.top),e(n.width)?(i.width=n.width,i.height=n.width/r):e(n.height)&&(i.height=n.height,i.width=n.height*r),this.renderCanvas(!0))},getCropBoxData:function(){var t,e=this.cropBox;return this.isBuilt&&this.isCropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(n){var i,r,o=this.cropBox,s=this.options.aspectRatio;t.isFunction(n)&&(n=n.call(this.$element)),this.isBuilt&&this.isCropped&&!this.isDisabled&&t.isPlainObject(n)&&(e(n.left)&&(o.left=n.left),e(n.top)&&(o.top=n.top),e(n.width)&&(i=!0,o.width=n.width),e(n.height)&&(r=!0,o.height=n.height),s&&(i?o.height=o.width/s:r&&(o.width=o.height*s)),this.renderCropBox())},getCroppedCanvas:function(e){var n,i,r,o,s,a,l,u,c,p,h;return this.isBuilt&&this.isCropped&&ft?(t.isPlainObject(e)||(e={}),h=this.getData(),n=h.width,i=h.height,u=n/i,t.isPlainObject(e)&&(s=e.width,a=e.height,s?(a=s/u,l=s/n):a&&(s=a*u,l=a/i)),r=kt(s||n),o=kt(a||i),c=t("<canvas>")[0],c.width=r,c.height=o,p=c.getContext("2d"),e.fillColor&&(p.fillStyle=e.fillColor,p.fillRect(0,0,r,o)),p.drawImage.apply(p,function(){var t,e,r,o,s,a,u=d(this.$clone[0],this.image),c=u.width,p=u.height,f=[u],v=h.x,y=h.y;return-n>=v||v>c?v=t=r=s=0:0>=v?(r=-v,v=0,t=s=yt(c,n+v)):c>=v&&(r=0,t=s=yt(n,c-v)),0>=t||-i>=y||y>p?y=e=o=a=0:0>=y?(o=-y,y=0,e=a=yt(p,i+y)):p>=y&&(o=0,e=a=yt(i,p-y)),f.push(kt(v),kt(y),kt(t),kt(e)),l&&(r*=l,o*=l,s*=l,a*=l),s>0&&a>0&&f.push(kt(r),kt(o),kt(s),kt(a)),f}.call(this)),c):void 0},setAspectRatio:function(t){var e=this.options;this.isDisabled||n(t)||(e.aspectRatio=gt(0,t)||NaN,this.isBuilt&&(this.initCropBox(),this.isCropped&&this.renderCropBox()))},setDragMode:function(t){var e,n,i=this.options;this.isLoaded&&!this.isDisabled&&(e=t===ct,n=i.movable&&t===dt,t=e||n?t:ht,this.$dragBox.data(tt,t).toggleClass(j,e).toggleClass(A,n),i.cropBoxMovable||this.$face.data(tt,t).toggleClass(j,e).toggleClass(A,n))}},g.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},g.setDefaults=function(e){t.extend(g.DEFAULTS,e)},g.TEMPLATE='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',g.other=t.fn.cropper,t.fn.cropper=function(e){var r,o=i(arguments,1);return this.each(function(){var n,i,s=t(this),a=s.data(O);if(!a){if(/destroy/.test(e))return;n=t.extend({},s.data(),t.isPlainObject(e)&&e),s.data(O,a=new g(this,n))}"string"==typeof e&&t.isFunction(i=a[e])&&(r=i.apply(a,o))}),n(r)?this:r},t.fn.cropper.Constructor=g,t.fn.cropper.setDefaults=g.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=g.other,this}})},{jquery:138}],134:[function(t,e,n){n.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?r-1:0,p=n?-1:1,h=t[e+d];for(d+=p,o=h&(1<<-c)-1,h>>=-c,c+=a;c>0;o=256*o+t[e+d],d+=p,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+d],d+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,i),o-=u}return(h?-1:1)*s*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var s,a,l,u=8*o-r-1,c=(1<<u)-1,d=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,f=i?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+d>=1?p/l:p*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(e*l-1)*Math.pow(2,r),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;t[n+h]=255&a,h+=f,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;t[n+h]=255&s,h+=f,s/=256,u-=8);t[n+h-f]|=128*v}},{}],135:[function(t,e,n){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],136:[function(t,e,n){(function(i){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:this,r.jade=t()}}(function(){return function e(n,i,r){function o(a,l){if(!i[a]){if(!n[a]){var u="function"==typeof t&&t;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};n[a][0].call(d.exports,function(t){var e=n[a][1][t];return o(e?e:t)},d,d.exports,e,n,i,r)}return i[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";function i(t){return null!=t&&""!==t}function r(t){return(Array.isArray(t)?t.map(r):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(i).join(" ")}function o(t){return a[t]||t}function s(t){var e=String(t).replace(l,o);return e===""+t?t:e}n.merge=function u(t,e){if(1===arguments.length){for(var n=t[0],r=1;r<t.length;r++)n=u(n,t[r]);return n}var o=t["class"],s=e["class"];(o||s)&&(o=o||[],s=s||[],Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]),t["class"]=o.concat(s).filter(i));for(var a in e)"class"!=a&&(t[a]=e[a]);return t},n.joinClasses=r,n.cls=function(t,e){for(var i=[],o=0;o<t.length;o++)e&&e[o]?i.push(n.escape(r([t[o]]))):i.push(r(t[o]));var s=r(i);return s.length?' class="'+s+'"':""},n.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},n.attr=function(t,e,i,r){return"style"===t&&(e=n.style(e)),"boolean"==typeof e||null==e?e?" "+(r?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?(-1!==JSON.stringify(e).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),e&&"function"==typeof e.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'"):i?(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+n.escape(e)+'"'):(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+e+'"')},n.attrs=function(t,e){var i=[],o=Object.keys(t);if(o.length)for(var s=0;s<o.length;++s){var a=o[s],l=t[a];"class"==a?(l=r(l))&&i.push(" "+a+'="'+l+'"'):i.push(n.attr(a,l,!1,e))}return i.join("")};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},l=/[&<>"]/g;n.escape=s,n.rethrow=function c(e,n,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||r))throw e.message+=" on line "+i,e;try{r=r||t("fs").readFileSync(n,"utf8")}catch(o){c(e,null,i)}var s=3,a=r.split("\n"),l=Math.max(i-s,0),u=Math.min(a.length,i+s),s=a.slice(l,u).map(function(t,e){var n=e+l+1;return(n==i?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+i+"\n"+s+"\n\n"+e.message,e},n.DebugItem=function(t,e){this.lineno=t,this.filename=e}},{fs:2}],2:[function(t,e,n){},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{fs:131}],137:[function(t,e,n){!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof e&&e.exports?e.exports=n(t("jquery")):n(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=t.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(e){function i(){var i,r;return n.settings.submitHandler?(n.submitButton&&(i=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),r=n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&i.remove(),void 0!==r?r:!1):!0}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var e,n,i;return t(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e,e||(i=i.concat(n.errorList))}),n.errorList=i),e},rules:function(e,n){if(this.length){var i,r,o,s,a,l,u=this[0];if(e)switch(i=t.data(u.form,"validator").settings,r=i.rules,o=t.validator.staticRules(u),e){case"add":t.extend(o,t.validator.normalizeRule(n)),delete o.messages,r[u.name]=o,n.messages&&(i.messages[u.name]=t.extend(i.messages[u.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=o[n],delete o[n],"required"===n&&t(u).removeAttr("aria-required")}),l):(delete r[u.name],o)}return s=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),s.required&&(a=s.required,delete s.required,s=t.extend({required:a},s),t(u).attr("aria-required","true")),s.remote&&(a=s.remote,delete s.remote,s=t.extend(s,{remote:a})),s}}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var n=t(e).val();return null!==n&&!!t.trim(""+n)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:void 0===n?e:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,n){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,i)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(i):t(e).addClass(n).removeClass(i)},unhighlight:function(e,n,i){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(i):t(e).removeClass(n).addClass(i)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),r=n.settings;r[i]&&!t(this).is(r.ignore)&&r[i].call(n,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),n=this.settings.rules,t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var n,i,r=this.clean(e),o=this.validationTargetFor(r),s=this,a=!0;return void 0===o?delete this.invalid[r.name]:(this.prepareElement(o),this.currentElements=t(o),i=this.groups[o.name],i&&t.each(this.groups,function(t,e){e===i&&t!==o.name&&(r=s.validationTargetFor(s.clean(s.findByName(t))),r&&r.name in s.invalid&&(s.currentElements.push(r),a=a&&s.check(r)))}),n=this.check(o)!==!1,a=a&&n,n?this.invalid[o.name]=!1:this.invalid[o.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!n)),a},showErrors:function(e){if(e){var n=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var i=this.name||t(this).attr("name");return!i&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),i in n||!e.objectLength(t(this).rules())?!1:(n[i]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,i,r=t(e),o=e.type;return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":r.val():(n=e.hasAttribute("contenteditable")?r.text():r.val(),"file"===o?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"),i>=0?n.substr(i+1):(i=n.lastIndexOf("\\"),i>=0?n.substr(i+1):n)):"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,i,r,o=t(e).rules(),s=t.map(o,function(t,e){return e}).length,a=!1,l=this.elementValue(e);if("function"==typeof o.normalizer){if(l=o.normalizer.call(e,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete o.normalizer}for(i in o){r={method:i,parameters:o[i]};try{if(n=t.validator.methods[i].call(this,l,e,r.parameters),"dependency-mismatch"===n&&1===s){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,r),!1}catch(u){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",u),u instanceof TypeError&&(u.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),u}}if(!a)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){var i=this.findDefined(this.customMessage(e.name,n.method),this.customDataMessage(e,n.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,e):r.test(i)&&(i=t.validator.format(i.replace(r,"{$1}"),n.parameters)),i},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var i,r,o,s,a=this.errorsFor(e),l=this.idOrName(e),u=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(n)):(a=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),i=a,this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,t(e)):i.insertAfter(e),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=a.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(u+=" "+o):u=o,t(e).attr("aria-describedby",u),r=this.groups[e.name],r&&(s=this,t.each(s.groups,function(e,n){n===r&&t("[name='"+s.escapeCssMeta(e)+"']",s.currentForm).attr("aria-describedby",a.attr("id"))})))),!n&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var n=this.escapeCssMeta(this.idOrName(e)),i=t(e).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,n){return!!t(e,n.form).length},"function":function(t,e){
return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,n){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:n})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},i=t(e).attr("class");return i&&t.each(i.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(t,e,n,i){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(e){var n,i,r={},o=t(e),s=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(i=e.getAttribute(n),""===i&&(i=!0),i=!!i):i=o.attr(n),this.normalizeAttributeRule(r,s,n,i);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var n,i,r={},o=t(e),s=e.getAttribute("type");for(n in t.validator.methods)i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(r,s,n,i);return r},staticRules:function(e){var n={},i=t.data(e.form,"validator");return i.settings.rules&&(n=t.validator.normalizeRule(i.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(i,r){if(r===!1)return void delete e[i];if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!t(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?e[i]=void 0!==r.param?r.param:!0:(t.data(n.form,"validator").resetElements(t(n)),delete e[i])}}),t.each(e,function(i,r){e[i]=t.isFunction(r)&&"normalizer"!==i?r(n):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,i){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==i?i:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=t(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(e,n)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i},maxlength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=r},rangelength:function(e,n,i){var r=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(e,n,i){var r=t(n).attr("type"),o="Step attribute on input type "+r+" is not supported.",s=["text","number","range"],a=new RegExp("\\b"+r+"\\b"),l=r&&!a.test(s.join());if(l)throw new Error(o);return this.optional(n)||e%i===0},equalTo:function(e,n,i){var r=t(i);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(n).valid()}),e===r.val()},remote:function(e,n,i,r){if(this.optional(n))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var o,s,a,l=this.previousValue(n,r);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][r],this.settings.messages[n.name][r]=l.message,i="string"==typeof i&&{url:i}||i,a=t.param(t.extend({data:e},i.data)),l.old===a?l.valid:(l.old=a,o=this,this.startRequest(n),s={},s[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:s,context:o.currentForm,success:function(t){var i,s,a,u=t===!0||"true"===t;o.settings.messages[n.name][r]=l.originalMessage,u?(a=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(n),o.formSubmitted=a,o.successList.push(n),o.invalid[n.name]=!1,o.showErrors()):(i={},s=t||o.defaultMessage(n,{method:r,parameters:e}),i[n.name]=l.message=s,o.invalid[n.name]=!0,o.showErrors(i)),l.valid=u,o.stopRequest(n,u)}},i)),"pending")}}});var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var r=t.port;"abort"===t.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(e=t.ajax,t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,o=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(n[o]&&n[o].abort(),n[o]=e.apply(this,arguments),n[o]):e.apply(this,arguments)})})},{jquery:138}],138:[function(t,e,n){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"===n||ot.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(vt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return J.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(wt)||[],function(t,n){e[n]=!0}),e}function s(){Q.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Et,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?ot.parseJSON(n):n}catch(r){}St.set(t,e,n)}else n=void 0;return n}function u(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ot.css(t,e,"")},l=a(),u=n&&n[3]||(ot.cssNumber[e]?"":"px"),c=(ot.cssNumber[e]||"px"!==u&&+l)&&At.exec(ot.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,ot.style(t,e,c+u);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function d(t,e){for(var n=0,i=t.length;i>n;n++)Ot.set(t[n],"globalEval",!e||Ot.get(e[n],"globalEval"))}function p(t,e,n,i,r){for(var o,s,a,l,u,p,h=e.createDocumentFragment(),f=[],v=0,y=t.length;y>v;v++)if(o=t[v],o||0===o)if("object"===ot.type(o))ot.merge(f,o.nodeType?[o]:o);else if(Rt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Dt.exec(o)||["",""])[1].toLowerCase(),l=Nt[a]||Nt._default,s.innerHTML=l[1]+ot.htmlPrefilter(o)+l[2],p=l[0];p--;)s=s.lastChild;ot.merge(f,s.childNodes),s=h.firstChild,s.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",v=0;o=f[v++];)if(i&&ot.inArray(o,i)>-1)r&&r.push(o);else if(u=ot.contains(o.ownerDocument,o),s=c(h.appendChild(o),"script"),u&&d(s),n)for(p=0;o=s[p++];)It.test(o.type||"")&&n.push(o);return h}function h(){return!0}function f(){return!1}function v(){try{return Q.activeElement}catch(t){}}function y(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)y(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=f;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ot().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,r,i,n)})}function g(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Ht.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Ot.hasData(t)&&(o=Ot.access(t),s=Ot.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)ot.event.add(e,r,u[r][n])}St.hasData(t)&&(a=St.access(t),l=ot.extend({},a),St.set(e,l))}}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&$t.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function x(t,e,n,i){e=Z.apply([],e);var r,o,s,a,l,u,d=0,h=t.length,f=h-1,v=e[0],y=ot.isFunction(v);if(y||h>1&&"string"==typeof v&&!it.checkClone&&Ut.test(v))return t.each(function(r){var o=t.eq(r);y&&(e[0]=v.call(this,r,o.html())),x(o,e,n,i)});if(h&&(r=p(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=ot.map(c(r,"script"),m),a=s.length;h>d;d++)l=r,d!==f&&(l=ot.clone(l,!0,!0),a&&ot.merge(s,c(l,"script"))),n.call(t[d],l,d);if(a)for(u=s[s.length-1].ownerDocument,ot.map(s,b),d=0;a>d;d++)l=s[d],It.test(l.type||"")&&!Ot.access(l,"globalEval")&&ot.contains(u,l)&&(l.src?ot._evalUrl&&ot._evalUrl(l.src):ot.globalEval(l.textContent.replace(Wt,"")))}return t}function k(t,e,n){for(var i,r=e?ot.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ot.cleanData(c(i)),i.parentNode&&(n&&ot.contains(i.ownerDocument,i)&&d(c(i,"script")),i.parentNode.removeChild(i));return t}function C(t,e){var n=ot(e.createElement(t)).appendTo(e.body),i=ot.css(n[0],"display");return n.detach(),i}function O(t){var e=Q,n=Vt[t];return n||(n=C(t,e),"none"!==n&&n||(Yt=(Yt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Yt[0].contentDocument,e.write(),e.close(),n=C(t,e),Yt.detach()),Vt[t]=n),n}function S(t,e,n){var i,r,o,s,a=t.style;return n=n||Gt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||ot.contains(t.ownerDocument,t)||(s=ot.style(t,e)),n&&!it.pixelMarginRight()&&Qt.test(s)&&Xt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function P(t,e,n){var i=At.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function A(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(t,n+jt[o],!0,r)),i?("content"===n&&(s-=ot.css(t,"padding"+jt[o],!0,r)),"margin"!==n&&(s-=ot.css(t,"border"+jt[o]+"Width",!0,r))):(s+=ot.css(t,"padding"+jt[o],!0,r),"padding"!==n&&(s+=ot.css(t,"border"+jt[o]+"Width",!0,r)));return s}function j(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Gt(t),s="border-box"===ot.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=S(t,e,o),(0>r||null==r)&&(r=t.style[e]),Qt.test(r))return r;i=s&&(it.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+A(t,e,n||(s?"border":"content"),i,o)+"px"}function L(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=Ot.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Lt(i)&&(o[s]=Ot.access(i,"olddisplay",O(i.nodeName)))):(r=Lt(i),"none"===n&&r||Ot.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function $(t,e,n,i,r){return new $.prototype.init(t,e,n,i,r)}function D(){return t.setTimeout(function(){re=void 0}),re=ot.now()}function I(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=jt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function N(t,e,n){for(var i,r=(q.tweeners[e]||[]).concat(q.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function R(t,e,n){var i,r,o,s,a,l,u,c,d=this,p={},h=t.style,f=t.nodeType&&Lt(t),v=Ot.get(t,"fxshow");n.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=ot.css(t,"display"),c="none"===u?Ot.get(t,"olddisplay")||O(t.nodeName):u,"inline"===c&&"none"===ot.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],se.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;f=!0}p[i]=v&&v[i]||ot.style(t,i)}else u=void 0;if(ot.isEmptyObject(p))"inline"===("none"===u?O(t.nodeName):u)&&(h.display=u);else{v?"hidden"in v&&(f=v.hidden):v=Ot.access(t,"fxshow",{}),o&&(v.hidden=!f),f?ot(t).show():d.done(function(){ot(t).hide()}),d.done(function(){var e;Ot.remove(t,"fxshow");for(e in p)ot.style(t,e,p[e])});for(i in p)s=N(f?v[i]:0,i,d),i in v||(v[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function M(t,e){var n,i,r,o,s;for(n in t)if(i=ot.camelCase(n),r=e[i],o=t[n],ot.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function q(t,e,n){var i,r,o=0,s=q.prefilters.length,a=ot.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=re||D(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||D(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(M(c,u.opts.specialEasing);s>o;o++)if(i=q.prefilters[o].call(u,t,c,u.opts))return ot.isFunction(i.stop)&&(ot._queueHooks(u.elem,u.opts.queue).stop=ot.proxy(i.stop,i)),i;return ot.map(c,N,u),ot.isFunction(u.opts.start)&&u.opts.start.call(t,u),ot.fx.timer(ot.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function F(t){return t.getAttribute&&t.getAttribute("class")||""}function B(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(wt)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function z(t,e,n,i){function r(a){var l;return o[a]=!0,ot.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===Se;return r(e.dataTypes[0])||!o["*"]&&r("*")}function U(t,e){var n,i,r=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function H(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function W(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function Y(t,e,n,i){var r;if(ot.isArray(e))ot.each(e,function(e,r){n||Ae.test(t)?i(t,r):Y(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(r in e)Y(t+"["+r+"]",e[r],n,i)}function V(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var X=[],Q=t.document,G=X.slice,Z=X.concat,K=X.push,J=X.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.4",ot=function(t,e){return new ot.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,lt=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:K,sort:X.sort,splice:X.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(u&&i&&(ot.isPlainObject(i)||(r=ot.isArray(i)))?(r?(r=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},s[e]=ot.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(at,"ms-").replace(lt,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):K.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:J.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;r>s;s++)o=e(t[s],s,i),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return Z.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t)?(i=G.call(arguments,2),r=function(){return t.apply(e||this,i.concat(G.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r):void 0},now:Date.now,support:it}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=X[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,n,i){var r,o,s,a,l,u,d,h,f=e&&e.ownerDocument,v=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==v&&9!==v&&11!==v)return n;if(!i&&((e?e.ownerDocument||e:F)!==L&&j(e),e=e||L,D)){if(11!==v&&(u=gt.exec(t)))if(r=u[1]){if(9===v){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&M(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return K.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!W[t+" "]&&(!I||!I.test(t))){if(1!==v)f=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=q),d=O(t),o=d.length,l=pt.test(a)?"#"+a:"[id='"+a+"']";o--;)d[o]=l+" "+p(d[o]);h=d.join(","),f=mt.test(t)&&c(e.parentNode)||e}if(h)try{return K.apply(n,f.querySelectorAll(h)),n}catch(y){}finally{a===q&&e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[q]=!0,t}function r(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function h(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=z++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u,c=[B,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[q]||(e[q]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(a=l[i])&&a[0]===B&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function v(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function y(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function g(t,e,n,r,o,s){return r&&!r[q]&&(r=g(r)),o&&!o[q]&&(o=g(o,s)),i(function(i,s,a,l){var u,c,d,p=[],h=[],f=s.length,g=i||v(e||"*",a.nodeType?[a]:a,[]),m=!t||!i&&e?g:y(g,p,t,a,l),b=n?o||(i?t:f||r)?[]:s:m;if(n&&n(m,b,a,l),r)for(u=y(b,h),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(b[h[c]]=!(m[h[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(m[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?tt(i,d):p[c])>-1&&(i[u]=!(s[u]=d))}}else b=y(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):K.apply(s,b)})}function m(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=h(function(t){return t===e},s,!0),u=h(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==E)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>a;a++)if(n=x.relative[t[a].type])c=[h(f(c),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[q]){for(i=++a;r>i&&!x.relative[t[i].type];i++);return g(a>1&&f(c),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&m(t.slice(a,i)),r>i&&m(t=t.slice(i)),r>i&&p(t))}c.push(n)}return f(c)}function b(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,d,p,h=0,f="0",v=i&&[],g=[],m=E,b=i||o&&x.find.TAG("*",u),_=B+=null==m?1:Math.random()||.1,w=b.length;for(u&&(E=s===L||s||u);f!==w&&null!=(c=b[f]);f++){if(o&&c){for(d=0,s||c.ownerDocument===L||(j(c),a=!D);p=t[d++];)if(p(c,s||L,a)){l.push(c);break}u&&(B=_)}r&&((c=!p&&c)&&h--,i&&v.push(c))}if(h+=f,r&&f!==h){for(d=0;p=n[d++];)p(v,g,s,a);if(i){if(h>0)for(;f--;)v[f]||g[f]||(g[f]=G.call(l));g=y(g)}K.apply(l,g),u&&!i&&g.length>0&&h+n.length>1&&e.uniqueSort(l)}return u&&(B=_,E=m),v};return r?i(s):s}var _,w,x,k,C,O,S,T,E,P,A,j,L,$,D,I,N,R,M,q="sizzle"+1*new Date,F=t.document,B=0,z=0,U=n(),H=n(),W=n(),Y=function(t,e){return t===e&&(A=!0),0},V=1<<31,X={}.hasOwnProperty,Q=[],G=Q.pop,Z=Q.push,K=Q.push,J=Q.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),pt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,bt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){j()};try{K.apply(Q=J.call(F.childNodes),F.childNodes),Q[F.childNodes.length].nodeType}catch(kt){K={apply:Q.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},j=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:F;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,$=L.documentElement,D=!C(L),(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=yt.test(L.getElementsByClassName),w.getById=r(function(t){return $.appendChild(t).id=q,!L.getElementsByName||!L.getElementsByName(q).length}),w.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(_t,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&D?e.getElementsByClassName(t):void 0},N=[],I=[],(w.qsa=yt.test(L.querySelectorAll))&&(r(function(t){$.appendChild(t).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+q+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+q+"+*").length||I.push(".#.+[+~]")}),r(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:");
})),(w.matchesSelector=yt.test(R=$.matches||$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&r(function(t){w.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),N.push("!=",ot)}),I=I.length&&new RegExp(I.join("|")),N=N.length&&new RegExp(N.join("|")),e=yt.test($.compareDocumentPosition),M=e||yt.test($.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===F&&M(F,t)?-1:e===L||e.ownerDocument===F&&M(F,e)?1:P?tt(P,t)-tt(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===L?-1:e===L?1:r?-1:o?1:P?tt(P,t)-tt(P,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===F?-1:l[i]===F?1:0},L):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&j(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&D&&!W[n+" "]&&(!N||!N.test(n))&&(!I||!I.test(n)))try{var i=R.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&j(t),M(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&j(t);var n=x.attrHandle[e.toLowerCase()],i=n&&X.call(x.attrHandle,e.toLowerCase())?n(t,e,!D):void 0;return void 0!==i?i:w.attributes||!D?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(A=!w.detectDuplicates,P=!w.sortStable&&t.slice(0),t.sort(Y),A){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return P=null,t},k=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=O(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,p,h,f,v=o!==s?"nextSibling":"previousSibling",y=e.parentNode,g=a&&e.nodeName.toLowerCase(),m=!l&&!a,b=!1;if(y){if(o){for(;v;){for(p=e;p=p[v];)if(a?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;f=v="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?y.firstChild:y.lastChild],s&&m){for(p=y,d=p[q]||(p[q]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[t]||[],h=u[0]===B&&u[1],b=h&&u[2],p=h&&y.childNodes[h];p=++h&&p&&p[v]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===e){c[t]=[B,h,b];break}}else if(m&&(p=e,d=p[q]||(p[q]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[t]||[],h=u[0]===B&&u[1],b=h),b===!1)for(;(p=++h&&p&&p[v]||(b=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++b||(m&&(d=p[q]||(p[q]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),c[t]=[B,b]),p!==e)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[q]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(at,"$1"));return r[q]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,wt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,wt).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===$},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,O=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=H[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=x.preFilter;a;){i&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in x.filter)!(r=ht[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):H(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=O(t)),n=e.length;n--;)o=m(e[n]),o[q]?i.push(o):r.push(o);o=W(t,b(r,i)),o.selector=t}return o},T=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,d=!i&&O(t=u.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&D&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(_t,wt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ht.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(_t,wt),mt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return K.apply(n,i),n;break}}return(u||S(t,d))(i,e,!D,n,!e||mt.test(t)&&c(e.parentNode)||e),n},w.sortStable=q.split("").sort(Y).join("")===q,w.detectDuplicates=!!A,j(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var dt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;i.push(t)}return i},pt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ht=ot.expr.match.needsContext,ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,vt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;n>e;e++)if(ot.contains(r[e],this))return!0}));for(e=0;n>e;e++)ot.find(t,r[e],i);return i=this.pushStack(n>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ht.test(t)?ot(t):t||[],!1).length}});var yt,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=ot.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||yt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:gt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),ft.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=Q.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};mt.prototype=ot.fn,yt=ot(Q);var bt=/^(?:parents|prev(?:Until|All))/,_t={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ht.test(t)||"string"!=typeof t?ot(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?J.call(ot(t),this[0]):J.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return dt(t,"parentNode")},parentsUntil:function(t,e,n){return dt(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return dt(t,"nextSibling")},prevAll:function(t){return dt(t,"previousSibling")},nextUntil:function(t,e,n){return dt(t,"nextSibling",n)},prevUntil:function(t,e,n){return dt(t,"previousSibling",n)},siblings:function(t){return pt((t.parentNode||{}).firstChild,t)},children:function(t){return pt(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var r=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(_t[t]||ot.uniqueSort(r),bt.test(t)&&r.reverse()),this.pushStack(r)}});var wt=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,i,r,s=[],a=[],l=-1,u=function(){for(r=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)s[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function i(e){ot.each(e,function(e,n){ot.isFunction(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==ot.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,s,n))>-1;)s.splice(n,1),l>=n&&l--}),this},has:function(t){return t?ot.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var s=ot.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},r={};return i.pipe=i.then,ot.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,l=1===a?t:ot.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?G.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,e)).done(u(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}});var xt;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(xt.resolveWith(Q,[ot]),ot.fn.triggerHandler&&(ot(Q).triggerHandler("ready"),ot(Q).off("ready"))))}}),ot.ready.promise=function(e){return xt||(xt=ot.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?t.setTimeout(ot.ready):(Q.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),xt.promise(e)},ot.ready.promise();var kt=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===ot.type(n)){r=!0;for(a in n)kt(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ot(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Ct=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Ct(t))return{};var e=t[this.expando];return e||(e={},Ct(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?i=e.concat(e.map(ot.camelCase)):(r=ot.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(wt)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var Ot=new a,St=new a,Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/[A-Z]/g;ot.extend({hasData:function(t){return St.hasData(t)||Ot.hasData(t)},data:function(t,e,n){return St.access(t,e,n)},removeData:function(t,e){St.remove(t,e)},_data:function(t,e,n){return Ot.access(t,e,n)},_removeData:function(t,e){Ot.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=St.get(o),1===o.nodeType&&!Ot.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(o,i,r[i])));Ot.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){St.set(this,t)}):kt(this,function(e){var n,i;if(o&&void 0===e){if(n=St.get(o,t)||St.get(o,t.replace(Et,"-$&").toLowerCase()),void 0!==n)return n;if(i=ot.camelCase(t),n=St.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else i=ot.camelCase(t),this.each(function(){var n=St.get(this,i);St.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&St.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){St.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Ot.get(t,e),n&&(!i||ot.isArray(n)?i=Ot.access(t,e,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,r=n.shift(),o=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ot.get(t,n)||Ot.access(t,n,{empty:ot.Callbacks("once memory").add(function(){Ot.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ot.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=Ot.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,At=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Lt=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},$t=/^(?:checkbox|radio)$/i,Dt=/<([\w:-]+)/,It=/^$|\/(?:java|ecma)script/i,Nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td;var Rt=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Mt=/^key/,qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ft=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,d,p,h,f,v,y=Ot.get(t);if(y)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ot.guid++),(l=y.events)||(l=y.events={}),(s=y.handle)||(s=y.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(wt)||[""],u=e.length;u--;)a=Ft.exec(e[u])||[],h=v=a[1],f=(a[2]||"").split(".").sort(),h&&(d=ot.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=ot.event.special[h]||{},c=ot.extend({type:h,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&d.setup.call(t,i,f,s)!==!1||t.addEventListener&&t.addEventListener(h,s)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),ot.event.global[h]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,d,p,h,f,v,y=Ot.hasData(t)&&Ot.get(t);if(y&&(l=y.events)){for(e=(e||"").match(wt)||[""],u=e.length;u--;)if(a=Ft.exec(e[u])||[],h=v=a[1],f=(a[2]||"").split(".").sort(),h){for(d=ot.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,p=l[h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!r&&v!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(t,c));s&&!p.length&&(d.teardown&&d.teardown.call(t,f,y.handle)!==!1||ot.removeEvent(t,h,y.handle),delete l[h])}else for(h in l)ot.event.remove(t,h+e[u],n,i,!0);ot.isEmptyObject(l)&&Ot.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,r,o,s=[],a=G.call(arguments),l=(Ot.get(this,"events")||{})[t.type]||[],u=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=ot.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((ot.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ot(r,this).index(l)>-1:ot.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=qt.test(r)?this.mouseHooks:Mt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ot.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==v()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===v()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:f):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ot.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,i){return y(this,t,e,n,i)},one:function(t,e,n,i){return y(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=f),this.each(function(){ot.event.remove(this,t,n,e)})}});var Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,zt=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Ht=/^true\/(.*)/,Wt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(Bt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=ot.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(s=c(a),o=c(t),i=0,r=o.length;r>i;i++)w(o[i],s[i]);if(e)if(n)for(o=o||c(t),s=s||c(a),i=0,r=o.length;r>i;i++)_(o[i],s[i]);else _(t,a);return s=c(a,"script"),s.length>0&&d(s,!l&&c(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(Ct(n)){if(e=n[Ot.expando]){if(e.events)for(i in e.events)r[i]?ot.event.remove(n,i):ot.removeEvent(n,i,e.handle);n[Ot.expando]=void 0}n[St.expando]&&(n[St.expando]=void 0)}}}),ot.fn.extend({domManip:x,detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return kt(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=g(this,t);e.appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=g(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!zt.test(t)&&!Nt[(Dt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=[],r=ot(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ot(r[s])[e](n),K.apply(i,n.get());return this.pushStack(i)}});var Yt,Vt={HTML:"block",BODY:"block"},Xt=/^margin/,Qt=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),Gt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Zt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Kt=Q.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Kt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Kt.removeChild(s)}var n,i,r,o,s=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ot.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){
return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=a.appendChild(Q.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Kt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Kt.removeChild(s),a.removeChild(n),e}}))}();var Jt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=Q.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=S(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ot.camelCase(e),l=t.style;return e=ot.cssProps[a]||(ot.cssProps[a]=E(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:(o=typeof n,"string"===o&&(r=At.exec(n))&&r[1]&&(n=u(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ot.cssNumber[a]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=E(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=S(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){return n?Jt.test(ot.css(t,"display"))&&0===t.offsetWidth?Zt(t,te,function(){return j(t,e,i)}):j(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Gt(t),s=i&&A(t,e,i,"border-box"===ot.css(t,"boxSizing",!1,o),o);return s&&(r=At.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),P(t,n,s)}}}),ot.cssHooks.marginLeft=T(it.reliableMarginLeft,function(t,e){return e?(parseFloat(S(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=T(it.reliableMarginRight,function(t,e){return e?Zt(t,{display:"inline-block"},S,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+jt[i]+e]=o[i]||o[i-2]||o[0];return r}},Xt.test(t)||(ot.cssHooks[t+e].set=P)}),ot.fn.extend({css:function(t,e){return kt(this,function(t,e,n){var i,r,o={},s=0;if(ot.isArray(e)){for(i=Gt(t),r=e.length;r>s;s++)o[e[s]]=ot.css(t,e[s],!1,i);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Lt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=$,$.prototype={constructor:$,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,n=$.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=$.prototype.init,ot.fx.step={};var re,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;ot.Animation=ot.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return u(n.elem,t,At.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(wt);for(var n,i=0,r=t.length;r>i;i++)n=t[i],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[R],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ot.isEmptyObject(t),o=ot.speed(e,n,i),s=function(){var e=q(this,ot.extend({},t),o);(r||Ot.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ot.timers,s=Ot.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Ot.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){var n=ot.fn[e];ot.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(I(e,!0),t,i,r)}}),ot.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(re=ot.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),re=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var le,ue=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return kt(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),r=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ot.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(wt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),le={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ue[e]||ot.find.attr;ue[e]=function(t,e,i){var r,o;return i||(o=ue[e],ue[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ue[e]=o),r}});var ce=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return kt(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,r=ot.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,F(this)))});if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[l++];)if(r=F(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,F(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(wt)||[];n=this[l++];)if(r=F(n),i=1===n.nodeType&&(" "+r+" ").replace(pe," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,F(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ot(this),o=t.match(wt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=F(this),e&&Ot.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Ot.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+F(n)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var he=/\r/g,fe=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(he,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(fe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],(n.selected||l===r)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ot.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ot.inArray(ot.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ve=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,i,r){var o,s,a,l,u,c,d,p=[i||Q],h=nt.call(e,"type")?e.type:e,f=nt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!ve.test(h+ot.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),u=h.indexOf(":")<0&&"on"+h,e=e[ot.expando]?e:new ot.Event(h,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),d=ot.event.special[h]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!ot.isWindow(i)){for(l=d.delegateType||h,ve.test(l+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(i.ownerDocument||Q)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||h,c=(Ot.get(s,"events")||{})[e.type]&&Ot.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&Ct(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=h,r||e.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Ct(i)||u&&ot.isFunction(i[h])&&!ot.isWindow(i)&&(a=i[u],a&&(i[u]=null),ot.event.triggered=h,i[h](),ot.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(i,null,e)}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Ot.access(i,e);r||i.addEventListener(t,n,!0),Ot.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Ot.access(i,e)-1;r?Ot.access(i,e,r):(i.removeEventListener(t,n,!0),Ot.remove(i,e))}}});var ye=t.location,ge=ot.now(),me=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var be=/#.*$/,_e=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ke=/^(?:GET|HEAD)$/,Ce=/^\/\//,Oe={},Se={},Te="*/".concat("*"),Ee=Q.createElement("a");Ee.href=ye.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:xe.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Te,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,ot.ajaxSettings),e):U(ot.ajaxSettings,t)},ajaxPrefilter:B(Oe),ajaxTransport:B(Se),ajax:function(e,n){function i(e,n,i,a){var u,d,m,b,w,k=n;2!==_&&(_=2,l&&t.clearTimeout(l),r=void 0,s=a||"",x.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(b=H(p,x,i)),b=W(p,b,x,u),u?(p.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ot.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(ot.etag[o]=w)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=b.state,d=b.data,m=b.error,u=!m)):(m=k,!e&&k||(k="error",0>e&&(e=0))),x.status=e,x.statusText=(n||k)+"",u?v.resolveWith(h,[d,k,x]):v.rejectWith(h,[x,k,m]),x.statusCode(g),g=void 0,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[x,p,u?d:m]),y.fireWith(h,[x,k]),c&&(f.trigger("ajaxComplete",[x,p]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,u,c,d,p=ot.ajaxSetup({},n),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?ot(h):ot.event,v=ot.Deferred(),y=ot.Callbacks("once memory"),g=p.statusCode||{},m={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!a)for(a={};e=we.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=b[n]=b[n]||t,m[t]=e),this},overrideMimeType:function(t){return _||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)g[e]=[g[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(v.promise(x).complete=y.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||ye.href)+"").replace(be,"").replace(Ce,ye.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ot.trim(p.dataType||"*").toLowerCase().match(wt)||[""],null==p.crossDomain){u=Q.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Ee.protocol+"//"+Ee.host!=u.protocol+"//"+u.host}catch(k){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ot.param(p.data,p.traditional)),z(Oe,p,n,x),2===_)return x;c=ot.event&&p.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!ke.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(me.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=_e.test(o)?o.replace(_e,"$1_="+ge++):o+(me.test(o)?"&":"?")+"_="+ge++)),p.ifModified&&(ot.lastModified[o]&&x.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&x.setRequestHeader("If-None-Match",ot.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Te+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)x.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(h,x,p)===!1||2===_))return x.abort();w="abort";for(d in{success:1,error:1,complete:1})x[d](p[d]);if(r=z(Se,p,n,x)){if(x.readyState=1,c&&f.trigger("ajaxSend",[x,p]),2===_)return x;p.async&&p.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},p.timeout));try{_=1,r.send(m,i)}catch(k){if(!(2>_))throw k;i(-1,k)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:r,data:n,success:i},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Pe=/%20/g,Ae=/\[\]$/,je=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,$e=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)Y(n,t[n],e,r);return i.join("&").replace(Pe,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&$e.test(this.nodeName)&&!Le.test(t)&&(this.checked||!$t.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(je,"\r\n")}}):{name:e.name,value:n.replace(je,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var De={0:200,1223:204},Ie=ot.ajaxSettings.xhr();it.cors=!!Ie&&"withCredentials"in Ie,it.ajax=Ie=!!Ie,ot.ajaxTransport(function(e){var n,i;return it.cors||Ie&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(De[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ne=[],Re=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ne.pop()||ot.expando+"_"+ge++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(Re.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Re.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Re,"$1"+r):e.jsonp!==!1&&(e.url+=(me.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ot.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ot(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ne.push(r)),s&&ot.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var i=ft.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=p([t],e,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var Me=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&Me)return Me.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ot.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u,c=ot.css(t,"position"),d=ot(t),p={};"static"===c&&(t.style.position="relative"),a=d.offset(),o=ot.css(t,"top"),l=ot.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):d.css(p)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,ot.contains(e,i)?(r=i.getBoundingClientRect(),n=V(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Kt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(i){return kt(this,function(t,i,r){var o=V(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=T(it.pixelPosition,function(t,n){return n?(n=S(t,e),Qt.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return kt(this,function(e,n,i){var r;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ot.css(e,n,s):ot.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var qe=t.jQuery,Fe=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=Fe),e&&t.jQuery===ot&&(t.jQuery=qe),ot},e||(t.jQuery=t.$=ot),ot})},{}],139:[function(t,e,n){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?e.exports=i():t.MicroPlugin=i()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,r,o=this,s=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;i>n;n++)"string"==typeof t[n]?s.push(t[n]):(o.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(r in t)t.hasOwnProperty(r)&&(o.plugins.settings[r]=t[r],s.push(r));for(;s.length;)o.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=r.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t})},{}],140:[function(t,e,n){!function(t,i){"object"==typeof n&&"undefined"!=typeof e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.moment=i()}(this,function(){"use strict";function n(){return li.apply(null,arguments)}function i(t){li=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return Rt(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(t){return null==t._pf&&(t._pf=c()),t._pf}function p(t){if(null==t._isValid){var e=d(t),n=ui.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=u(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}function f(t){return void 0===t}function v(t,e){var n,i,r;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),
f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=d(e)),f(e._locale)||(t._locale=e._locale),ci.length>0)for(n in ci)i=ci[n],r=e[i],f(r)||(t[i]=r);return t}function y(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),di===!1&&(di=!0,n.updateOffset(this),di=!1)}function g(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function b(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function _(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&b(t[i])!==b(e[i]))&&s++;return s+o}function w(t){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,e){var i=!0;return l(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,t),i&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function k(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),pi[t]||(w(e),pi[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t){return"[object Object]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)e=t[n],C(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(t,e){var n,i=l({},t);for(n in e)a(e,n)&&(O(t[n])&&O(e[n])?(i[n]={},l(i[n],t[n]),l(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);return i}function E(t){null!=t&&this.set(t)}function P(t){return t?t.toLowerCase().replace("_","-"):t}function A(t){for(var e,n,i,r,o=0;o<t.length;){for(r=P(t[o]).split("-"),e=r.length,n=P(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=j(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&_(r,n,!0)>=e-1)break;e--}o++}return null}function j(n){var i=null;if(!yi[n]&&"undefined"!=typeof e&&e&&e.exports)try{i=fi._abbr,t("./locale/"+n),L(i)}catch(r){}return yi[n]}function L(t,e){var n;return t&&(n=f(e)?I(t):$(t,e),n&&(fi=n)),fi._abbr}function $(t,e){return null!==e?(e.abbr=t,null!=yi[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=T(yi[t]._config,e)):null!=e.parentLocale&&(null!=yi[e.parentLocale]?e=T(yi[e.parentLocale]._config,e):k("parentLocaleUndefined","specified parentLocale is not defined yet")),yi[t]=new E(e),L(t),yi[t]):(delete yi[t],null)}function D(t,e){if(null!=e){var n;null!=yi[t]&&(e=T(yi[t]._config,e)),n=new E(e),n.parentLocale=yi[t],yi[t]=n,L(t)}else null!=yi[t]&&(null!=yi[t].parentLocale?yi[t]=yi[t].parentLocale:null!=yi[t]&&delete yi[t]);return yi[t]}function I(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return fi;if(!r(t)){if(e=j(t))return e;t=[t]}return A(t)}function N(){return hi(yi)}function R(t,e){var n=t.toLowerCase();gi[n]=gi[n+"s"]=gi[e]=t}function M(t){return"string"==typeof t?gi[t]||gi[t.toLowerCase()]:void 0}function q(t){var e,n,i={};for(n in t)a(t,n)&&(e=M(n),e&&(i[e]=t[n]));return i}function F(t,e){return function(i){return null!=i?(z(this,t,i),n.updateOffset(this,e),this):B(this,t)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function U(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=M(t),C(this[t]))return this[t](e);return this}function H(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function W(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(wi[t]=r),e&&(wi[e[0]]=function(){return H(r.apply(this,arguments),e[1],e[2])}),n&&(wi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,n,i=t.match(mi);for(e=0,n=i.length;n>e;e++)wi[i[e]]?i[e]=wi[i[e]]:i[e]=Y(i[e]);return function(e){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function X(t,e){return t.isValid()?(e=Q(e,t.localeData()),_i[e]=_i[e]||V(e),_i[e](t)):t.localeData().invalidDate()}function Q(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(bi.lastIndex=0;i>=0&&bi.test(t);)t=t.replace(bi,n),bi.lastIndex=0,i-=1;return t}function G(t,e,n){qi[t]=C(e)?e:function(t,i){return t&&n?n:e}}function Z(t,e){return a(qi,t)?qi[t](e._strict,e._locale):new RegExp(K(t))}function K(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=b(t)}),n=0;n<t.length;n++)Fi[t[n]]=i}function et(t,e){tt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function nt(t,e,n){null!=e&&a(Fi,t)&&Fi[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return r(this._months)?this._months[t.month()]:this._months[Gi.test(e)?"format":"standalone"][t.month()]}function ot(t,e){return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Gi.test(e)?"format":"standalone"][t.month()]}function st(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=vi.call(this._shortMonthsParse,s),-1!==r?r:null):(r=vi.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===e?(r=vi.call(this._shortMonthsParse,s),-1!==r?r:(r=vi.call(this._longMonthsParse,s),-1!==r?r:null)):(r=vi.call(this._longMonthsParse,s),-1!==r?r:(r=vi.call(this._shortMonthsParse,s),-1!==r?r:null))}function at(t,e,n){var i,r,o;if(this._monthsParseExact)return st.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ut(t){return null!=t?(lt(this,t),n.updateOffset(this,!0),this):B(this,"Month")}function ct(){return it(this.year(),this.month())}function dt(t){return this._monthsParseExact?(a(this,"_monthsRegex")||ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function pt(t){return this._monthsParseExact?(a(this,"_monthsRegex")||ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ht(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=u([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=J(i[e]),r[e]=J(r[e]),o[e]=J(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ft(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[zi]<0||n[zi]>11?zi:n[Ui]<1||n[Ui]>it(n[Bi],n[zi])?Ui:n[Hi]<0||n[Hi]>24||24===n[Hi]&&(0!==n[Wi]||0!==n[Yi]||0!==n[Vi])?Hi:n[Wi]<0||n[Wi]>59?Wi:n[Yi]<0||n[Yi]>59?Yi:n[Vi]<0||n[Vi]>999?Vi:-1,d(t)._overflowDayOfYear&&(Bi>e||e>Ui)&&(e=Ui),d(t)._overflowWeeks&&-1===e&&(e=Xi),d(t)._overflowWeekday&&-1===e&&(e=Qi),d(t).overflow=e),t}function vt(t){var e,n,i,r,o,s,a=t._i,l=er.exec(a)||nr.exec(a);if(l){for(d(t).iso=!0,e=0,n=rr.length;n>e;e++)if(rr[e][1].exec(l[1])){r=rr[e][0],i=rr[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=or.length;n>e;e++)if(or[e][1].exec(l[3])){o=(l[2]||" ")+or[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!ir.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),At(t)}else t._isValid=!1}function yt(t){var e=sr.exec(t._i);return null!==e?void(t._d=new Date(+e[1])):(vt(t),void(t._isValid===!1&&(delete t._isValid,n.createFromInputFallback(t))))}function gt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function mt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function bt(t){return _t(t)?366:365}function _t(t){return t%4===0&&t%100!==0||t%400===0}function wt(){return _t(this.year())}function xt(t,e,n){var i=7+e-n,r=(7+mt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function kt(t,e,n,i,r){var o,s,a=(7+n-i)%7,l=xt(t,i,r),u=1+7*(e-1)+a+l;return 0>=u?(o=t-1,s=bt(o)+u):u>bt(t)?(o=t+1,s=u-bt(t)):(o=t,s=u),{year:o,dayOfYear:s}}function Ct(t,e,n){var i,r,o=xt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return 1>s?(r=t.year()-1,i=s+Ot(r,e,n)):s>Ot(t.year(),e,n)?(i=s-Ot(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function Ot(t,e,n){var i=xt(t,e,n),r=xt(t+1,e,n);return(bt(t)-i+r)/7}function St(t,e,n){return null!=t?t:null!=e?e:n}function Tt(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Et(t){var e,n,i,r,o=[];if(!t._d){for(i=Tt(t),t._w&&null==t._a[Ui]&&null==t._a[zi]&&Pt(t),t._dayOfYear&&(r=St(t._a[Bi],i[Bi]),t._dayOfYear>bt(r)&&(d(t)._overflowDayOfYear=!0),n=mt(r,0,t._dayOfYear),t._a[zi]=n.getUTCMonth(),t._a[Ui]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Hi]&&0===t._a[Wi]&&0===t._a[Yi]&&0===t._a[Vi]&&(t._nextDay=!0,t._a[Hi]=0),t._d=(t._useUTC?mt:gt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Hi]=24)}}function Pt(t){var e,n,i,r,o,s,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,s=4,n=St(e.GG,t._a[Bi],Ct(Mt(),1,4).year),i=St(e.W,1),r=St(e.E,1),(1>r||r>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,n=St(e.gg,t._a[Bi],Ct(Mt(),o,s).year),i=St(e.w,1),null!=e.d?(r=e.d,(0>r||r>6)&&(l=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o),1>i||i>Ot(n,o,s)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(a=kt(n,i,r,o,s),t._a[Bi]=a.year,t._dayOfYear=a.dayOfYear)}function At(t){if(t._f===n.ISO_8601)return void vt(t);t._a=[],d(t).empty=!0;var e,i,r,o,s,a=""+t._i,l=a.length,u=0;for(r=Q(t._f,t._locale).match(mi)||[],e=0;e<r.length;e++)o=r[e],i=(a.match(Z(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&d(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),wi[o]?(i?d(t).empty=!1:d(t).unusedTokens.push(o),nt(o,i,t)):t._strict&&!i&&d(t).unusedTokens.push(o);d(t).charsLeftOver=l-u,a.length>0&&d(t).unusedInput.push(a),d(t).bigHour===!0&&t._a[Hi]<=12&&t._a[Hi]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[Hi]=jt(t._locale,t._a[Hi],t._meridiem),Et(t),ft(t)}function jt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function Lt(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],At(e),p(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||i>o)&&(i=o,n=e));l(t,n||e)}function $t(t){if(!t._d){var e=q(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Et(t)}}function Dt(t){var e=new y(ft(It(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function It(t){var e=t._i,n=t._f;return t._locale=t._locale||I(t._l),null===e||void 0===n&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new y(ft(e)):(r(n)?Lt(t):n?At(t):o(e)?t._d=e:Nt(t),p(t)||(t._d=null),t))}function Nt(t){var e=t._i;void 0===e?t._d=new Date(n.now()):o(e)?t._d=new Date(e.valueOf()):"string"==typeof e?yt(t):r(e)?(t._a=s(e.slice(0),function(t){return parseInt(t,10)}),Et(t)):"object"==typeof e?$t(t):"number"==typeof e?t._d=new Date(e):n.createFromInputFallback(t)}function Rt(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,Dt(o)}function Mt(t,e,n,i){return Rt(t,e,n,i,!1)}function qt(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Mt();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Ft(){var t=[].slice.call(arguments,0);return qt("isBefore",t)}function Bt(){var t=[].slice.call(arguments,0);return qt("isAfter",t)}function zt(t){var e=q(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=I(),this._bubble()}function Ut(t){return t instanceof zt}function Ht(t,e){W(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}function Wt(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(dr)||["-",0,0],o=+(60*r[1])+b(r[2]);return"+"===r[0]?o:-o}function Yt(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(g(t)||o(t)?t.valueOf():Mt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):Mt(t).local()}function Vt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Xt(t,e){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Wt(Ni,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=Vt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?de(this,oe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Vt(this):null!=t?this:NaN}function Qt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Gt(t){return this.utcOffset(0,t)}function Zt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Vt(this),"m")),this}function Kt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Wt(Ii,this._i)),this}function Jt(t){return this.isValid()?(t=t?Mt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function te(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ee(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),t=It(t),t._a){var e=t._isUTC?u(t._a):Mt(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ne(){return this.isValid()?!this._isUTC:!1}function ie(){return this.isValid()?this._isUTC:!1}function re(){return this.isValid()?this._isUTC&&0===this._offset:!1}function oe(t,e){var n,i,r,o=t,s=null;return Ut(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(s=pr.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:b(s[Ui])*n,h:b(s[Hi])*n,m:b(s[Wi])*n,s:b(s[Yi])*n,ms:b(s[Vi])*n}):(s=hr.exec(t))?(n="-"===s[1]?-1:1,o={y:se(s[2],n),M:se(s[3],n),w:se(s[4],n),d:se(s[5],n),h:se(s[6],n),m:se(s[7],n),s:se(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=le(Mt(o.from),Mt(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new zt(o),Ut(t)&&a(t,"_locale")&&(i._locale=t._locale),i}function se(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ae(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function le(t,e){var n;return t.isValid()&&e.isValid()?(e=Yt(e,t),t.isBefore(e)?n=ae(t,e):(n=ae(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ue(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function ce(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=oe(n,i),de(this,r,t),this}}function de(t,e,i,r){var o=e._milliseconds,s=ue(e._days),a=ue(e._months);t.isValid()&&(r=null==r?!0:r,o&&t._d.setTime(t._d.valueOf()+o*i),s&&z(t,"Date",B(t,"Date")+s*i),a&&lt(t,B(t,"Month")+a*i),r&&n.updateOffset(t,s||a))}function pe(t,e){var n=t||Mt(),i=Yt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",s=e&&(C(e[o])?e[o]():e[o]);return this.format(s||this.localeData().calendar(o,this,Mt(n)))}function he(){return new y(this)}function fe(t,e){var n=g(t)?t:Mt(t);return this.isValid()&&n.isValid()?(e=M(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function ve(t,e){var n=g(t)?t:Mt(t);return this.isValid()&&n.isValid()?(e=M(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function ye(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function ge(t,e){var n,i=g(t)?t:Mt(t);return this.isValid()&&i.isValid()?(e=M(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function me(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function be(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function _e(t,e,n){var i,r,o,s;return this.isValid()?(i=Yt(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=M(e),"year"===e||"month"===e||"quarter"===e?(s=we(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:m(s)):NaN):NaN}function we(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function xe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ke(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():X(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Ce(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=X(this,t);return this.localeData().postformat(e)}function Oe(t,e){return this.isValid()&&(g(t)&&t.isValid()||Mt(t).isValid())?oe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Se(t){return this.from(Mt(),t)}function Te(t,e){return this.isValid()&&(g(t)&&t.isValid()||Mt(t).isValid())?oe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ee(t){return this.to(Mt(),t)}function Pe(t){var e;return void 0===t?this._locale._abbr:(e=I(t),null!=e&&(this._locale=e),this)}function Ae(){return this._locale}function je(t){switch(t=M(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Le(t){return t=M(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function $e(){return this._d.valueOf()-6e4*(this._offset||0)}function De(){return Math.floor(this.valueOf()/1e3)}function Ie(){return this._offset?new Date(this.valueOf()):this._d}function Ne(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Re(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Me(){return this.isValid()?this.toISOString():null}function qe(){return p(this)}function Fe(){return l({},d(this))}function Be(){return d(this).overflow}function ze(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ue(t,e){W(0,[t,t.length],0,e)}function He(t){return Xe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function We(t){return Xe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ye(){return Ot(this.year(),1,4)}function Ve(){var t=this.localeData()._week;return Ot(this.year(),t.dow,t.doy)}function Xe(t,e,n,i,r){var o;return null==t?Ct(this,i,r).year:(o=Ot(t,i,r),e>o&&(e=o),Qe.call(this,t,e,n,i,r))}function Qe(t,e,n,i,r){var o=kt(t,e,n,i,r),s=mt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ge(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ze(t){return Ct(t,this._week.dow,this._week.doy).week}function Ke(){return this._week.dow}function Je(){return this._week.doy}function tn(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function en(t){var e=Ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function nn(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function rn(t,e){return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function on(t){return this._weekdaysShort[t.day()]}function sn(t){return this._weekdaysMin[t.day()]}function an(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=vi.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===e?(r=vi.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=vi.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===e?(r=vi.call(this._weekdaysParse,s),-1!==r?r:(r=vi.call(this._shortWeekdaysParse,s),-1!==r?r:(r=vi.call(this._minWeekdaysParse,s),-1!==r?r:null))):"ddd"===e?(r=vi.call(this._shortWeekdaysParse,s),-1!==r?r:(r=vi.call(this._weekdaysParse,s),-1!==r?r:(r=vi.call(this._minWeekdaysParse,s),-1!==r?r:null))):(r=vi.call(this._minWeekdaysParse,s),-1!==r?r:(r=vi.call(this._weekdaysParse,s),-1!==r?r:(r=vi.call(this._shortWeekdaysParse,s),-1!==r?r:null)))}function ln(t,e,n){var i,r,o;if(this._weekdaysParseExact)return an.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function un(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=nn(t,this.localeData()),this.add(t-e,"d")):e}function cn(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function dn(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function pn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||vn.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function hn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||vn.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function fn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||vn.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function vn(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],c=[];for(e=0;7>e;e++)n=u([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;7>e;e++)a[e]=J(a[e]),l[e]=J(l[e]),c[e]=J(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function yn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gn(){return this.hours()%12||12}function mn(){return this.hours()||24}function bn(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function _n(t,e){return e._meridiemParse}function wn(t){return"p"===(t+"").toLowerCase().charAt(0)}function xn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function kn(t,e){e[Vi]=b(1e3*("0."+t))}function Cn(){return this._isUTC?"UTC":""}function On(){return this._isUTC?"Coordinated Universal Time":""}function Sn(t){return Mt(1e3*t)}function Tn(){return Mt.apply(null,arguments).parseZone()}function En(t,e,n){var i=this._calendar[t];return C(i)?i.call(e,n):i}function Pn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function An(){return this._invalidDate}function jn(t){return this._ordinal.replace("%d",t)}function Ln(t){return t}function $n(t,e,n,i){var r=this._relativeTime[n];return C(r)?r(t,e,n,i):r.replace(/%d/i,t)}function Dn(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)}function In(t,e,n,i){var r=I(),o=u().set(i,e);return r[n](o,t)}function Nn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return In(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=In(t,i,n,"month");return r}function Rn(t,e,n,i){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var r=I(),o=t?r._week.dow:0;if(null!=n)return In(e,(n+o)%7,i,"day");var s,a=[];for(s=0;7>s;s++)a[s]=In(e,(s+o)%7,i,"day");return a}function Mn(t,e){return Nn(t,e,"months")}function qn(t,e){return Nn(t,e,"monthsShort")}function Fn(t,e,n){return Rn(t,e,n,"weekdays")}function Bn(t,e,n){return Rn(t,e,n,"weekdaysShort")}function zn(t,e,n){return Rn(t,e,n,"weekdaysMin")}function Un(){var t=this._data;return this._milliseconds=Fr(this._milliseconds),this._days=Fr(this._days),this._months=Fr(this._months),t.milliseconds=Fr(t.milliseconds),t.seconds=Fr(t.seconds),t.minutes=Fr(t.minutes),t.hours=Fr(t.hours),t.months=Fr(t.months),t.years=Fr(t.years),this}function Hn(t,e,n,i){var r=oe(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Wn(t,e){return Hn(this,t,e,1)}function Yn(t,e){return Hn(this,t,e,-1)}function Vn(t){return 0>t?Math.floor(t):Math.ceil(t)}function Xn(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*Vn(Gn(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=m(o/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,s+=m(n/24),r=m(Qn(s)),a+=r,s-=Vn(Gn(r)),i=m(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function Qn(t){return 4800*t/146097}function Gn(t){return 146097*t/4800}function Zn(t){var e,n,i=this._milliseconds;if(t=M(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Qn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Gn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Kn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function Jn(t){return function(){return this.as(t)}}function ti(t){return t=M(t),this[t+"s"]()}function ei(t){return function(){return this._data[t]}}function ni(){return m(this.days()/7)}function ii(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ri(t,e,n){var i=oe(t).abs(),r=no(i.as("s")),o=no(i.as("m")),s=no(i.as("h")),a=no(i.as("d")),l=no(i.as("M")),u=no(i.as("y")),c=r<io.s&&["s",r]||1>=o&&["m"]||o<io.m&&["mm",o]||1>=s&&["h"]||s<io.h&&["hh",s]||1>=a&&["d"]||a<io.d&&["dd",a]||1>=l&&["M"]||l<io.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,ii.apply(null,c)}function oi(t,e){return void 0===io[t]?!1:void 0===e?io[t]:(io[t]=e,!0)}function si(t){var e=this.localeData(),n=ri(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function ai(){var t,e,n,i=ro(this._milliseconds)/1e3,r=ro(this._days),o=ro(this._months);t=m(i/60),e=m(t/60),i%=60,t%=60,n=m(o/12),o%=12;var s=n,a=o,l=r,u=e,c=t,d=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var li,ui;ui=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;n>i;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var ci=n.momentProperties=[],di=!1,pi={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var hi;hi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var fi,vi,yi={},gi={},mi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,bi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_i={},wi={},xi=/\d/,ki=/\d\d/,Ci=/\d{3}/,Oi=/\d{4}/,Si=/[+-]?\d{6}/,Ti=/\d\d?/,Ei=/\d\d\d\d?/,Pi=/\d\d\d\d\d\d?/,Ai=/\d{1,3}/,ji=/\d{1,4}/,Li=/[+-]?\d{1,6}/,$i=/\d+/,Di=/[+-]?\d+/,Ii=/Z|[+-]\d\d:?\d\d/gi,Ni=/Z|[+-]\d\d(?::?\d\d)?/gi,Ri=/[+-]?\d+(\.\d{1,3})?/,Mi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,qi={},Fi={},Bi=0,zi=1,Ui=2,Hi=3,Wi=4,Yi=5,Vi=6,Xi=7,Qi=8;
vi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),R("month","M"),G("M",Ti),G("MM",Ti,ki),G("MMM",function(t,e){return e.monthsShortRegex(t)}),G("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[zi]=b(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[zi]=r:d(n).invalidMonth=t});var Gi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Zi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ki="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ji=Mi,tr=Mi,er=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,nr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ir=/Z|[+-]\d\d(?::?\d\d)?/,rr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],or=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],sr=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),W("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),R("year","y"),G("Y",Di),G("YY",Ti,ki),G("YYYY",ji,Oi),G("YYYYY",Li,Si),G("YYYYYY",Li,Si),tt(["YYYYY","YYYYYY"],Bi),tt("YYYY",function(t,e){e[Bi]=2===t.length?n.parseTwoDigitYear(t):b(t)}),tt("YY",function(t,e){e[Bi]=n.parseTwoDigitYear(t)}),tt("Y",function(t,e){e[Bi]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var ar=F("FullYear",!0);n.ISO_8601=function(){};var lr=x("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Mt.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:h()}),ur=x("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Mt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()}),cr=function(){return Date.now?Date.now():+new Date};Ht("Z",":"),Ht("ZZ",""),G("Z",Ni),G("ZZ",Ni),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Wt(Ni,t)});var dr=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var pr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,hr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;oe.fn=zt.prototype;var fr=ce(1,"add"),vr=ce(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yr=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ue("gggg","weekYear"),Ue("ggggg","weekYear"),Ue("GGGG","isoWeekYear"),Ue("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),G("G",Di),G("g",Di),G("GG",Ti,ki),G("gg",Ti,ki),G("GGGG",ji,Oi),G("gggg",ji,Oi),G("GGGGG",Li,Si),G("ggggg",Li,Si),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=b(t)}),et(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),R("quarter","Q"),G("Q",xi),tt("Q",function(t,e){e[zi]=3*(b(t)-1)}),W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),G("w",Ti),G("ww",Ti,ki),G("W",Ti),G("WW",Ti,ki),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=b(t)});var gr={dow:0,doy:6};W("D",["DD",2],"Do","date"),R("date","D"),G("D",Ti),G("DD",Ti,ki),G("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Ui),tt("Do",function(t,e){e[Ui]=b(t.match(Ti)[0],10)});var mr=F("Date",!0);W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),G("d",Ti),G("e",Ti),G("E",Ti),G("dd",function(t,e){return e.weekdaysMinRegex(t)}),G("ddd",function(t,e){return e.weekdaysShortRegex(t)}),G("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:d(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=b(t)});var br="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),_r="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xr=Mi,kr=Mi,Cr=Mi;W("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),G("DDD",Ai),G("DDDD",Ci),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=b(t)}),W("H",["HH",2],0,"hour"),W("h",["hh",2],0,gn),W("k",["kk",2],0,mn),W("hmm",0,0,function(){return""+gn.apply(this)+H(this.minutes(),2)}),W("hmmss",0,0,function(){return""+gn.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),bn("a",!0),bn("A",!1),R("hour","h"),G("a",_n),G("A",_n),G("H",Ti),G("h",Ti),G("HH",Ti,ki),G("hh",Ti,ki),G("hmm",Ei),G("hmmss",Pi),G("Hmm",Ei),G("Hmmss",Pi),tt(["H","HH"],Hi),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[Hi]=b(t),d(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[Hi]=b(t.substr(0,i)),e[Wi]=b(t.substr(i)),d(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Hi]=b(t.substr(0,i)),e[Wi]=b(t.substr(i,2)),e[Yi]=b(t.substr(r)),d(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[Hi]=b(t.substr(0,i)),e[Wi]=b(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Hi]=b(t.substr(0,i)),e[Wi]=b(t.substr(i,2)),e[Yi]=b(t.substr(r))});var Or=/[ap]\.?m?\.?/i,Sr=F("Hours",!0);W("m",["mm",2],0,"minute"),R("minute","m"),G("m",Ti),G("mm",Ti,ki),tt(["m","mm"],Wi);var Tr=F("Minutes",!1);W("s",["ss",2],0,"second"),R("second","s"),G("s",Ti),G("ss",Ti,ki),tt(["s","ss"],Yi);var Er=F("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),G("S",Ai,xi),G("SS",Ai,ki),G("SSS",Ai,Ci);var Pr;for(Pr="SSSS";Pr.length<=9;Pr+="S")G(Pr,$i);for(Pr="S";Pr.length<=9;Pr+="S")tt(Pr,kn);var Ar=F("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var jr=y.prototype;jr.add=fr,jr.calendar=pe,jr.clone=he,jr.diff=_e,jr.endOf=Le,jr.format=Ce,jr.from=Oe,jr.fromNow=Se,jr.to=Te,jr.toNow=Ee,jr.get=U,jr.invalidAt=Be,jr.isAfter=fe,jr.isBefore=ve,jr.isBetween=ye,jr.isSame=ge,jr.isSameOrAfter=me,jr.isSameOrBefore=be,jr.isValid=qe,jr.lang=yr,jr.locale=Pe,jr.localeData=Ae,jr.max=ur,jr.min=lr,jr.parsingFlags=Fe,jr.set=U,jr.startOf=je,jr.subtract=vr,jr.toArray=Ne,jr.toObject=Re,jr.toDate=Ie,jr.toISOString=ke,jr.toJSON=Me,jr.toString=xe,jr.unix=De,jr.valueOf=$e,jr.creationData=ze,jr.year=ar,jr.isLeapYear=wt,jr.weekYear=He,jr.isoWeekYear=We,jr.quarter=jr.quarters=Ge,jr.month=ut,jr.daysInMonth=ct,jr.week=jr.weeks=tn,jr.isoWeek=jr.isoWeeks=en,jr.weeksInYear=Ve,jr.isoWeeksInYear=Ye,jr.date=mr,jr.day=jr.days=un,jr.weekday=cn,jr.isoWeekday=dn,jr.dayOfYear=yn,jr.hour=jr.hours=Sr,jr.minute=jr.minutes=Tr,jr.second=jr.seconds=Er,jr.millisecond=jr.milliseconds=Ar,jr.utcOffset=Xt,jr.utc=Gt,jr.local=Zt,jr.parseZone=Kt,jr.hasAlignedHourOffset=Jt,jr.isDST=te,jr.isDSTShifted=ee,jr.isLocal=ne,jr.isUtcOffset=ie,jr.isUtc=re,jr.isUTC=re,jr.zoneAbbr=Cn,jr.zoneName=On,jr.dates=x("dates accessor is deprecated. Use date instead.",mr),jr.months=x("months accessor is deprecated. Use month instead",ut),jr.years=x("years accessor is deprecated. Use year instead",ar),jr.zone=x("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Qt);var Lr=jr,$r={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Dr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ir="Invalid date",Nr="%d",Rr=/\d{1,2}/,Mr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},qr=E.prototype;qr._calendar=$r,qr.calendar=En,qr._longDateFormat=Dr,qr.longDateFormat=Pn,qr._invalidDate=Ir,qr.invalidDate=An,qr._ordinal=Nr,qr.ordinal=jn,qr._ordinalParse=Rr,qr.preparse=Ln,qr.postformat=Ln,qr._relativeTime=Mr,qr.relativeTime=$n,qr.pastFuture=Dn,qr.set=S,qr.months=rt,qr._months=Zi,qr.monthsShort=ot,qr._monthsShort=Ki,qr.monthsParse=at,qr._monthsRegex=tr,qr.monthsRegex=pt,qr._monthsShortRegex=Ji,qr.monthsShortRegex=dt,qr.week=Ze,qr._week=gr,qr.firstDayOfYear=Je,qr.firstDayOfWeek=Ke,qr.weekdays=rn,qr._weekdays=br,qr.weekdaysMin=sn,qr._weekdaysMin=wr,qr.weekdaysShort=on,qr._weekdaysShort=_r,qr.weekdaysParse=ln,qr._weekdaysRegex=xr,qr.weekdaysRegex=pn,qr._weekdaysShortRegex=kr,qr.weekdaysShortRegex=hn,qr._weekdaysMinRegex=Cr,qr.weekdaysMinRegex=fn,qr.isPM=wn,qr._meridiemParse=Or,qr.meridiem=xn,L("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",L),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",I);var Fr=Math.abs,Br=Jn("ms"),zr=Jn("s"),Ur=Jn("m"),Hr=Jn("h"),Wr=Jn("d"),Yr=Jn("w"),Vr=Jn("M"),Xr=Jn("y"),Qr=ei("milliseconds"),Gr=ei("seconds"),Zr=ei("minutes"),Kr=ei("hours"),Jr=ei("days"),to=ei("months"),eo=ei("years"),no=Math.round,io={s:45,m:45,h:22,d:26,M:11},ro=Math.abs,oo=zt.prototype;oo.abs=Un,oo.add=Wn,oo.subtract=Yn,oo.as=Zn,oo.asMilliseconds=Br,oo.asSeconds=zr,oo.asMinutes=Ur,oo.asHours=Hr,oo.asDays=Wr,oo.asWeeks=Yr,oo.asMonths=Vr,oo.asYears=Xr,oo.valueOf=Kn,oo._bubble=Xn,oo.get=ti,oo.milliseconds=Qr,oo.seconds=Gr,oo.minutes=Zr,oo.hours=Kr,oo.days=Jr,oo.weeks=ni,oo.months=to,oo.years=eo,oo.humanize=si,oo.toISOString=ai,oo.toString=ai,oo.toJSON=ai,oo.locale=Pe,oo.localeData=Ae,oo.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ai),oo.lang=yr,W("X",0,0,"unix"),W("x",0,0,"valueOf"),G("x",Di),G("X",Ri),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(b(t))}),n.version="2.13.0",i(Mt),n.fn=Lr,n.min=Ft,n.max=Bt,n.now=cr,n.utc=u,n.unix=Sn,n.months=Mn,n.isDate=o,n.locale=L,n.invalid=h,n.duration=oe,n.isMoment=g,n.weekdays=Fn,n.parseZone=Tn,n.localeData=I,n.isDuration=Ut,n.monthsShort=qn,n.weekdaysMin=zn,n.defineLocale=$,n.updateLocale=D,n.locales=N,n.weekdaysShort=Bn,n.normalizeUnits=M,n.relativeTimeThreshold=oi,n.prototype=Lr;var so=n;return so})},{}],141:[function(t,e,n){function i(){c&&a&&(c=!1,a.length?u=a.concat(u):d=-1,u.length&&r())}function r(){if(!c){var t=setTimeout(i);c=!0;for(var e=u.length;e;){for(a=u,u=[];++d<e;)a&&a[d].run();d=-1,e=u.length}a=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,l=e.exports={},u=[],c=!1,d=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new o(t,e)),1!==u.length||c||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],142:[function(t,e,n){(function(t){!function(t,i){"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.Quill=i():t.Quill=i()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(53)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=n(2),o=i(r),s=n(18),a=i(s),l=n(32),u=i(l),c=n(33),d=i(c),p=n(42),h=i(p),f=n(37),v=i(f),y=n(34),g=i(y),m=n(35),b=i(m),_=n(43),w=i(_),x=n(36),k=i(x),C=n(44),O=i(C),S=n(51),T=i(S),E=n(52),P=i(E);a["default"].register({"blots/block":u["default"],"blots/block/embed":l.BlockEmbed,"blots/break":d["default"],"blots/container":h["default"],"blots/cursor":v["default"],"blots/embed":g["default"],"blots/inline":b["default"],"blots/scroll":w["default"],"blots/text":k["default"],"modules/clipboard":O["default"],"modules/history":T["default"],"modules/keyboard":P["default"]}),o["default"].register(u["default"],d["default"],v["default"],b["default"],w["default"],k["default"]),t.exports=a["default"]},function(t,e,n){"use strict";var i=n(3),r=n(7),o=n(12),s=n(13),a=n(14),l=n(15),u=n(16),c=n(17),d=n(8),p=n(10),h=n(11),f=n(9),v=n(6),y={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:i["default"],Format:r["default"],Leaf:o["default"],Embed:u["default"],Scroll:s["default"],Block:l["default"],Inline:a["default"],Text:c["default"],Attributor:{Attribute:d["default"],Class:p["default"],Style:h["default"],Store:f["default"]}};Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=y},function(t,e,n){"use strict";function i(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)}),t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(5),a=n(6),l=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){var e=this;t.prototype.attach.call(this),this.children=new o["default"],[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var n=i(t);e.insertBefore(n,e.children.head)}catch(r){if(r instanceof a.ParchmentError)return;throw r}})},e.prototype.deleteAt=function(t,e){return 0===t&&e===this.length()?this.remove():void this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){var i=this.children.find(n),r=i[0],o=i[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,o]:r instanceof e?r.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,function(n,i,s){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&r.push(n),n instanceof e&&(r=r.concat(n.descendants(t,i,o))),o-=s}),r},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,function(t,e,r){t.formatAt(e,r,n,i)})},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),r=i[0],o=i[1];if(r)r.insertAt(o,e,n);else{var s=null==n?a.create("text",e):a.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e}))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(){if(t.prototype.optimize.call(this),0===this.children.length)if(null!=this.statics.defaultChild){var e=a.create(this.statics.defaultChild);this.appendChild(e),e.optimize()}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),r=i[0],o=i[1],s=[[this,t]];return r instanceof e?s.concat(r.path(o,n)):(null!=r&&s.push([r,o]),s)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,i,r){t=t.split(i,e),n.appendChild(t)}),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t){var e=this,n=[],r=[];t.forEach(function(t){t.target===e.domNode&&"childList"===t.type&&(n.push.apply(n,t.addedNodes),r.push.apply(r,t.removedNodes))}),r.forEach(function(t){var n=a.find(t);null!=n&&(null!=n.domNode.parentNode&&n.domNode.parentNode!==e.domNode||n.detach())}),n.filter(function(t){return t.parentNode==e.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var n=null;null!=t.nextSibling&&(n=a.find(t.nextSibling));var r=i(t);r.next==n&&null!=r.next||(null!=r.parent&&r.parent.removeChild(e),e.insertBefore(r,n))})},e}(s["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e){"use strict";var n=function(){function t(){this.head=this.tail=void 0,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.insertBefore(t[0],void 0),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=void 0,this.head=this.tail=t),this.length+=1},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,i=this.iterator();n=i();){var r=n.length();if(r>t||e&&t===r&&(null==n.next||0!==n.next.length()))return[n,t];t-=r}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(0>=e))for(var i,r=this.find(t),o=r[0],s=r[1],a=t-s,l=this.iterator(o);(i=l())&&t+e>a;){var u=i.length();t>a?n(i,t-a,Math.min(e,a+u-t)):n(i,0,Math.min(u,t+e-a)),a+=u}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n,i=this.iterator();n=i();)e=t(e,n);return e},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";var i=n(6),r=function(){function t(t){this.domNode=t,this.attach()}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){this.domNode[i.DATA_KEY]={blot:this}},t.prototype.clone=function(){var t=this.domNode.cloneNode();return i.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},t.prototype.deleteAt=function(t,e){var n=this.isolate(t,e);n.remove()},t.prototype.formatAt=function(t,e,n,r){var o=this.isolate(t,e);if(null!=i.query(n,i.Scope.BLOT)&&r)o.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var s=i.create(this.statics.scope);o.wrap(s),s.format(n,r)}},t.prototype.insertAt=function(t,e,n){var r=null==n?i.create("text",e):i.create(e,n),o=this.split(t);this.parent.insertBefore(r,o)},t.prototype.insertInto=function(t,e){if(null!=this.parent&&this.parent.children.remove(this),t.children.insertBefore(this,e),null!=e)var n=e.domNode;null!=this.next&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?i.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t){void 0===t&&(t=[])},t.prototype.wrap=function(t,e){var n="string"==typeof t?i.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e){"use strict";function n(t,e){var n=r(t);if(null==n)throw new a("Unable to create "+t+" blot");var i=n,o=t instanceof Node?t:i.create(e);return new i(o,e)}function i(t,n){return void 0===n&&(n=!1),null==t?null:null!=t[e.DATA_KEY]?t[e.DATA_KEY].blot:n?i(t.parentNode,n):null}function r(t,e){void 0===e&&(e=p.ANY);var n;if("string"==typeof t)n=d[t]||l[t];else if(t instanceof Text)n=d.text;else if("number"==typeof t)t&p.LEVEL&p.BLOCK?n=d.block:t&p.LEVEL&p.INLINE&&(n=d.inline);else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=u[i[r]])break;n=n||c[t.tagName]}return null==n?null:e&p.LEVEL&n.scope&&e&p.TYPE&n.scope?n:null}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(t.length>1)return t.map(function(t){return o(t)});var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new a("Invalid definition");if("abstract"===n.blotName)throw new a("Cannot register abstract class");if(d[n.blotName||n.attrName]=n,"string"==typeof n.keyName)l[n.keyName]=n;else if(null!=n.className&&(u[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map(function(t){return t.toUpperCase()}):n.tagName=n.tagName.toUpperCase();var i=Array.isArray(n.tagName)?n.tagName:[n.tagName];i.forEach(function(t){null!=c[t]&&null!=n.className||(c[t]=n)})}return n}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(t){function e(e){e="[Parchment] "+e,t.call(this,e),this.message=e,this.name=this.constructor.name}return s(e,t),e}(Error);e.ParchmentError=a;var l={},u={},c={},d={};e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(e.Scope||(e.Scope={}));var p=e.Scope;e.create=n,e.find=i,e.query=r,e.register=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(8),o=n(9),s=n(3),a=n(6),l=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.formats=function(t){return"string"==typeof this.tagName?!0:Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0},e.prototype.attach=function(){t.prototype.attach.call(this),this.attributes=new o["default"](this.domNode)},e.prototype.format=function(t,e){var n=a.query(t);n instanceof r["default"]?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e){var n=this;t.prototype.update.call(this,e),e.some(function(t){return t.target===n.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,i){var r=t.prototype.wrap.call(this,n,i);return r instanceof e&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},e}(s["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=n(6),r=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1},t.prototype.canAdd=function(t,e){var n=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return null!=n&&(null==this.whitelist||this.whitelist.indexOf(e)>-1)},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){return t.getAttribute(this.keyName)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,n){"use strict";var i=n(8),r=n(10),o=n(11),s=n(6),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i["default"].keys(this.domNode),n=r["default"].keys(this.domNode),a=o["default"].keys(this.domNode);e.concat(n).concat(a).forEach(function(e){var n=s.query(e,s.Scope.ATTRIBUTE);n instanceof i["default"]&&(t.attributes[n.attrName]=n)})},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";function i(t,e){var n=t.getAttribute("class")||"";return n.split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(8),s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(this.keyName+"-"+e),!0):!1},e.prototype.remove=function(t){var e=i(t,this.keyName);e.forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=i(t,this.keyName)[0]||"";return e.slice(this.keyName.length+1)},e}(o["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";function i(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(8),s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){var e=t.split(":");return e[0].trim()})},e.prototype.add=function(t,e){return this.canAdd(t,e)?(t.style[i(this.keyName)]=e,!0):!1},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){return t.style[i(this.keyName)]},e}(o["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(5),o=n(6),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return t!==this.domNode?-1:Math.min(e,1)},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||!0,t;var t},e.scope=o.Scope.INLINE_BLOT,e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);
t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(6),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=100,l=function(t){function e(e){var n=this;t.call(this,e),this.parent=null,this.observer=new MutationObserver(function(t){n.update(t)}),this.observer.observe(this.domNode,s)}return i(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,r){this.update(),t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e){var n=this;void 0===e&&(e=[]),t.prototype.optimize.call(this),e.push.apply(e,this.observer.takeRecords());for(var i=function(t,e){void 0===e&&(e=!0),null!=t&&t!==n&&null!=t.domNode.parentNode&&(null==t.domNode[o.DATA_KEY].mutations&&(t.domNode[o.DATA_KEY].mutations=[]),e&&i(t.parent))},s=function(t){null!=t.domNode[o.DATA_KEY]&&null!=t.domNode[o.DATA_KEY].mutations&&(t instanceof r["default"]&&t.children.forEach(s),t.optimize())},l=e,u=0;l.length>0;u+=1){if(u>=a)throw new Error("[Parchment] Maximum optimize iterations reached");l.forEach(function(t){var e=o.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(i(o.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=o.find(t,!1);i(e,!1),e instanceof r["default"]&&e.children.forEach(function(t){i(t,!1)})})):"attributes"===t.type&&i(e.prev)),i(e))}),this.children.forEach(s),l=this.observer.takeRecords(),e.push.apply(e,l)}},e.prototype.update=function(e){var n=this;e=e||this.observer.takeRecords(),e.map(function(t){var e=o.find(t.target,!0);if(null!=e)return null==e.domNode[o.DATA_KEY].mutations?(e.domNode[o.DATA_KEY].mutations=[t],e):(e.domNode[o.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==n&&t.update(t.domNode[o.DATA_KEY].mutations||[])}),null!=this.domNode[o.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations),this.optimize(e)},e.blotName="scroll",e.defaultChild="block",e.scope=o.Scope.BLOCK_BLOT,e.tagName="DIV",e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";function i(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(6),a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.formats=function(n){return n.tagName!==e.tagName?t.formats.call(this,n):void 0},e.prototype.format=function(n,i){var r=this;n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):(this.children.forEach(function(t){t instanceof o["default"]||(t=t.wrap(e.blotName,!0)),r.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=function(e,n,i,r){if(null!=this.formats()[i]||s.query(i,s.Scope.ATTRIBUTE)){var o=this.isolate(e,n);o.format(i,r)}else t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.optimize=function(){t.prototype.optimize.call(this);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var r=this.next;r instanceof e&&r.prev===this&&i(n,r.formats())&&(r.moveChildren(this),r.remove())},e.blotName="inline",e.scope=s.Scope.INLINE_BLOT,e.tagName="SPAN",e}(o["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(7),o=n(6),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.formats=function(n){var i=o.query(e.blotName).tagName;if(n.tagName!==i)return t.formats.call(this,n)},e.prototype.format=function(n,i){n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):this.replaceWith(e.blotName)},e.prototype.formatAt=function(e,n,i,r){null!=o.query(i,o.Scope.BLOCK)?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=o.query(n,o.Scope.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var r=this.split(e),s=o.create(n,i);r.parent.insertBefore(s,r)}},e.blotName="block",e.scope=o.Scope.BLOCK_BLOT,e.tagName="P",e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(12),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,r){0===e&&n===this.length()?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(12),o=n(6),s=function(t){function e(e){t.call(this,e),this.text=this.statics.value(this.domNode)}return i(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){return t.data},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(){t.prototype.optimize.call(this),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=o.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t){var e=this;t.some(function(t){return"characterData"===t.type&&t.target===e.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=o.Scope.INLINE_BLOT,e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(e=(0,C["default"])(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==A.DEFAULTS.theme){if(e.theme=A["import"]("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=E["default"];var n=(0,C["default"])(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){t.modules[e]===!0&&(t.modules[e]={})})});var i=Object.keys(n.modules).concat(Object.keys(e.modules)),r=i.reduce(function(t,e){var n=A["import"]("modules/"+e);return null==n?P.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,C["default"])(!0,{},A.DEFAULTS,{modules:r},n,e),["bounds","container"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function s(t,e,n,i,r){var o={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(r=i,i=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(r=i,i=n,n=e,e=0),"object"===("undefined"==typeof n?"undefined":l(n))?(o=n,r=i):"string"==typeof n&&(null!=i?o[n]=i:r=n),r=r||y["default"].sources.API,[t,e,o,r]}function a(t,e,n,i){if(null==t)return null;var r=void 0,o=void 0;if(e instanceof p["default"]){var s=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,i===y["default"].sources.USER)}),a=u(s,2);r=a[0],o=a[1]}else{var l=[t.index,t.index+t.length].map(function(t){return e>t||t===e&&i!==y["default"].sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),c=u(l,2);r=c[0],o=c[1]}return new w.Range(r,o-r)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.overload=e.expandConfig=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(19);var d=n(20),p=i(d),h=n(27),f=i(h),v=n(28),y=i(v),g=n(39),m=i(g),b=n(2),_=i(b),w=n(40),x=i(w),k=n(25),C=i(k),O=n(30),S=i(O),T=n(41),E=i(T),P=(0,S["default"])("quill"),A=function(){function t(e){var n=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(r(this,t),i=o(e,i),this.container=i.container,null==this.container)return P.error("Invalid Quill container",e);i.debug&&t.debug(i.debug);var s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.root=this.addContainer("ql-editor"),this.emitter=new y["default"],this.scroll=_["default"].create(this.root,{emitter:this.emitter,whitelist:i.formats}),this.editor=new f["default"](this.scroll,this.emitter),this.selection=new x["default"](this.scroll,this.emitter),this.theme=new i.theme(this,i),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init();var a=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+s+"<p><br></p></div>");this.setContents(a),this.history.clear(),i.readOnly&&this.disable(),i.placeholder&&this.root.setAttribute("data-placeholder",i.placeholder),this.root.classList.toggle("ql-blank",this.editor.isBlank()),this.emitter.on(y["default"].events.TEXT_CHANGE,function(t){n.root.classList.toggle("ql-blank",n.editor.isBlank())})}return c(t,null,[{key:"debug",value:function(t){S["default"].level(t)}},{key:"import",value:function(t){return null==this.imports[t]&&P.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if("string"!=typeof t){var r=t.attrName||t.blotName;"string"==typeof r?this.register("formats/"+r,t,e):Object.keys(t).forEach(function(i){n.register(i,t[i],e)})}else null==this.imports[t]||i||P.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName&&_["default"].register(e)}}]),c(t,[{key:"addContainer",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("string"==typeof t){var n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=s(t,e,n),r=u(i,4);t=r[0],e=r[1],n=r[3];var o=this.getSelection(),l=this.editor.deleteText(t,e,n);return o=a(o,t,-1*e,n),this.setSelection(o,y["default"].sources.SILENT),l}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.editor.enable(t),t||this.blur()}},{key:"focus",value:function(){this.selection.focus(),this.selection.scrollIntoView()}},{key:"format",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?y["default"].sources.API:arguments[2],i=this.getSelection(!0),r=new p["default"];if(null==i)return r;if(_["default"].query(t,_["default"].Scope.BLOCK))r=this.formatLine(i,t,e,n);else{if(0===i.length)return this.selection.format(t,e),r;r=this.formatText(i,t,e,n)}return this.setSelection(i,y["default"].sources.SILENT),r}},{key:"formatLine",value:function(t,e,n,i,r){var o=void 0,a=s(t,e,n,i,r),l=u(a,4);t=l[0],e=l[1],o=l[2],r=l[3];var c=this.getSelection(),d=this.editor.formatLine(t,e,o,r);return this.selection.setRange(c,!0,y["default"].sources.SILENT),this.selection.scrollIntoView(),d}},{key:"formatText",value:function(t,e,n,i,r){var o=void 0,a=s(t,e,n,i,r),l=u(a,4);t=l[0],e=l[1],o=l[2],r=l[3];var c=this.getSelection(),d=this.editor.formatText(t,e,o,r);return this.selection.setRange(c,!0,y["default"].sources.SILENT),this.selection.scrollIntoView(),d}},{key:"getBounds",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return"number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length)}},{key:"getContents",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.getLength()-t:arguments[1],n=s(t,e),i=u(n,2);return t=i[0],e=i[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getSelection():arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.getLength()-t:arguments[1],n=s(t,e),i=u(n,2);return t=i[0],e=i[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var r=arguments.length<=3||void 0===arguments[3]?t.sources.API:arguments[3],o=this.getSelection(),s=this.editor.insertEmbed(e,n,i,r);return o=a(o,s,r),this.setSelection(o,y["default"].sources.SILENT),s}},{key:"insertText",value:function(t,e,n,i,r){var o=void 0,l=this.getSelection(),c=s(t,0,n,i,r),d=u(c,4);t=d[0],o=d[2],r=d[3];var p=this.editor.insertText(t,e,o,r);return l=a(l,t,e.length,r),this.setSelection(l,y["default"].sources.SILENT),p}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var i=this.getSelection(),r=s(t,e,n),o=u(r,4);t=o[0],e=o[1],n=o[3];var l=this.editor.removeFormat(t,e,n);return i=a(i,l,n),this.setSelection(i,y["default"].sources.SILENT),l}},{key:"setContents",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?y["default"].sources.API:arguments[1];t=new p["default"](t).slice();var n=t.ops[t.ops.length-1];return null!=n&&"\n"===n.insert[n.insert.length-1]||t.insert("\n"),t["delete"](this.getLength()),this.editor.applyDelta(t,e)}},{key:"setSelection",value:function(e,n,i){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var r=s(e,n,i),o=u(r,4);e=o[0],n=o[1],i=o[3],this.selection.setRange(new w.Range(e,n),i)}this.selection.scrollIntoView()}},{key:"setText",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?y["default"].sources.API:arguments[1],n=(new p["default"]).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length<=0||void 0===arguments[0]?y["default"].sources.USER:arguments[0],e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?y["default"].sources.API:arguments[1],n=this.getSelection();Array.isArray(t)&&(t=new p["default"](t.slice()));var i=this.editor.applyDelta(t,e);return null!=n&&(n=a(n,i,e),this.setSelection(n,y["default"].sources.SILENT)),i}}]),t}();A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,theme:"default"},A.events=y["default"].events,A.sources=y["default"].sources,A.version="1.0.4",A.imports={delta:p["default"],parchment:_["default"],"core/module":m["default"],"core/theme":E["default"]},e.expandConfig=o,e.overload=s,e["default"]=A},function(t,e){"use strict";var n=document.createElement("div");n.classList.toggle("test-class",!1),n.classList.contains("test-class")&&!function(){var t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){return arguments.length>1&&!this.contains(e)==!n?n:t.call(this,e)}}(),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function i(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i,e=Object(this),n=e.length>>>0,r=arguments[1],o=0;n>o;o++)if(i=e[o],t.call(r,i,o,e))return i}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1)})},function(t,e,n){var i=n(21),r=n(22),o=n(25),s=n(26),a=String.fromCharCode(0),l=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype["delete"]=function(t){return 0>=t?this:this.push({"delete":t})},l.prototype.retain=function(t,e){if(0>=t)return this;var n={retain:t};return"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o(!0,{},t),"object"==typeof n){if("number"==typeof t["delete"]&&"number"==typeof n["delete"])return this.ops[e-1]={"delete":n["delete"]+t["delete"]},this;if("number"==typeof n["delete"]&&null!=t.insert&&(e-=1,n=this.ops[e-1],"object"!=typeof n))return this.ops.unshift(t),this;if(r(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.length=function(){return this.ops.reduce(function(t,e){return t+s.length(e)},0)},l.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],i=s.iterator(this.ops),r=0;e>r&&i.hasNext();){var o;t>r?o=i.next(t-r):(o=i.next(e-r),n.push(o)),r+=s.length(o)}return new l(n)},l.prototype.compose=function(t){for(var e=s.iterator(this.ops),n=s.iterator(t.ops),i=new l;e.hasNext()||n.hasNext();)if("insert"===n.peekType())i.push(n.next());else if("delete"===e.peekType())i.push(e.next());else{var r=Math.min(e.peekLength(),n.peekLength()),o=e.next(r),a=n.next(r);if("number"==typeof a.retain){var u={};"number"==typeof o.retain?u.retain=r:u.insert=o.insert;var c=s.attributes.compose(o.attributes,a.attributes,"number"==typeof o.retain);c&&(u.attributes=c),i.push(u)}else"number"==typeof a["delete"]&&"number"==typeof o.retain&&i.push(a)}return i.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t){var e=new l;if(this.ops===t.ops)return e;var n=[this.ops,t.ops].map(function(e){return e.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:a;var i=e===t.ops?"on":"with";throw new Error("diff() called "+i+" non-document")}).join("")}),o=i(n[0],n[1]),u=s.iterator(this.ops),c=s.iterator(t.ops);return o.forEach(function(t){for(var n=t[1].length;n>0;){var o=0;switch(t[0]){case i.INSERT:o=Math.min(c.peekLength(),n),e.push(c.next(o));break;case i.DELETE:o=Math.min(n,u.peekLength()),u.next(o),e["delete"](o);break;case i.EQUAL:o=Math.min(u.peekLength(),c.peekLength(),n);var a=u.next(o),l=c.next(o);r(a.insert,l.insert)?e.retain(o,s.attributes.diff(a.attributes,l.attributes)):e.push(l)["delete"](o)}n-=o}}),e.chop()},l.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=s.iterator(this.ops),i=s.iterator(t.ops),r=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var o=Math.min(n.peekLength(),i.peekLength()),a=n.next(o),u=i.next(o);if(a["delete"])continue;u["delete"]?r.push(u):r.retain(o,s.attributes.transform(a.attributes,u.attributes,e))}else r.retain(s.length(n.next()));return r.chop()},l.prototype.transformPosition=function(t,e){e=!!e;for(var n=s.iterator(this.ops),i=0;n.hasNext()&&t>=i;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(t>i||!e)&&(t+=r),i+=r):t-=Math.min(r,t-i)}return t},t.exports=l},function(t,e){function n(t,e){if(t==e)return t?[[p,t]]:[];var n=s(t,e),r=t.substring(0,n);t=t.substring(n),e=e.substring(n),n=a(t,e);var o=t.substring(t.length-n);t=t.substring(0,t.length-n),e=e.substring(0,e.length-n);var l=i(t,e);return r&&l.unshift([p,r]),o&&l.push([p,o]),u(l),l}function i(t,e){var i;if(!t)return[[d,e]];if(!e)return[[c,t]];var o=t.length>e.length?t:e,s=t.length>e.length?e:t,a=o.indexOf(s);if(-1!=a)return i=[[d,o.substring(0,a)],[p,s],[d,o.substring(a+s.length)]],t.length>e.length&&(i[0][0]=i[2][0]=c),i;if(1==s.length)return[[c,t],[d,e]];var u=l(t,e);if(u){var h=u[0],f=u[1],v=u[2],y=u[3],g=u[4],m=n(h,v),b=n(f,y);return m.concat([[p,g]],b)}return r(t,e)}function r(t,e){for(var n=t.length,i=e.length,r=Math.ceil((n+i)/2),s=r,a=2*r,l=new Array(a),u=new Array(a),p=0;a>p;p++)l[p]=-1,u[p]=-1;l[s+1]=0,u[s+1]=0;for(var h=n-i,f=h%2!=0,v=0,y=0,g=0,m=0,b=0;r>b;b++){for(var _=-b+v;b-y>=_;_+=2){var w,x=s+_;w=_==-b||_!=b&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1;for(var k=w-_;n>w&&i>k&&t.charAt(w)==e.charAt(k);)w++,k++;if(l[x]=w,w>n)y+=2;else if(k>i)v+=2;else if(f){var C=s+h-_;if(C>=0&&a>C&&-1!=u[C]){var O=n-u[C];if(w>=O)return o(t,e,w,k)}}}for(var S=-b+g;b-m>=S;S+=2){var O,C=s+S;O=S==-b||S!=b&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1;for(var T=O-S;n>O&&i>T&&t.charAt(n-O-1)==e.charAt(i-T-1);)O++,T++;if(u[C]=O,O>n)m+=2;else if(T>i)g+=2;else if(!f){var x=s+h-S;if(x>=0&&a>x&&-1!=l[x]){var w=l[x],k=s+w-x;if(O=n-O,w>=O)return o(t,e,w,k)}}}}return[[c,t],[d,e]]}function o(t,e,i,r){var o=t.substring(0,i),s=e.substring(0,r),a=t.substring(i),l=e.substring(r),u=n(o,s),c=n(a,l);return u.concat(c)}function s(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;r>n;)t.substring(o,r)==e.substring(o,r)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}function a(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,o=0;r>n;)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}function l(t,e){function n(t,e,n){for(var i,r,o,l,u=t.substring(n,n+Math.floor(t.length/4)),c=-1,d="";-1!=(c=e.indexOf(u,c+1));){var p=s(t.substring(n),e.substring(c)),h=a(t.substring(0,n),e.substring(0,c));d.length<h+p&&(d=e.substring(c-h,c)+e.substring(c,c+p),i=t.substring(0,n-h),r=t.substring(n+p),o=e.substring(0,c-h),l=e.substring(c+p))}return 2*d.length>=t.length?[i,r,o,l,d]:null}var i=t.length>e.length?t:e,r=t.length>e.length?e:t;if(i.length<4||2*r.length<i.length)return null;var o,l=n(i,r,Math.ceil(i.length/4)),u=n(i,r,Math.ceil(i.length/2));if(!l&&!u)return null;o=u?l&&l[4].length>u[4].length?l:u:l;var c,d,p,h;t.length>e.length?(c=o[0],d=o[1],p=o[2],h=o[3]):(p=o[0],h=o[1],c=o[2],d=o[3]);var f=o[4];return[c,d,p,h,f]}function u(t){t.push([p,""]);for(var e,n=0,i=0,r=0,o="",l="";n<t.length;)switch(t[n][0]){case d:r++,l+=t[n][1],n++;break;case c:i++,o+=t[n][1],n++;break;case p:i+r>1?(0!==i&&0!==r&&(e=s(l,o),0!==e&&(n-i-r>0&&t[n-i-r-1][0]==p?t[n-i-r-1][1]+=l.substring(0,e):(t.splice(0,0,[p,l.substring(0,e)]),n++),l=l.substring(e),o=o.substring(e)),e=a(l,o),0!==e&&(t[n][1]=l.substring(l.length-e)+t[n][1],l=l.substring(0,l.length-e),o=o.substring(0,o.length-e))),0===i?t.splice(n-r,i+r,[d,l]):0===r?t.splice(n-i,i+r,[c,o]):t.splice(n-i-r,i+r,[c,o],[d,l]),n=n-i-r+(i?1:0)+(r?1:0)+1):0!==n&&t[n-1][0]==p?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,r=0,i=0,o="",l=""}""===t[t.length-1][1]&&t.pop();var h=!1;for(n=1;n<t.length-1;)t[n-1][0]==p&&t[n+1][0]==p&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),h=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),h=!0)),n++;h&&u(t)}var c=-1,d=1,p=0,h=n;h.INSERT=d,h.DELETE=c,h.EQUAL=p,t.exports=h},function(t,e,n){function i(t){return null===t||void 0===t}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length?"function"!=typeof t.copy||"function"!=typeof t.slice?!1:!(t.length>0&&"number"!=typeof t[0]):!1}function o(t,e,n){var o,c;if(i(t)||i(e))return!1;if(t.prototype!==e.prototype)return!1;if(l(t))return l(e)?(t=s.call(t),e=s.call(e),u(t,e,n)):!1;if(r(t)){if(!r(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var d=a(t),p=a(e)}catch(h){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),o=d.length-1;o>=0;o--)if(d[o]!=p[o])return!1;for(o=d.length-1;o>=0;o--)if(c=d[o],!u(t[c],e[c],n))return!1;return typeof t==typeof e}var s=Array.prototype.slice,a=n(23),l=n(24),u=t.exports=function(t,e,n){return n||(n={}),t===e?!0:t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:o(t,e,n)}},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n},function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=r?n:i,e.supported=n,e.unsupported=i},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},o=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e=n.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!r)return!1;var o;for(o in t);return"undefined"==typeof o||n.call(t,o)};t.exports=function s(){var t,e,n,i,a,l,u=arguments[0],c=1,d=arguments.length,p=!1;for("boolean"==typeof u?(p=u,u=arguments[1]||{},c=2):("object"!=typeof u&&"function"!=typeof u||null==u)&&(u={});d>c;++c)if(t=arguments[c],null!=t)for(e in t)n=u[e],i=t[e],u!==i&&(p&&i&&(o(i)||(a=r(i)))?(a?(a=!1,l=n&&r(n)?n:[]):l=n&&o(n)?n:{},u[e]=s(p,l,i)):"undefined"!=typeof i&&(u[e]=i));return u}},function(t,e,n){function i(t){this.ops=t,this.index=0,this.offset=0}var r=n(22),o=n(25),s={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=o(!0,{},e);n||(i=Object.keys(i).reduce(function(t,e){return null!=i[e]&&(t[e]=i[e]),t},{}));for(var r in t)void 0!==t[r]&&void 0===e[r]&&(i[r]=t[r]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return r(t[i],e[i])||(n[i]=void 0===e[i]?null:e[i]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var i=Object.keys(e).reduce(function(n,i){return void 0===t[i]&&(n[i]=e[i]),n},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new i(t)},length:function(t){return"number"==typeof t["delete"]?t["delete"]:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};i.prototype.hasNext=function(){return this.peekLength()<1/0},i.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=s.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e["delete"])return{"delete":t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"==typeof e.retain?r.retain=t:"string"==typeof e.insert?r.insert=e.insert.substr(n,t):r.insert=e.insert,r}return{retain:1/0}},i.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},i.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index]["delete"]?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.exports=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){return Object.keys(e).reduce(function(n,i){return null==t[i]?n:(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]],n)},{})}function a(t){return t.ops.reduce(function(t,e){if(1===e.insert){var n=(0,S["default"])(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||e.attributes.list!==!0&&e.attributes.bullet!==!0||(e=(0,S["default"])(e),e.attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes);
}return t.push(e)},new p["default"])}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),d=n(20),p=i(d),h=n(26),f=i(h),v=n(28),y=i(v),g=n(2),m=i(g),b=n(31),_=i(b),w=n(37),x=i(w),k=n(32),C=i(k),O=n(38),S=i(O),T=n(22),E=i(T),P=n(25),A=i(P),j=function(){function t(e,n){o(this,t),this.scroll=e,this.emitter=n,this.emitter.on(y["default"].events.SCROLL_UPDATE,this.update.bind(this,null)),this.delta=this.getDelta(),this.enable()}return c(t,[{key:"applyDelta",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?y["default"].sources.API:arguments[1],i=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batch=!0,t=a(t),t.ops.reduce(function(t,n){var o=n.retain||n["delete"]||n.insert.length||1,s=n.attributes||{};if(null!=n.insert){if("string"==typeof n.insert){var a=n.insert;a.endsWith("\n")&&i&&(i=!1,a=a.slice(0,-1)),t>=r&&!a.endsWith("\n")&&(i=!0),e.scroll.insertAt(t,a);var c=e.scroll.line(t),d=u(c,2),p=d[0],h=d[1],v=(0,A["default"])({},(0,k.bubbleFormats)(p));if(p instanceof C["default"]){var y=p.descendant(m["default"].Leaf,h),g=u(y,1),b=g[0];v=(0,A["default"])(v,(0,k.bubbleFormats)(b))}s=f["default"].attributes.diff(v,s)||{}}else if("object"===l(n.insert)){var _=Object.keys(n.insert)[0];if(null==_)return t;e.scroll.insertAt(t,_,n.insert[_])}r+=o}return Object.keys(s).forEach(function(n){e.scroll.formatAt(t,o,n,s[n])}),t+o},0),t.ops.reduce(function(t,n){return"number"==typeof n["delete"]?(e.scroll.deleteAt(t,n["delete"]),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batch=!1,this.scroll.optimize(),this.update(t,n)}},{key:"deleteText",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?y["default"].sources.API:arguments[2];return this.scroll.deleteAt(t,e),this.update((new p["default"]).retain(t)["delete"](e),n)}},{key:"enable",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.scroll.domNode.setAttribute("contenteditable",t)}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=arguments.length<=3||void 0===arguments[3]?y["default"].sources.API:arguments[3];return this.scroll.update(),Object.keys(i).forEach(function(r){var o=n.scroll.lines(t,Math.max(e,1)),s=e;o.forEach(function(e,o){var a=e.length();if(e instanceof _["default"]){var l=t-e.offset(n.scroll),u=e.newlineIndex(l+s)-l+1;e.formatAt(l,u,r,i[r])}else e.format(r,i[r]);s-=a})}),this.scroll.optimize(),this.update((new p["default"]).retain(t).retain(e,(0,S["default"])(i)),r)}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=arguments.length<=3||void 0===arguments[3]?y["default"].sources.API:arguments[3];return Object.keys(i).forEach(function(r){n.scroll.formatAt(t,e,r,i[r])}),this.update((new p["default"]).retain(t).retain(e,(0,S["default"])(i)),r)}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new p["default"])}},{key:"getFormat",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=[],i=[];0===e?this.scroll.path(t).forEach(function(t){var e=u(t,1),r=e[0];r instanceof C["default"]?n.push(r):r instanceof m["default"].Leaf&&i.push(r)}):(n=this.scroll.lines(t,e),i=this.scroll.descendants(m["default"].Leaf,t,e));var r=[n,i].map(function(t){if(0===t.length)return{};for(var e=(0,k.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=s((0,k.bubbleFormats)(n),e)}return e});return A["default"].apply(A["default"],r)}},{key:"getText",value:function(t,e){return this.getContents(t,e).ops.map(function(t){return"string"==typeof t.insert?t.insert:""}).join("")}},{key:"insertEmbed",value:function(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?y["default"].sources.API:arguments[3];return this.scroll.insertAt(t,e,n),this.update((new p["default"]).retain(t).insert(r({},e,n)),i)}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=arguments.length<=3||void 0===arguments[3]?y["default"].sources.API:arguments[3];return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach(function(r){n.scroll.formatAt(t,e.length,r,i[r])}),this.update((new p["default"]).retain(t).insert(e,(0,S["default"])(i)),r)}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.length()<=1&&0==Object.keys(t.formats()).length}},{key:"removeFormat",value:function(t,e,n){var i=this.getText(t,e),r=this.scroll.line(t+e),o=u(r,2),s=o[0],a=o[1],l=0,c=new p["default"];null!=s&&(l=s instanceof _["default"]?s.newlineIndex(a)-a+1:s.length()-a,c=s.delta().slice(a,a+l-1).insert("\n"));var d=this.getContents(t,e+l),h=d.diff((new p["default"]).insert(i).concat(c)),f=(new p["default"]).retain(t).concat(h);return this.applyDelta(f,n)}},{key:"update",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?y["default"].sources.USER:arguments[1],i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=this.delta;if(1===i.length&&"characterData"===i[0].type&&m["default"].find(i[0].target)?!function(){var n=m["default"].find(i[0].target),o=(0,k.bubbleFormats)(n),s=n.offset(e.scroll),a=i[0].oldValue.replace(x["default"].CONTENTS,""),l=(new p["default"]).insert(a),u=(new p["default"]).insert(n.value()),c=(new p["default"]).retain(s).concat(l.diff(u));t=c.ops.reduce(function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)},new p["default"]),e.delta=r.compose(t)}():(this.delta=this.getDelta(),t&&(0,E["default"])(r.compose(t),this.delta)||(t=r.diff(this.delta))),t.length()>0){var o,s=[y["default"].events.TEXT_CHANGE,t,r,n];if((o=this.emitter).emit.apply(o,[y["default"].events.EDITOR_CHANGE].concat(s)),n!==y["default"].sources.SILENT){var a;(a=this.emitter).emit.apply(a,s)}}return t}}]),t}();e["default"]=j},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function v(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:v(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(29),c=i(u),d=n(30),p=i(d),h=(0,p["default"])("quill:events"),f=function(t){function e(){r(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.on("error",h.error),t}return s(e,t),a(e,[{key:"emit",value:function(){h.log.apply(h,arguments),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}}]),e}(c["default"]);f.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},f.sources={API:"api",SILENT:"silent",USER:"user"},e["default"]=f},function(t,e){"use strict";function n(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){}var r=Object.prototype.hasOwnProperty,o="function"!=typeof Object.create?"~":!1;i.prototype._events=void 0,i.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(t,e){var n=o?o+t:t,i=this._events&&this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,a=new Array(s);s>r;r++)a[r]=i[r].fn;return a},i.prototype.emit=function(t,e,n,i,r,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,r),!0;case 6:return c.fn.call(c.context,e,n,i,r,s),!0}for(u=1,l=new Array(d-1);d>u;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,h=c.length;for(u=0;h>u;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;default:if(!l)for(p=1,l=new Array(d-1);d>p;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},i.prototype.on=function(t,e,i){var r=new n(e,i||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):this._events[s]=r,this},i.prototype.once=function(t,e,i){var r=new n(e,i||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):this._events[s]=r,this},i.prototype.removeListener=function(t,e,n,i){var r=o?o+t:t;if(!this._events||!this._events[r])return this;var s=this._events[r],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||n&&s.context!==n)&&a.push(s);else for(var l=0,u=s.length;u>l;l++)(s[l].fn!==e||i&&!s[l].once||n&&s[l].context!==n)&&a.push(s[l]);return a.length?this._events[r]=1===a.length?a[0]:a:delete this._events[r],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=o,"undefined"!=typeof t&&(t.exports=i)},function(t,e){"use strict";function n(t){if(r.indexOf(t)<=r.indexOf(o)){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];console[t].apply(console,n)}}function i(t){return r.reduce(function(e,i){return e[i]=n.bind(console,i,t),e},{})}Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";n.level=i.level=function(t){o=t},e["default"]=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.Code=void 0;var a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function x(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:x(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=n(20),d=i(c),p=n(2),h=i(p),f=n(32),v=i(f),y=n(35),g=i(y),m=n(36),b=i(m),_=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(g["default"]);_.blotName="code",_.tagName="CODE";var w=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,n){return e.insert(n).insert("\n",t.formats())},new d["default"])}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var i=this.descendant(b["default"],this.length()-1),r=a(i,1),o=r[0];null!=o&&o.deleteAt(o.length()-1,1),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,i,r){if(0!==n&&null!=h["default"].query(i,h["default"].Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(t);if(!(0>o||o>=t+n)){var s=this.newlineIndex(t,!0)+1,a=o-s+1,l=this.isolate(s,a),u=l.next;l.format(i,r),u instanceof e&&u.formatAt(0,t-s+n-a,i,r)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var i=this.descendant(b["default"],t),r=a(i,2),o=r[0],s=r[1];o.insertAt(s,e)}}},{key:"length",value:function n(){var n=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?n:n+1}},{key:"newlineIndex",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(){this.domNode.textContent.endsWith("\n")||this.appendChild(h["default"].create("text","\n")),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===t.statics.formats(t.domNode)&&(t.optimize(),t.moveChildren(this),t.remove())}},{key:"replace",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=h["default"].find(t);null==e?t.parentNode.removeChild(t):e instanceof h["default"].Embed?e.remove():e.unwrap()})}}],[{key:"create",value:function(t){var n=u(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(t){return!0}}]),e}(v["default"]);w.blotName="code-block",w.tagName="PRE",w.TAB="  ",e.Code=_,e["default"]=w},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return null==t?e:("function"==typeof t.formats&&(e=(0,d["default"])(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:a(t.parent,e))}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.BlockEmbed=e.bubbleFormats=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function T(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:T(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=n(25),d=i(c),p=n(20),h=i(p),f=n(2),v=i(f),y=n(33),g=i(y),m=n(34),b=i(m),_=n(35),w=i(_),x=n(36),k=i(x),C=1,O=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"attach",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new v["default"].Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new h["default"]).insert(this.value(),(0,d["default"])(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=v["default"].query(t,v["default"].Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,n,i){if("string"==typeof n&&n.endsWith("\n")){var r=v["default"].create(S.blotName);this.parent.insertBefore(r,0===t?this:this.next),r.insertAt(0,n.slice(0,-1))}else u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i)}}]),e}(b["default"]);O.scope=v["default"].Scope.BLOCK_BLOT;var S=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return s(e,t),l(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(v["default"].Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),a(e))},new h["default"]).insert("\n",a(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,i,r){0>=n||(v["default"].query(i,v["default"].Scope.BLOCK)?t+n===this.length()&&this.format(i,r):u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),i,r),this.cache={})}},{key:"insertAt",value:function(t,n,i){if(null!=i)return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);if(0!==n.length){var r=n.split("\n"),o=r.shift();o.length>0&&(t<this.length()-1||null==this.children.tail?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;r.reduce(function(t,e){return s=s.split(t,!0),s.insertAt(0,e),e.length},t+o.length)}}},{key:"insertBefore",value:function(t,n){var i=this.children.head;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),i instanceof g["default"]&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+C),this.cache.length}},{key:"moveChildren",value:function(t,n){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this),this.cache={}}},{key:"path",value:function(t){return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(n&&(0===t||t>=this.length()-C)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var r=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},r}}]),e}(v["default"].Block);S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[w["default"],b["default"],k["default"]],e.bubbleFormats=a,e.BlockEmbed=O,e["default"]=S},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function p(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(34),c=i(u),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"insertInto",value:function(t,n){0===t.children.length&&l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n)}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(t){}}]),e}(c["default"]);d.blotName="break",d.tagName="BR",e["default"]=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),l=i(a),u=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(l["default"].Embed);e["default"]=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function g(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:g(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(25),c=(i(u),n(34)),d=i(c),p=n(36),h=i(p),f=n(2),v=i(f),y=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"formatAt",value:function(t,n,i,r){if(e.compare(this.statics.blotName,i)<0&&v["default"].query(i,v["default"].Scope.BLOT)){var o=this.isolate(t,n);r&&o.wrap(i,r)}else l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,r)}},{key:"optimize",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this);this.parent.parent;if(this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}],[{key:"compare",value:function(t,n){var i=e.order.indexOf(t),r=e.order.indexOf(n);return i>=0||r>=0?i-r:t===n?0:n>t?-1:1}}]),e}(v["default"].Inline);y.allowedChildren=[y,d["default"],h["default"]],y.order=["cursor","inline","code","underline","strike","italic","bold","script","link"],e["default"]=y},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),l=i(a),u=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(l["default"].Text);e["default"]=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function g(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:g(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(2),d=i(c),p=n(34),h=i(p),f=n(28),v=i(f),y=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.selection=n,i.textNode=document.createTextNode(e.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return s(e,t),u(e,null,[{key:"value",value:function(t){}}]),u(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var i=this,r=0;null!=i&&i.statics.scope!==d["default"].Scope.BLOCK_BLOT;)r+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=e.CONTENTS.length,i.optimize(),i.formatAt(r,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(t){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){var t=this;if(!this.selection.composing&&null!=this.parent){for(var n=this.textNode,i=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);this.textNode.data!==e.CONTENTS&&(this.textNode.data=this.textNode.data.split(e.CONTENTS).join(""),this.parent.insertBefore(d["default"].create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode)),this.remove(),null!=i&&i.start.node===n&&i.end.node===n&&this.selection.emitter.once(v["default"].events.SCROLL_OPTIMIZE,function(){var e=[i.start.offset,i.end.offset].map(function(t){return Math.max(0,Math.min(n.data.length,t-1))}),r=a(e,2),o=r[0],s=r[1];t.selection.setNativeRange(n,o,n,s)})}}},{key:"update",value:function(t){var e=this;t.forEach(function(t){"characterData"===t.type&&t.target===e.textNode&&e.restore()})}},{key:"value",value:function(){return""}}]),e}(h["default"]);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\ufeff",e["default"]=y},function(e,n){var i=function(){"use strict";function e(n,i,r,o){function a(n,r){if(null===n)return null;if(0==r)return n;var l,p;if("object"!=typeof n)return n;if(e.__isArray(n))l=[];else if(e.__isRegExp(n))l=new RegExp(n.source,s(n)),n.lastIndex&&(l.lastIndex=n.lastIndex);else if(e.__isDate(n))l=new Date(n.getTime());else{if(d&&t.isBuffer(n))return l=new t(n.length),n.copy(l),l;"undefined"==typeof o?(p=Object.getPrototypeOf(n),l=Object.create(p)):(l=Object.create(o),p=o)}if(i){var h=u.indexOf(n);if(-1!=h)return c[h];
u.push(n),c.push(l)}for(var f in n){var v;p&&(v=Object.getOwnPropertyDescriptor(p,f)),v&&null==v.set||(l[f]=a(n[f],r-1))}return l}var l;"object"==typeof i&&(r=i.depth,o=i.prototype,l=i.filter,i=i.circular);var u=[],c=[],d="undefined"!=typeof t;return"undefined"==typeof i&&(i=!0),"undefined"==typeof r&&(r=1/0),a(n,r)}function n(t){return Object.prototype.toString.call(t)}function i(t){return"object"==typeof t&&"[object Date]"===n(t)}function r(t){return"object"==typeof t&&"[object Array]"===n(t)}function o(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return e.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},e.__objToStr=n,e.__isDate=i,e.__isArray=r,e.__isRegExp=o,e.__getRegExpFlags=s,e}();"object"==typeof e&&e.exports&&(e.exports=i)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function r(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n(this,r),this.quill=t,this.options=e};i.DEFAULTS={},e["default"]=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){try{e.parentNode}catch(n){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.Range=void 0;var a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(2),c=i(u),d=n(38),p=i(d),h=n(22),f=i(h),v=n(33),y=(i(v),n(28)),g=i(y),m=n(30),b=i(m),_=(0,b["default"])("quill:selection"),w=function k(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];o(this,k),this.index=t,this.length=e},x=function(){function t(e,n){var i=this;o(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.root=this.scroll.domNode,this.root.addEventListener("compositionstart",function(){i.composing=!0}),this.root.addEventListener("compositionend",function(){i.composing=!1}),this.cursor=c["default"].create("cursor",this),this.lastRange=this.savedRange=new w(0,0),["keyup","mouseup","mouseleave","touchend","touchleave","focus","blur"].forEach(function(t){i.root.addEventListener(t,function(){setTimeout(i.update.bind(i,g["default"].sources.USER),100)})}),this.emitter.on(g["default"].events.EDITOR_CHANGE,function(t,e){t===g["default"].events.TEXT_CHANGE&&e.length()>0&&i.update(g["default"].sources.SILENT)}),this.emitter.on(g["default"].events.SCROLL_BEFORE_UPDATE,function(){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(g["default"].events.SCROLL_UPDATE,function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}})}),this.update(g["default"].sources.SILENT)}return l(t,[{key:"focus",value:function(){if(!this.hasFocus()){var t=document.body.scrollTop;this.root.focus(),document.body.scrollTop=t,this.setRange(this.savedRange)}}},{key:"format",value:function(t,e){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n["native"].collapsed&&!c["default"].query(t,c["default"].Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=c["default"].find(n.start.node,!1);if(null==i)return;if(i instanceof c["default"].Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var i=void 0,r=void 0,o=this.scroll.leaf(t),s=a(o,2),l=s[0],u=s[1];if(null==l)return null;var c=l.position(u,!0),d=a(c,2);r=d[0],u=d[1];var p=document.createRange();if(e>0){p.setStart(r,u);var h=this.scroll.leaf(t+e),f=a(h,2);if(l=f[0],u=f[1],null==l)return null;var v=l.position(u,!0),y=a(v,2);r=y[0],u=y[1],p.setEnd(r,u),i=p.getBoundingClientRect()}else{var g="left";if(r instanceof Text){u<r.data.length?(p.setStart(r,u),p.setEnd(r,u+1)):(p.setStart(r,u-1),p.setEnd(r,u),g="right");var m=p.getBoundingClientRect()}else{var m=l.domNode.getBoundingClientRect();u>0&&(g="right")}i={height:m.height,left:m[g],width:0,top:m.top}}var b=this.root.parentNode.getBoundingClientRect();return{left:i.left-b.left,right:i.left+i.width-b.left,top:i.top-b.top,bottom:i.top+i.height-b.top,height:i.height,width:i.width}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;if(!s(this.root,e.startContainer)||!e.collapsed&&!s(this.root,e.endContainer))return null;var n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},"native":e};return[n.start,n.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n}),_.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this,e=this.getNativeRange();if(null==e)return[null,null];var n=[[e.start.node,e.start.offset]];e["native"].collapsed||n.push([e.end.node,e.end.offset]);var i=n.map(function(e){var n=a(e,2),i=n[0],r=n[1],o=c["default"].find(i,!0),s=o.offset(t.scroll);return 0===r?s:o instanceof c["default"].Container?s+o.length():s+o.index(i,r)}),o=Math.min.apply(Math,r(i)),s=Math.max.apply(Math,r(i));return[new w(o,s-o),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"scrollIntoView",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.lastRange:arguments[0];if(null!=t){var e=this.getBounds(t.index,t.length);if(null!=e)if(this.root.offsetHeight<e.bottom){var n=this.scroll.line(Math.min(t.index+t.length,this.scroll.length()-1)),i=a(n,1),r=i[0];this.root.scrollTop=r.domNode.offsetTop+r.domNode.offsetHeight-this.root.offsetHeight}else if(e.top<0){var o=this.scroll.line(Math.min(t.index,this.scroll.length()-1)),s=a(o,1),l=s[0];this.root.scrollTop=l.domNode.offsetTop}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?t:arguments[2],i=arguments.length<=3||void 0===arguments[3]?e:arguments[3],r=arguments.length<=4||void 0===arguments[4]?!1:arguments[4];if(_.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var s=this.getNativeRange();if(null==s||r||t!==s.start.node||e!==s.start.offset||n!==s.end.node||i!==s.end.offset){var a=document.createRange();a.setStart(t,e),a.setEnd(n,i),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?g["default"].sources.API:arguments[2];"string"==typeof n&&(i=n,n=!1),_.info("setRange",t),null!=t?!function(){var i=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],s=e.scroll.length();i.forEach(function(t,n){t=Math.min(s-1,t);var i=void 0,r=e.scroll.leaf(t),l=a(r,2),u=l[0],c=l[1],d=u.position(c,0!==n),p=a(d,2);i=p[0],c=p[1],o.push(i,c)}),o.length<2&&(o=o.concat(o)),e.setNativeRange.apply(e,r(o).concat([n]))}():this.setNativeRange(null),this.update(i)}},{key:"update",value:function(){var t=arguments.length<=0||void 0===arguments[0]?g["default"].sources.USER:arguments[0],e=void 0,n=this.lastRange,i=this.getRange(),r=a(i,2);if(this.lastRange=r[0],e=r[1],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,f["default"])(n,this.lastRange)){var o;!this.composing&&null!=e&&e["native"].collapsed&&e.start.node!==this.cursor.textNode&&this.cursor.restore();var s=[g["default"].events.SELECTION_CHANGE,(0,p["default"])(this.lastRange),(0,p["default"])(n),t];if((o=this.emitter).emit.apply(o,[g["default"].events.EDITOR_CHANGE].concat(s)),t!==g["default"].sources.SILENT){var l;(l=this.emitter).emit.apply(l,s)}}}}]),t}();e.Range=w,e["default"]=x},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(25),a=(i(s),n(28)),l=(i(a),function(){function t(e,n){r(this,t),this.quill=e,this.options=n,this.modules={}}return o(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor["import"]("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}());l.DEFAULTS={modules:{}},l.themes={"default":l},e["default"]=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),l=i(a),u=n(32),c=i(u),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(l["default"].Container);d.allowedChildren=[c["default"],u.BlockEmbed,d],e["default"]=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return t instanceof y["default"]||t instanceof v.BlockEmbed}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function C(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:C(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},d=n(2),p=i(d),h=n(28),f=i(h),v=n(32),y=i(v),g=n(33),m=i(g),b=n(42),_=i(b),w=n(31),x=i(w),k=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),i.optimize(),i}return s(e,t),u(e,[{key:"deleteAt",value:function(t,n){var i=this.line(t),r=l(i,2),o=r[0],s=r[1],a=this.line(t+n),u=l(a,1),d=u[0];if(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=d&&o!==d&&s>0&&!(o instanceof v.BlockEmbed)&&!(d instanceof v.BlockEmbed)){d instanceof x["default"]&&d.deleteAt(d.length()-1,1);var p=d.children.head instanceof m["default"]?null:d.children.head;o.moveChildren(d,p),o.remove()}this.optimize()}},{key:"formatAt",value:function(t,n,i,r){(null==this.whitelist||this.whitelist[i])&&(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,r),this.optimize())}},{key:"insertAt",value:function(t,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==i||null==p["default"].query(n,p["default"].Scope.BLOCK)){var r=p["default"].create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var o=p["default"].create(n,i);this.appendChild(o)}else c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===p["default"].Scope.INLINE_BLOT){var i=p["default"].create(this.statics.defaultChild);i.appendChild(t),t=i}c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return this.descendant(a,t)}},{key:"lines",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?Number.MAX_VALUE:arguments[1],n=function i(t,e,n){var r=[],o=n;return t.children.forEachAt(e,n,function(t,e,n){a(t)?r.push(t):t instanceof p["default"].Container&&(r=r.concat(i(t,e,o))),o-=n}),r};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.batch!==!0&&(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),t.length>0&&this.emitter.emit(f["default"].events.SCROLL_OPTIMIZE,t))}},{key:"path",value:function(t){return c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(this.batch!==!0){var n=f["default"].sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(f["default"].events.SCROLL_BEFORE_UPDATE,n,t),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(f["default"].events.SCROLL_UPDATE,n,t)}}}]),e}(p["default"].Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[y["default"],v.BlockEmbed,_["default"]],e["default"]=k},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function c(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var r=t.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*e.length)===e}function d(t){if(0===t.childNodes.length)return!1;var e=u(t);return["block","list-item"].indexOf(e.display)>-1}function p(t,e,n){return n.compose((new C["default"]).retain(n.length(),r({},t,!0)))}function h(t,e){var n=S["default"].Attributor.Attribute.keys(t),i=S["default"].Attributor.Class.keys(t),r=S["default"].Attributor.Style.keys(t),o={};return n.concat(i).concat(r).forEach(function(e){var n=S["default"].query(e,S["default"].Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(t),o[n.attrName])||(null!=B[e]&&(n=B[e],o[n.attrName]=n.value(t)),null!=z[e]&&(n=z[e],o[n.attrName]=n.value(t)))}),Object.keys(o).length>0&&(e=e.compose((new C["default"]).retain(e.length(),o))),e}function f(t,e){var n=S["default"].query(t);if(null==n)return e;if(n.prototype instanceof S["default"].Embed){var i={},o=n.value(t);null!=o&&(i[n.blotName]=o,e=(new C["default"]).insert(i,n.formats(t)))}else if("function"==typeof n.formats){var s=r({},n.blotName,n.formats(t));e=e.compose((new C["default"]).retain(e.length(),s))}return e}function v(t,e){return c(e,"\n")||e.insert("\n"),e}function y(t,e){return new C["default"]}function g(t,e){return d(t)&&!c(e,"\n")&&e.insert("\n"),e}function m(t,e){if(d(t)&&null!=t.nextElementSibling&&!c(e,"\n\n")){var n=t.offsetHeight+parseFloat(u(t).marginTop)+parseFloat(u(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function b(t,e){var n={},i=t.style||{};return i.fontWeight&&"bold"===u(t).fontWeight&&(n.bold=!0),Object.keys(n).length>0&&(e=e.compose((new C["default"]).retain(e.length(),n))),parseFloat(i.textIndent||0)>0&&(e=(new C["default"]).insert("	").concat(e)),e}function _(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(!u(t.parentNode).whiteSpace.startsWith("pre")){var i=function(t,e){return e=e.replace(/[^\u00a0]/g,""),e.length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&d(t.parentNode)||null!=t.previousSibling&&d(t.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&d(t.parentNode)||null!=t.nextSibling&&d(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e["default"]=void 0;var w=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),k=n(20),C=i(k),O=n(2),S=i(O),T=n(18),E=i(T),P=n(30),A=i(P),j=n(39),L=i(j),$=n(45),D=n(46),I=n(47),N=n(48),R=n(49),M=n(50),q=(0,A["default"])("quill:clipboard"),F=[[Node.TEXT_NODE,_],["br",v],[Node.ELEMENT_NODE,g],[Node.ELEMENT_NODE,f],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,h],[Node.ELEMENT_NODE,b],["b",p.bind(p,"bold")],["i",p.bind(p,"italic")],["style",y]],B=[$.AlignAttribute,N.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),z=[$.AlignStyle,D.BackgroundStyle,I.ColorStyle,N.DirectionStyle,R.FontStyle,M.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),U=function(t){function e(t,n){s(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],F.concat(i.options.matchers).forEach(function(t){i.addMatcher.apply(i,o(t))}),i}return l(e,t),x(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){var e=this,n="__ql-matcher";"string"==typeof t&&(this.container.innerHTML=t);var i=[],r=[];this.matchers.forEach(function(t){var o=w(t,2),s=o[0],a=o[1];switch(s){case Node.TEXT_NODE:i.push(a);break;case Node.ELEMENT_NODE:r.push(a);break;default:[].forEach.call(e.container.querySelectorAll(s),function(t){t[n]=t[n]||[],t[n].push(a)})}});var o=function a(t){return t.nodeType===t.TEXT_NODE?i.reduce(function(e,n){return n(t,e)},new C["default"]):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],function(e,i){var o=a(i);return i.nodeType===t.ELEMENT_NODE&&(o=r.reduce(function(t,e){return e(i,t)},o),o=(i[n]||[]).reduce(function(t,e){return e(i,t)},o)),e.concat(o)},new C["default"]):new C["default"]},s=o(this.container);return c(s,"\n")&&null==s.ops[s.ops.length-1].attributes&&(s=s.compose((new C["default"]).retain(s.length()-1)["delete"](1))),q.log("convert",this.container.innerHTML,s),this.container.innerHTML="",s}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?E["default"].sources.API:arguments[2];if("string"==typeof t)return this.quill.setContents(this.convert(t),e);var i=this.convert(e);return this.quill.updateContents((new C["default"]).retain(t).concat(i),n)}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented){var n=this.quill.getSelection(),i=(new C["default"]).retain(n.index)["delete"](n.length),r=document.body.scrollTop;this.container.focus(),setTimeout(function(){e.quill.selection.update(E["default"].sources.SILENT),i=i.concat(e.convert()),e.quill.updateContents(i,E["default"].sources.USER),e.quill.setSelection(i.length()-n.length,E["default"].sources.SILENT),document.body.scrollTop=r,e.quill.selection.scrollIntoView()},1)}}}]),e}(L["default"]);U.DEFAULTS={matchers:[]},e["default"]=U,e.matchAttributor=h,e.matchBlot=f,e.matchNewline=g,e.matchSpacing=m,e.matchText=_},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r=n(2),o=i(r),s={scope:o["default"].Scope.BLOCK,whitelist:["right","center","justify"]},a=new o["default"].Attributor.Attribute("align","align",s),l=new o["default"].Attributor.Class("align","ql-align",s),u=new o["default"].Attributor.Style("align","text-align",s);e.AlignAttribute=a,e.AlignClass=l,e.AlignStyle=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r=n(2),o=i(r),s=n(47),a=new o["default"].Attributor.Class("background","ql-bg",{scope:o["default"].Scope.INLINE}),l=new s.ColorAttributor("background","background-color",{scope:o["default"].Scope.INLINE});e.BackgroundClass=a,e.BackgroundStyle=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function f(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(2),c=i(u),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"value",value:function n(t){var n=l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join("")):n}}]),e}(c["default"].Attributor.Style),p=new c["default"].Attributor.Class("color","ql-color",{scope:c["default"].Scope.INLINE}),h=new d("color","color",{scope:c["default"].Scope.INLINE});e.ColorAttributor=d,e.ColorClass=p,e.ColorStyle=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r=n(2),o=i(r),s={scope:o["default"].Scope.BLOCK,whitelist:["rtl"]},a=new o["default"].Attributor.Attribute("direction","dir",s),l=new o["default"].Attributor.Class("direction","ql-direction",s),u=new o["default"].Attributor.Style("direction","direction",s);e.DirectionAttribute=a,e.DirectionClass=l,e.DirectionStyle=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function v(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:v(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(2),c=i(u),d={scope:c["default"].Scope.INLINE,whitelist:["serif","monospace"]},p=new c["default"].Attributor.Class("font","ql-font",d),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"value",value:function(t){return l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(c["default"].Attributor.Style),f=new h("font","font-family",d);e.FontStyle=f,e.FontClass=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r=n(2),o=i(r),s=new o["default"].Attributor.Class("size","ql-size",{scope:o["default"].Scope.INLINE,whitelist:["small","large","huge"]}),a=new o["default"].Attributor.Style("size","font-size",{scope:o["default"].Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=s,e.SizeStyle=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=t.ops[t.ops.length-1];return null==e?!1:null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes?Object.keys(e.attributes).some(function(t){return null!=d["default"].query(t,d["default"].Scope.BLOCK)}):!1}function l(t){var e=t.ops.reduce(function(t,e){return t+=e["delete"]||0},0),n=t.length()-e;return a(t)&&(n-=1),n}Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e["default"]=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(2),d=i(c),p=n(18),h=i(p),f=n(39),v=i(f),y=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(h["default"].events.EDITOR_CHANGE,function(t,e,n,r){t!==h["default"].events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==h["default"].sources.USER?i.transform(e):i.record(e,n))}),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return s(e,t),u(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],h["default"].sources.USER),this.ignoreChange=!1;var i=l(n[t]);this.quill.setSelection(i),this.quill.selection.scrollIntoView(),this.stack[e].push(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),t=r.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.unshift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(v["default"]);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1
},e["default"]=y,e.getLastChangeIndex=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){this.quill.deleteText(t,T["default"].sources.USER),this.quill.setSelection(t.index,T["default"].sources.SILENT),this.quill.selection.scrollIntoView()}function l(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var i=Object.keys(e.format).reduce(function(t,n){return O["default"].query(n,O["default"].Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",i,T["default"].sources.USER),this.quill.selection.scrollIntoView(),Object.keys(e.format).forEach(function(t){null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],T["default"].sources.USER))})}function u(t){return{key:I.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=O["default"].query("code-block"),i=e.index,r=e.length,o=this.quill.scroll.descendant(n,i),s=h(o,2),a=s[0],l=s[1];if(null!=a){var u=this.quill.scroll.offset(a),c=a.newlineIndex(l,!0)+1,d=a.newlineIndex(u+l+r),p=a.domNode.textContent.slice(c,d).split("\n");l=0,p.forEach(function(e,o){t?(a.insertAt(c+l,n.TAB),l+=n.TAB.length,0===o?i+=n.TAB.length:r+=n.TAB.length):e.startsWith(n.TAB)&&(a.deleteAt(c+l,n.TAB.length),l-=n.TAB.length,0===o?i-=n.TAB.length:r-=n.TAB.length),l+=e.length+1}),this.quill.update(T["default"].sources.USER),this.quill.setSelection(i,r,T["default"].sources.SILENT)}}}}function c(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],T["default"].sources.USER)}}}function d(t){if("string"==typeof t||"number"==typeof t)return d({key:t});if("object"===("undefined"==typeof t?"undefined":p(t))&&(t=(0,y["default"])(t,!1)),"string"==typeof t.key)if(null!=I.keys[t.key.toUpperCase()])t.key=I.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t}Object.defineProperty(e,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},h=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),v=n(38),y=i(v),g=n(22),m=i(g),b=n(25),_=i(b),w=n(20),x=(i(w),n(26)),k=i(x),C=n(2),O=i(C),S=n(18),T=i(S),E=n(30),P=i(E),A=n(39),j=i(A),L=n(32),$=(i(L),(0,P["default"])("quill:keyboard")),D=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",I=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.bindings={},Object.keys(i.options.bindings).forEach(function(t){i.options.bindings[t]&&i.addBinding(i.options.bindings[t])}),i.addBinding({key:e.keys.ENTER,shiftKey:null},l),i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},function(t,e){if(0!==t.index){var n=this.quill.scroll.line(t.index),i=h(n,1),r=i[0],o={};if(0===e.offset){var s=r.formats(),a=this.quill.getFormat(t.index-1,1);o=k["default"].attributes.diff(s,a)||{}}this.quill.deleteText(t.index-1,1,T["default"].sources.USER),Object.keys(o).length>0&&this.quill.formatLine(t.index-1,1,o,T["default"].sources.USER),this.quill.selection.scrollIntoView()}}),i.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^$/},function(t){t.index>=this.quill.getLength()-1||this.quill.deleteText(t.index,1,T["default"].sources.USER)}),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},a),i.addBinding({key:e.keys.DELETE},{collapsed:!1},a),i.listen(),i}return s(e,t),f(e,null,[{key:"match",value:function(t,e){return e=d(e),!!e.shortKey!==t[D]&&null!==e.shortKey?!1:["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return n!=D&&!!e[n]!==t[n]&&null!==e[n]})?!1:e.key===(t.which||t.keyCode)}}]),f(e,[{key:"addBinding",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=d(t);return null==i||null==i.key?$.warn("Attempted to add invalid keyboard binding",i):("function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),i=(0,_["default"])(i,e,n),this.bindings[i.key]=this.bindings[i.key]||[],void this.bindings[i.key].push(i))}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,r=(t.bindings[i]||[]).filter(function(t){return e.match(n,t)});if(0!==r.length){var o=t.quill.getSelection();if(null!=o){var s=t.quill.scroll.line(o.index),a=h(s,2),l=a[0],u=a[1],c=t.quill.scroll.leaf(o.index),d=h(c,2),f=d[0],v=d[1],y=0===o.length?[f,v]:t.quill.scroll.leaf(o.index+o.length),g=h(y,2),b=g[0],_=g[1],w=f instanceof O["default"].Text?f.value().slice(0,v):"",x=b instanceof O["default"].Text?b.value().slice(_):"",k={collapsed:0===o.length,empty:0===o.length&&l.length()<=1,format:t.quill.getFormat(o),offset:u,prefix:w,suffix:x},C=r.some(function(e){if(null!=e.collapsed&&e.collapsed!==k.collapsed)return!1;if(null!=e.empty&&e.empty!==k.empty)return!1;if(null!=e.offset&&e.offset!==k.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==k.format[t]}))return!1}else if("object"===p(e.format)&&!Object.keys(e.format).every(function(t){return e.format[t]===!0?null!=k.format[t]:e.format[t]===!1?null==k.format[t]:(0,m["default"])(e.format[t],k.format[t])}))return!1;return(null==e.prefix||e.prefix.test(k.prefix))&&(null==e.suffix||e.suffix.test(k.suffix))?e.handler.call(t,o,k)!==!0:!1});C&&n.preventDefault()}}}})}}]),e}(j["default"]);I.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},I.DEFAULTS={bindings:{bold:c("bold"),italic:c("italic"),underline:c("underline"),indent:{key:I.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){return e.collapsed&&0!==e.offset?!0:void this.quill.format("indent","+1",T["default"].sources.USER)}},outdent:{key:I.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){return e.collapsed&&0!==e.offset?!0:void this.quill.format("indent","-1",T["default"].sources.USER)}},"outdent backspace":{key:I.keys.BACKSPACE,collapsed:!0,format:["blockquote","indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",T["default"].sources.USER):null!=e.format.blockquote?this.quill.format("blockquote",!1,T["default"].sources.USER):null!=e.format.list&&this.quill.format("list",!1,T["default"].sources.USER)}},"indent code-block":u(!0),"outdent code-block":u(!1),"remove tab":{key:I.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t,e){this.quill.deleteText(t.index-1,1,T["default"].sources.USER)}},tab:{key:I.keys.TAB,handler:function(t,e){e.collapsed||this.quill.scroll.deleteAt(t.index,t.length),this.quill.insertText(t.index,"	",T["default"].sources.USER),this.quill.setSelection(t.index+1,T["default"].sources.SILENT)}},"list empty enter":{key:I.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,T["default"].sources.USER),e.format.indent&&this.quill.format("indent",!1,T["default"].sources.USER)}},"header enter":{key:I.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t){this.quill.scroll.insertAt(t.index,"\n"),this.quill.formatText(t.index+1,1,"header",!1,T["default"].sources.USER),this.quill.setSelection(t.index+1,T["default"].sources.SILENT),this.quill.selection.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^(1\.|-)$/,handler:function(t,e){var n=e.prefix.length;this.quill.scroll.deleteAt(t.index-n,n),this.quill.formatLine(t.index-n,1,"list",1===n?"bullet":"ordered",T["default"].sources.USER),this.quill.setSelection(t.index-n,T["default"].sources.SILENT)}}}},e["default"]=I},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=n(1),o=i(r),s=n(45),a=n(48),l=n(54),u=n(55),c=i(u),d=n(56),p=i(d),h=n(57),f=i(h),v=n(46),y=n(47),g=n(49),m=n(50),b=n(58),_=i(b),w=n(59),x=i(w),k=n(60),C=i(k),O=n(61),S=i(O),T=n(62),E=i(T),P=n(63),A=i(P),j=n(64),L=i(j),$=n(65),D=i($),I=n(31),N=i(I),R=n(66),M=i(R),q=n(67),F=i(q),B=n(68),z=i(B),U=n(69),H=i(U),W=n(101),Y=i(W),V=n(103),X=i(V),Q=n(104),G=i(Q),Z=n(105),K=i(Z),J=n(106),tt=i(J),et=n(108),nt=i(et);o["default"].register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":m.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":m.SizeStyle},!0),o["default"].register({"formats/align":s.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":l.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":g.FontClass,"formats/size":m.SizeClass,"formats/blockquote":c["default"],"formats/code-block":N["default"],"formats/header":p["default"],"formats/list":f["default"],"formats/bold":_["default"],"formats/code":I.Code,"formats/italic":x["default"],"formats/link":C["default"],"formats/script":S["default"],"formats/strike":E["default"],"formats/underline":A["default"],"formats/image":L["default"],"formats/video":D["default"],"formats/list/item":h.ListItem,"modules/formula":M["default"],"modules/syntax":F["default"],"modules/toolbar":z["default"],"themes/bubble":tt["default"],"themes/snow":nt["default"],"ui/icons":H["default"],"ui/picker":Y["default"],"ui/icon-picker":G["default"],"ui/color-picker":X["default"],"ui/tooltip":K["default"]},!0),t.exports=o["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function h(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:h(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(2),c=i(u),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var i=this.value(t)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(t),!0):l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"value",value:function(t){return parseInt(l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(c["default"].Attributor.Class),p=new d("indent","ql-indent",{scope:c["default"].Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(32),l=i(a),u=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(l["default"]);u.blotName="blockquote",u.tagName="blockquote",e["default"]=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(32),u=i(l),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(u["default"]);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.ListItem=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function _(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:_(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=n(25),d=(i(c),n(20)),p=(i(d),n(2)),h=i(p),f=n(32),v=i(f),y=n(42),g=i(y),m=function(t){function e(){return o(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"format",value:function(t,n){t!==b.blotName||n?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(h["default"].create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:u(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(v["default"]);m.blotName="list-item",m.tagName="LI";var b=function(t){function e(){return o(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return r({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,n){if(t instanceof m)u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var i=null==n?this.length():n.offset(this),r=this.split(i);r.parent.insertBefore(t,r)}}},{key:"optimize",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&(t.moveChildren(this),t.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=h["default"].create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}],[{key:"create",value:function(t){return"ordered"===t?t="OL":"bullet"===t&&(t="UL"),u(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?"bullet":void 0}}]),e}(g["default"]);b.blotName="list",b.scope=h["default"].Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[m],e.ListItem=m,e["default"]=b},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function p(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(35),c=i(u),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"optimize",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(t){return l(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(t){return!0}}]),e}(c["default"]);d.blotName="bold",d.tagName=["STRONG","B"],e["default"]=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(58),l=i(a),u=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(l["default"]);u.blotName="italic",u.tagName=["EM","I"],e["default"]=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e["default"]=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function h(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:h(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=n(35),d=i(c),p=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"format",value:function(t,n){return t===this.statics.blotName&&n?(n=this.constructor.sanitize(n),void this.domNode.setAttribute("href",n)):u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=u(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return a(t,["http","https","mailto"])?t:this.SANITIZED_URL}}]),e}(d["default"]);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",e["default"]=p,e.sanitize=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function p(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(35),c=i(u),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):l(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(c["default"]);d.blotName="script",d.tagName=["SUB","SUP"],e["default"]=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(35),l=i(a),u=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(l["default"]);u.blotName="strike",u.tagName="S",e["default"]=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(35),l=i(a),u=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),e}(l["default"]);u.blotName="underline",u.tagName="U",e["default"]=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function f(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(34),c=i(u),d=n(60),p=(i(d),["alt","height","width"]),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"format",value:function(t,n){p.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=l(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return p.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,d.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(c["default"]);h.blotName="image",h.tagName="IMG",e["default"]=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function f(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:f(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(32),c=n(60),d=i(c),p=["height","width"],h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"format",value:function(t,n){p.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=l(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return p.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return d["default"].sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(u.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",e["default"]=h;
},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){if(null==window.katex)throw new Error("Formula module requires KaTeX.");h["default"].register(f,!0)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.FormulaBlot=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function v(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:v(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=n(34),d=i(c),p=n(18),h=i(p),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),l(e,[{key:"index",value:function(t,e){return 1}}],[{key:"create",value:function(t){var n=u(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(katex.render(t,n),n.setAttribute("data-value",t)),n.setAttribute("contenteditable",!1),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(d["default"]);f.blotName="formula",f.className="ql-formula",f.tagName="SPAN",e.FormulaBlot=f,e["default"]=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.CodeToken=e.CodeBlock=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function _(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:_(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(2),c=i(u),d=n(18),p=i(d),h=n(39),f=i(h),v=n(31),y=i(v),g=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){if(this.cachedHTML!==this.domNode.innerHTML){var e=this.domNode.textContent;(e.trim().length>0||null==this.cachedHTML)&&(this.domNode.innerHTML=t(e),this.attach()),this.cachedHTML=this.domNode.innerHTML}}}]),e}(y["default"]);g.className="ql-syntax";var m=new c["default"].Attributor.Class("token","hljs",{scope:c["default"].Scope.INLINE}),b=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");p["default"].register(m,!0),p["default"].register(g,!0);var s=null;return i.quill.on(p["default"].events.SCROLL_OPTIMIZE,function(){null==s&&(s=setTimeout(function(){i.highlight(),s=null},100))}),i.highlight(),i}return s(e,t),a(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){var e=this.quill.getSelection();this.quill.scroll.descendants(g).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(p["default"].sources.SILENT),null!=e&&this.quill.setSelection(e,p["default"].sources.SILENT)}}}]),e}(f["default"]);b.DEFAULTS={highlight:function(){return null==window.hljs?null:function(t){var e=window.hljs.highlightAuto(t);return e.value}}()},e.CodeBlock=g,e.CodeToken=m,e["default"]=b},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+e),null!=n&&(i.value=n),t.appendChild(i)}function u(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)l(n,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?c(n,e,i):l(n,e,i)}}),t.appendChild(n)})}function c(t,e,n){var i=document.createElement("select");i.classList.add("ql-"+e),n.forEach(function(t){var e=document.createElement("option");t!==!1?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)}),t.appendChild(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e["default"]=void 0;var d=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(25),f=(i(h),n(20)),v=i(f),y=n(2),g=i(y),m=n(18),b=i(m),_=n(30),w=i(_),x=n(39),k=i(x),C=(0,w["default"])("quill:toolbar"),O=function(t){function e(t,n){o(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var r=document.createElement("div");u(r,i.options.container),t.container.parentNode.insertBefore(r,t.container),i.container=r}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;if(!(i.container instanceof HTMLElement)){var a;return a=C.error("Container required for toolbar",i.options),s(i,a)}return i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(t){i.addHandler(t,i.options.handlers[t])}),i.container.addEventListener("mousedown",function(t){t.preventDefault()}),[].forEach.call(i.container.querySelectorAll("button, select"),function(t){i.attach(t)}),i.quill.on(b["default"].events.EDITOR_CHANGE,function(t,e){t===b["default"].events.SELECTION_CHANGE&&i.update(e)}),i.quill.on(b["default"].events.SCROLL_OPTIMIZE,function(){var t=i.quill.selection.getRange(),e=d(t,1),n=e[0];i.update(n)}),i}return a(e,t),p(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void C.warn("ignoring attaching to disabled format",n,t);if(null==g["default"].query(n))return void C.warn("ignoring attaching to nonexistent format",n,t)}var i="SELECT"===t.tagName?"change":"click";t.addEventListener(i,function(i){var o=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var s=t.options[t.selectedIndex];o=s.hasAttribute("selected")?!1:s.value||!1}else o=t.classList.contains("ql-active")?!1:t.value||!t.hasAttribute("value"),i.preventDefault();e.quill.focus();var a=e.quill.selection.getRange(),l=d(a,1),u=l[0];if(null!=e.handlers[n])e.handlers[n].call(e,o);else if(g["default"].query(n).prototype instanceof g["default"].Embed){if(o=prompt("Enter "+n),!o)return;e.quill.updateContents((new v["default"]).retain(u.index)["delete"](u.length).insert(r({},n,o)),b["default"].sources.USER)}else e.quill.format(n,o,b["default"].sources.USER);e.update(u)}),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var i=d(n,2),r=i[0],o=i[1];if("SELECT"===o.tagName){var s=void 0;if(null==t)s=null;else if(null==e[r])s=o.querySelector("option[selected]");else if(!Array.isArray(e[r])){var a=e[r];"string"==typeof a&&(a=a.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+a+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==t)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var l=e[r]===o.getAttribute("value")||null!=e[r]&&e[r].toString()===o.getAttribute("value")||null==e[r]&&!o.getAttribute("value");o.classList.toggle("ql-active",l)}else o.classList.toggle("ql-active",null!=e[r])})}}]),e}(k["default"]);O.DEFAULTS={},O.DEFAULTS={container:null,handlers:{clean:function(t){var e=this,n=this.quill.getSelection();if(null!=n)if(0==n.length){var i=this.quill.getFormat();Object.keys(i).forEach(function(t){null!=g["default"].query(t,g["default"].Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(n,b["default"].sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",b["default"].sources.USER):t||"right"!==e||this.quill.format("align",!1,b["default"].sources.USER),this.quill.format("direction",t,b["default"].sources.USER)},link:function(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,b["default"].sources.USER)},indent:function S(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),S=parseInt(n.indent||0);if("+1"===t||"-1"===t){var i="+1"===t?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",S+i,b["default"].sources.USER)}}}},e["default"]=O,e.addControls=u},function(t,e,n){"use strict";t.exports={align:{"":n(70),center:n(71),right:n(72),justify:n(73)},background:n(74),blockquote:n(75),bold:n(76),clean:n(77),"code-block":n(78),color:n(79),direction:{"":n(80),rtl:n(81)},"float":{center:n(82),full:n(83),left:n(84),right:n(85)},formula:n(86),header:{1:n(87),2:n(88)},italic:n(89),image:n(90),indent:{"+1":n(91),"-1":n(92)},link:n(93),list:{ordered:n(94),bullet:n(95)},script:{sub:n(96),"super":n(97)},strike:n(98),underline:n(99),video:n(100)}},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <line class="ql-stroke ql-thin" x1=13.5 x2=15.5 y1=14.5 y2=14.5></line> <path class=ql-fill d=M14.5,15a0.5,0.5,0,0,1-.5-0.5V12.085l-0.276.138A0.5,0.5,0,0,1,13.053,12c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,15,11.5v3A0.5,0.5,0,0,1,14.5,15Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=3 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=11 y1=4 y2=14></line> <line class=ql-stroke x1=11 x2=3 y1=9 y2=9></line> <path class="ql-stroke ql-thin" d=M15.5,14.5h-2c0-.234,1.85-1.076,1.85-2.234a0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(102),l=i(a),u=function(){function t(e){var n=this;r(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("click",function(t){n.container.classList.toggle("ql-expanded")}),this.select.addEventListener("change",this.update.bind(this))}return s(t,[{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(t){e.selectItem(n,!0)}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=l["default"],this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),[].slice.call(this.select.options).forEach(function(n){var i=t.buildItem(n);e.appendChild(i),n.hasAttribute("selected")&&t.selectItem(i)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"close",value:function(){this.container.classList.remove("ql-expanded")}},{key:"selectItem",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n)if(null!=n&&n.classList.remove("ql-selected"),null!=t){if(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":o(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}else this.label.removeAttribute("data-value"),this.label.removeAttribute("data-label")}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e["default"]=u},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function p(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(101),c=i(u),d=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),i}return s(e,t),a(e,[{key:"buildItem",value:function(t){var n=l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var i=this.label.querySelector(".ql-color-label"),r=t?t.getAttribute("data-value")||"":"";
i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),e}(c["default"]);e["default"]=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function p(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:p(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=n(101),c=i(u),d=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return s(e,t),a(e,[{key:"selectItem",value:function(t,n){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(c["default"]);e["default"]=d},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,i){var r=this;n(this,t),this.quill=e,this.boundsContainer=i||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE;var o=parseInt(window.getComputedStyle(this.root).marginTop);this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+o+"px",r.checkBounds()}),this.hide()}return i(t,[{key:"checkBounds",value:function(){this.root.classList.toggle("ql-out-top",this.root.offsetTop<=0),this.root.classList.remove("ql-out-bottom"),this.root.classList.toggle("ql-out-bottom",this.root.offsetTop+this.root.offsetHeight>=this.quill.root.offsetHeight)}},{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px";var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;return r.right>i.right&&(o=i.right-r.right,this.root.style.left=e+o+"px"),r.left<i.left&&(o=i.left-r.left,this.root.style.left=e+o+"px"),this.checkBounds(),o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function w(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:w(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(25),c=i(u),d=n(28),p=i(d),h=n(52),f=(i(h),n(107)),v=i(f),y=n(69),g=(i(y),n(40)),m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(t){function e(t,n){r(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-bubble"),i}return s(e,t),l(e,[{key:"extendToolbar",value:function(t){this.tooltip=new _(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button"))),this.buildPickers([].slice.call(t.container.querySelectorAll("select")))}}]),e}(v["default"]);b.DEFAULTS=(0,c["default"])(!0,{},v["default"].DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var _=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.on(p["default"].events.EDITOR_CHANGE,function(t,e){if(t===p["default"].events.SELECTION_CHANGE)if(null!=e&&e.length>0){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var n=i.quill.scroll.lines(e.index,e.length);if(1===n.length)i.position(i.quill.getBounds(e));else{var r=n[n.length-1],o=r.offset(i.quill.scroll),s=Math.min(r.length()-1,e.index+e.length-o),a=i.quill.getBounds(new g.Range(o,s));i.position(a)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()}),i}return s(e,t),l(e,[{key:"listen",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(e){t.root.classList.remove("ql-editing")}),this.quill.on(p["default"].events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t);if(0===n)return n;var i=this.root.querySelector(".ql-tooltip-arrow");i.style.marginLeft="",i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),e}(f.BaseTooltip);_.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e["default"]=b},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];e.forEach(function(e){var i=document.createElement("option");e===n?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.BaseTooltip=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function R(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:R(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=n(25),d=i(c),p=n(20),h=i(p),f=n(28),v=i(f),y=n(52),g=i(y),m=n(41),b=i(m),_=n(103),w=i(_),x=n(104),k=i(x),C=n(101),O=i(C),S=n(105),T=i(S),E=n(69),P=i(E),A=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],$=["1","2","3",!1],D=["small",!1,"large","huge"],I=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),s=function a(e){return document.body.contains(t.root)?(null==i.tooltip||i.tooltip.root.contains(e.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),void(null!=i.pickers&&i.pickers.forEach(function(t){t.container.contains(e.target)||t.close()}))):document.body.removeEventListener("click",a)};return document.body.addEventListener("click",s),i}return s(e,t),l(e,[{key:"addModule",value:function(t){var n=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t){t.forEach(function(t){var e=t.getAttribute("class")||"";e.split(/\s+/).forEach(function(e){if(e.startsWith("ql-")&&(e=e.slice("ql-".length),null!=P["default"][e]))if("direction"===e)t.innerHTML=P["default"][e][""]+P["default"][e].rtl;else if("string"==typeof P["default"][e])t.innerHTML=P["default"][e];else{var n=t.value||"";null!=n&&P["default"][e][n]&&(t.innerHTML=P["default"][e][n])}})})}},{key:"buildPickers",value:function(t){var e=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&a(t,A),new k["default"](t,P["default"].align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var e=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&a(t,j,"background"===e?"#ffffff":"#000000"),new w["default"](t,P["default"][e])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?a(t,L):t.classList.contains("ql-header")?a(t,$):t.classList.contains("ql-size")&&a(t,D)),new O["default"](t)});var n=function(){e.pickers.forEach(function(t){t.update()})};this.quill.on(v["default"].events.SELECTION_CHANGE,n).on(v["default"].events.SCROLL_OPTIMIZE,n)}}]),e}(b["default"]);I.DEFAULTS=(0,d["default"])(!0,{},b["default"].DEFAULTS,{modules:{toolbar:{handlers:{formula:function(t){this.quill.theme.tooltip.edit("formula")},image:function(t){var e=this,n=this.container.querySelector("input.ql-image[type=file]");null==n&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept","image/*"),n.classList.add("ql-image"),n.addEventListener("change",function(){if(null!=n.files&&null!=n.files[0]){var t=new FileReader;t.onload=function(t){var i=e.quill.getSelection(!0);e.quill.updateContents((new h["default"]).retain(i.index)["delete"](i.length).insert({image:t.target.result}),v["default"].sources.USER),n.value=""},t.readAsDataURL(n.files[0])}}),this.container.appendChild(n)),n.click()},video:function(t){this.quill.theme.tooltip.edit("video")}}}}});var N=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return s(e,t),l(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){g["default"].match(e,"enter")?(t.save(),e.preventDefault()):g["default"].match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"link":arguments[0],e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.root.scrollTop;this.quill.focus(),this.quill.root.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,v["default"].sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,v["default"].sources.USER)),this.quill.root.scrollTop=e;break;case"video":var n=t.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);n?t=n[1]+"://www.youtube.com/embed/"+n[3]+"?showinfo=0":(n=t.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/))&&(t=n[1]+"://player.vimeo.com/video/"+n[3]+"/");case"formula":var i=this.quill.getSelection(!0),r=i.index+i.length;null!=i&&(this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,v["default"].sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",v["default"].sources.USER),this.quill.setSelection(r+2,v["default"].sources.USER))}this.textbox.value="",this.hide()}}]),e}(T["default"]);e.BaseTooltip=N,e["default"]=I},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function k(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:k(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(25),d=i(c),p=n(28),h=i(p),f=n(107),v=i(f),y=n(60),g=i(y),m=n(101),b=(i(m),n(40)),_=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=function(t){function e(t,n){r(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=_);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-snow"),i}return s(e,t),u(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button"))),this.buildPickers([].slice.call(t.container.querySelectorAll("select"))),this.tooltip=new x(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link)})}}]),e}(v["default"]);w.DEFAULTS=(0,d["default"])(!0,{},v["default"].DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);var i=this.quill.theme.tooltip;i.edit("link",n)}else this.quill.format("link",!1)}}}}});var x=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return s(e,t),u(e,[{key:"listen",value:function(){var t=this;l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){null!=t.linkRange&&(t.restoreFocus(),t.quill.formatText(t.linkRange,"link",!1,h["default"].sources.USER),delete t.linkRange),e.preventDefault(),t.hide()}),this.quill.on(h["default"].events.SELECTION_CHANGE,function(e){if(null!=e){if(0===e.length){var n=t.quill.scroll.descendant(g["default"],e.index),i=a(n,2),r=i[0],o=i[1];if(null!=r){t.linkRange=new b.Range(e.index-o,r.length());var s=g["default"].formats(r.domNode);return t.preview.textContent=s,t.preview.setAttribute("href",s),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}t.hide()}})}},{key:"show",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(f.BaseTooltip);x.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e["default"]=w}])})}).call(this,t("buffer").Buffer)},{buffer:132}],143:[function(t,e,n){!function(i,r){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],r):"object"==typeof n?e.exports=r(t("jquery"),t("sifter"),t("microplugin")):i.Selectize=r(i.jQuery,i.Sifter,i.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var r=t.data.search(n);if(r>=0&&t.data.length>0){var o=t.data.match(n),s=document.createElement("span");s.className="highlight";var a=t.splitText(r),l=(a.splitText(o[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var u=0;u<t.childNodes.length;++u)u+=i(t.childNodes[u]);return e};return t.each(function(){i(this)})}},r=function(){};r.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=r.prototype[e[n]]};var o=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,u=37,c=38,d=80,p=39,h=40,f=78,v=8,y=46,g=16,m=o?91:17,b=o?18:17,_=9,w=1,x=2,k=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,C=function(t){return"undefined"!=typeof t},O=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},S=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},T=function(t){return(t+"").replace(/\$/g,"$$$$")},E={};E.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},E.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var P=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},A=function(t,e){var n;return function(){var i=this,r=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,r)},e)}},j=function(t,e,n){var i,r=t.trigger,o={};t.trigger=function(){var n=arguments[0];return-1===e.indexOf(n)?r.apply(t,arguments):void(o[n]=arguments)},n.apply(t,[]),t.trigger=r;for(i in o)o.hasOwnProperty(i)&&r.apply(t,o[i])},L=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},$=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},D=function(t,e,n){var i,r,o={};if(n)for(i=0,r=n.length;r>i;i++)o[n[i]]=t.css(n[i]);else o=t.css();e.css(o)},I=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");D(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r},N=function(t){var e=null,n=function(n,i){var r,o,s,a,l,u,c,d;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||t.data("grow")!==!1)&&(r=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=n.keyCode,s=o>=97&&122>=o||o>=65&&90>=o||o>=48&&57>=o||32===o,o===y||o===v?(d=$(t[0]),d.length?r=r.substring(0,d.start)+r.substring(d.start+d.length):o===v&&d.start?r=r.substring(0,d.start-1)+r.substring(d.start+1):o===y&&"undefined"!=typeof d.start&&(r=r.substring(0,d.start)+r.substring(d.start+1))):s&&(u=n.shiftKey,c=String.fromCharCode(n.keyCode),c=u?c.toUpperCase():c.toLowerCase(),r+=c)),a=t.attr("placeholder"),!r&&a&&(r=a),l=I(r,t)+4,l!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},R=function(n,i){var r,o,s,a,l=this;a=n[0],a.selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?w:x,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++R.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:A(l.onSearchChange,i.loadThrottle)}),l.sifter=new e(this.options,{diacritics:i.diacritics}),l.settings.options){for(r=0,o=l.settings.options.length;o>r;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,o=l.settings.optgroups.length;o>r;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(R),n.mixin(R),t.extend(R.prototype,{setup:function(){var e,n,i,r,s,a,l,u,c,d=this,p=d.settings,h=d.eventNS,f=t(window),v=t(document),y=d.$input;if(l=d.settings.mode,u=y.attr("class")||"",e=t("<div>").addClass(p.wrapperClass).addClass(u).addClass(l),n=t("<div>").addClass(p.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",y.is(":disabled")?"-1":d.tabIndex),a=t(p.dropdownParent||e),r=t("<div>").addClass(p.dropdownClass).addClass(l).hide().appendTo(a),s=t("<div>").addClass(p.dropdownContentClass).appendTo(r),d.settings.copyClassesToDropdown&&r.addClass(u),e.css({width:y[0].style.width}),d.plugins.names.length&&(c="plugin-"+d.plugins.names.join(" plugin-"),e.addClass(c),r.addClass(c)),(null===p.maxItems||p.maxItems>1)&&d.tagType===w&&y.attr("multiple","multiple"),d.settings.placeholder&&i.attr("placeholder",p.placeholder),!d.settings.splitOn&&d.settings.delimiter){var _=d.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");d.settings.splitOn=new RegExp("\\s*"+_+"+\\s*")}y.attr("autocorrect")&&i.attr("autocorrect",y.attr("autocorrect")),y.attr("autocapitalize")&&i.attr("autocapitalize",y.attr("autocapitalize")),d.$wrapper=e,d.$control=n,d.$control_input=i,d.$dropdown=r,d.$dropdown_content=s,r.on("mouseenter","[data-selectable]",function(){return d.onOptionHover.apply(d,arguments)}),r.on("mousedown click","[data-selectable]",function(){return d.onOptionSelect.apply(d,arguments)}),L(n,"mousedown","*:not(input)",function(){return d.onItemSelect.apply(d,arguments)}),N(i),n.on({mousedown:function(){return d.onMouseDown.apply(d,arguments)},click:function(){return d.onClick.apply(d,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return d.onKeyDown.apply(d,arguments)},keyup:function(){return d.onKeyUp.apply(d,arguments)},keypress:function(){return d.onKeyPress.apply(d,arguments)},resize:function(){d.positionDropdown.apply(d,[])},blur:function(){return d.onBlur.apply(d,arguments)},focus:function(){return d.ignoreBlur=!1,d.onFocus.apply(d,arguments)},paste:function(){return d.onPaste.apply(d,arguments)}}),v.on("keydown"+h,function(t){d.isCmdDown=t[o?"metaKey":"ctrlKey"],d.isCtrlDown=t[o?"altKey":"ctrlKey"],d.isShiftDown=t.shiftKey}),v.on("keyup"+h,function(t){t.keyCode===b&&(d.isCtrlDown=!1),t.keyCode===g&&(d.isShiftDown=!1),t.keyCode===m&&(d.isCmdDown=!1)}),v.on("mousedown"+h,function(t){if(d.isFocused){if(t.target===d.$dropdown[0]||t.target.parentNode===d.$dropdown[0])return!1;d.$control.has(t.target).length||t.target===d.$control[0]||d.blur(t.target)}}),f.on(["scroll"+h,"resize"+h].join(" "),function(){d.isOpen&&d.positionDropdown.apply(d,arguments)}),f.on("mousemove"+h,function(){d.ignoreHover=!1}),this.revertSettings={$children:y.children().detach(),tabindex:y.attr("tabindex")},y.attr("tabindex",-1).hide().after(d.$wrapper),t.isArray(p.items)&&(d.setValue(p.items),delete p.items),k&&y.on("invalid"+h,function(t){t.preventDefault(),d.isInvalid=!0,d.refreshState()}),d.updateOriginalInput(),d.refreshItems(),d.refreshState(),d.updatePlaceholder(),d.isSetup=!0,y.is(":disabled")&&d.disable(),d.on("change",this.onChange),y.data("selectize",d),y.addClass("selectized"),d.trigger("initialize"),p.preload===!0&&d.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},r,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var e=t.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,r=e.length;r>i;i++)n.createItem(e[i])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==_&&t.preventDefault());switch(t.keyCode){case s:if(e.isCmdDown)return void e.selectAll();break;case l:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case f:if(!t.ctrlKey||t.altKey)break;case h:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case d:if(!t.ctrlKey||t.altKey)break;case c:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case a:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case u:return void e.advanceSelection(-1,t);case p:return void e.advanceSelection(1,t);case _:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case v:case y:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(o?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var n=this;
if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(e||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(n))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,n=e.val()!==t;n&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===w&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var n=e?[]:["change"];j(this,n,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,r,o,s,a,l,u,c,d=this;if("single"!==d.settings.mode){if(e=t(e),!e.length)return t(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&d.isShiftDown&&d.$activeItems.length){for(c=d.$control.children(".active:last"),s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[c[0]]),a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[e[0]]),s>a&&(u=s,s=a,a=u),r=s;a>=r;r++)l=d.$control[0].childNodes[r],-1===d.$activeItems.indexOf(l)&&(t(l).addClass("active"),d.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&d.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(o=d.$activeItems.indexOf(e[0]),d.$activeItems.splice(o,1),e.removeClass("active")):d.$activeItems.push(e.addClass("active")[0]):(t(d.$activeItems).removeClass("active"),d.$activeItems=[e.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(e,n,i){var r,o,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),!n&&C(n)||(r=u.$dropdown_content.height(),o=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,l=s-r+o,s+o>r+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):n>s&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,r,o=this,s=o.settings,a=this.getSearchOptions();if(s.score&&(r=o.settings.score.apply(this,[e]),"function"!=typeof r))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==o.lastQuery?(o.lastQuery=e,i=o.sifter.search(e,t.extend(a,{score:r})),o.currentResults=i):i=t.extend(!0,{},o.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==o.items.indexOf(O(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,r,o,s,a,l,u,c,d,p,h,f,v,y,g,m;"undefined"==typeof e&&(e=!0);var b=this,_=t.trim(b.$control_input.val()),w=b.search(_),x=b.$dropdown_content,k=b.$activeOption&&O(b.$activeOption.attr("data-value"));for(s=w.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],n=0;s>n;n++)for(u=b.options[w.items[n].id],c=b.render("option",u),d=u[b.settings.optgroupField]||"",p=t.isArray(d)?d:[d],r=0,o=p&&p.length;o>r;r++)d=p[r],b.optgroups.hasOwnProperty(d)||(d=""),a.hasOwnProperty(d)||(a[d]=[],l.push(d)),a[d].push(c);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){var n=b.optgroups[t].$order||0,i=b.optgroups[e].$order||0;return n-i}),h=[],n=0,s=l.length;s>n;n++)d=l[n],b.optgroups.hasOwnProperty(d)&&a[d].length?(f=b.render("optgroup_header",b.optgroups[d])||"",f+=a[d].join(""),h.push(b.render("optgroup",t.extend({},b.optgroups[d],{html:f})))):h.push(a[d].join(""));if(x.html(h.join("")),b.settings.highlight&&w.query.length&&w.tokens.length)for(n=0,s=w.tokens.length;s>n;n++)i(x,w.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,s=b.items.length;s>n;n++)b.getOption(b.items[n]).addClass("selected");v=b.canCreate(_),v&&(x.prepend(b.render("option_create",{input:_})),m=t(x[0].childNodes[0])),b.hasOptions=w.items.length>0||v,b.hasOptions?(w.items.length>0?(g=k&&b.getOption(k),g&&g.length?y=g:"single"===b.settings.mode&&b.items.length&&(y=b.getOption(b.items[0])),y&&y.length||(y=m&&!b.settings.addPrecedence?b.getAdjacentOption(m,1):x.find("[data-selectable]:first"))):y=m,b.setActiveOption(y),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,i,r,o=this;if(t.isArray(e))for(n=0,i=e.length;i>n;n++)o.addOption(e[n]);else(r=o.registerOption(e))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,e))},registerOption:function(t){var e=O(t[this.settings.valueField]);return!e||this.options.hasOwnProperty(e)?!1:(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=O(t[this.settings.optgroupValueField]);return e?(t.$order=t.$order||++this.order,this.optgroups[e]=t,e):!1},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,r,o,s,a,l,u,c=this;if(e=O(e),o=O(n[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");u=c.options[e].$order,o!==e&&(delete c.options[e],s=c.items.indexOf(e),-1!==s&&c.items.splice(s,1,o)),n.$order=n.$order||u,c.options[o]=n,a=c.renderCache.item,l=c.renderCache.option,a&&(delete a[e],delete a[o]),l&&(delete l[e],delete l[o]),-1!==c.items.indexOf(o)&&(i=c.getItem(e),r=t(c.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=O(t);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[t],r&&delete r[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},getElementWithValue:function(e,n){if(e=O(e),"undefined"!=typeof e&&null!==e)for(var i=0,r=n.length;r>i;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],r=0,o=i.length;o>r;r++)this.isPending=o-1>r,this.addItem(i[r],n)},addItem:function(e,n){var i=n?[]:["change"];j(this,i,function(){var i,r,o,s,a,l=this,u=l.settings.mode;return e=O(e),-1!==l.items.indexOf(e)?void("single"===u&&l.close()):void(l.options.hasOwnProperty(e)&&("single"===u&&l.clear(n),"multi"===u&&l.isFull()||(i=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(o=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(e),s=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),s&&l.setActiveOption(l.getOption(s))),!o.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(t,e){var n,i,r,o=this;n="object"==typeof t?t:o.getItem(t),t=O(n.attr("data-value")),i=o.items.indexOf(t),-1!==i&&(n.remove(),n.hasClass("active")&&(r=o.$activeItems.indexOf(n[0]),o.$activeItems.splice(r,1)),o.items.splice(i,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(t)&&o.removeOption(t,e),i<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:e}),o.positionDropdown(),o.trigger("item_remove",t,n))},createItem:function(e,n){var i=this,r=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return o(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},a=P(function(t){if(i.unlock(),!t||"object"!=typeof t)return o();var e=O(t[i.settings.valueField]);return"string"!=typeof e?o():(i.setTextboxValue(""),i.addOption(t),i.setCaret(r),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),void o(t))}),l=s.apply(this,[e,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var t,e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",t)),e.refreshClasses()},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,r,o=this;if(t=t||{},o.tagType===w){for(i=[],e=0,n=o.items.length;n>e;e++)r=o.options[o.items[e]][o.settings.labelField]||"",i.push('<option value="'+S(o.items[e])+'" selected="selected">'+S(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),o.$input.html(i.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(t.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&t.hideInput(),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,r,o,s,a,l,u,c,d=this;if(r=e&&e.keyCode===v?-1:1,o=$(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(l=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),s=[],d.$activeItems.length){for(c=d.$control.children(".active:"+(r>0?"last":"first")),a=d.$control.children(":not(input)").index(c),r>0&&a++,n=0,i=d.$activeItems.length;i>n;n++)s.push(t(d.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(0>r&&0===o.start&&0===o.length?s.push(d.items[d.caretPos-1]):r>0&&o.start===d.$control_input.val().length&&s.push(d.items[d.caretPos]));if(!s.length||"function"==typeof d.settings.onDelete&&d.settings.onDelete.apply(d,[s])===!1)return!1;for("undefined"!=typeof a&&d.setCaret(a);s.length;)d.removeItem(s.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),l&&(u=d.getOption(l),u.length&&d.setActiveOption(u)),!0},advanceSelection:function(t,e){var n,i,r,o,s,a,l=this;0!==t&&(l.rtl&&(t*=-1),n=t>0?"last":"first",i=$(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(o=l.$control_input.val().length,s=0>t?0===i.start&&0===i.length:i.start===o,s&&!o&&l.advanceCaret(t,e)):(a=l.$control.children(".active:"+n),a.length&&(r=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(t>0?r+1:r))))},advanceCaret:function(t,e){var n,i,r=this;0!==t&&(n=t>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n](),i.length&&(r.hideInput(),r.setActiveItem(i),e&&e.preventDefault())):r.setCaret(r.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,r,o,s;for(o=n.$control.children(":not(input)"),i=0,r=o.length;r>i;i++)s=t(o[i]).detach(),e>i?n.$control_input.before(s):n.$control.append(s)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(t,e){var n,i,r="",o=!1,s=this,a=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==t&&"item"!==t||(n=O(e[s.settings.valueField]),o=!!n),o&&(C(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(n))?s.renderCache[t][n]:(r=s.settings.render[t].apply(this,[e,S]),"option"!==t&&"option_create"!==t||(r=r.replace(a,"<$1 data-selectable")),"optgroup"===t&&(i=e[s.settings.optgroupValueField]||"",r=r.replace(a,'<$1 data-group="'+T(S(i))+'"')),"option"!==t&&"item"!==t||(r=r.replace(a,'<$1 data-value="'+T(S(n||""))+'"')),o&&(s.renderCache[t][n]=r),r)},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),R.count=0,R.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),r=i.dataAttr,o=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,c=function(e,n){var a,l,u,c,d=e.attr(r);if(d)for(n.options=JSON.parse(d),a=0,l=n.options.length;l>a;a++)n.items.push(n.options[a][s]);else{var p=t.trim(e.val()||"");if(!i.allowEmptyOption&&!p.length)return;for(u=p.split(i.delimiter),a=0,l=u.length;l>a;a++)c={},c[o]=u[a],c[s]=u[a],n.options.push(c);n.items=u}},d=function(e,n){var c,d,p,h,f=n.options,v={},y=function(t){var e=r&&t.attr(r);return"string"==typeof e&&e.length?JSON.parse(e):null},g=function(e,r){e=t(e);var l=O(e.attr("value"));if(l||i.allowEmptyOption)if(v.hasOwnProperty(l)){if(r){var u=v[l][a];u?t.isArray(u)?u.push(r):v[l][a]=[u,r]:v[l][a]=r}}else{var c=y(e)||{};c[o]=c[o]||e.text(),c[s]=c[s]||l,c[a]=c[a]||r,v[l]=c,f.push(c),e.is(":selected")&&n.items.push(l)}},m=function(e){var i,r,o,s,a;for(e=t(e),o=e.attr("label"),o&&(s=y(e)||{},s[l]=o,s[u]=o,n.optgroups.push(s)),a=t("option",e),i=0,r=a.length;r>i;i++)g(a[i],o)};for(n.maxItems=e.attr("multiple")?null:1,h=e.children(),c=0,d=h.length;d>c;c++)p=h[c].tagName.toLowerCase(),"optgroup"===p?m(h[c]):"option"===p&&g(h[c])};return this.each(function(){if(!this.selectize){var r,o=t(this),s=this.tagName.toLowerCase(),a=o.attr("placeholder")||o.attr("data-placeholder");a||i.allowEmptyOption||(a=o.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?d(o,l):c(o,l),r=new R(o,t.extend(!0,{},n,l,e))}})},t.fn.selectize.defaults=R.defaults,t.fn.selectize.support={validity:k},R.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var t=n.lock;return function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}}(),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(t(this).attr("data-value"))}),n.setValue(r),n.setActiveItem(e)}})}}()}}),R.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),R.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,r,o,s;return!this.isOpen||e.keyCode!==u&&e.keyCode!==p?t.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=e.keyCode===u?s.prev("[data-group]"):s.next("[data-group]"),o=s.find("[data-selectable]"),r=o.eq(Math.min(o.length-1,i)),void(r.length&&this.setActiveOption(r)))}}();var i=function(){var t,e=i.width,n=document;return"undefined"==typeof e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},r=function(){var r,o,s,a,l,u,c;if(c=t("[data-group]",n.$dropdown_content),o=c.length,o&&n.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,r=0;o>r;r++)s=Math.max(s,c.eq(r).height());c.css({height:s})}e.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-i(),a=Math.round(u/o),c.css({width:a}),o>1&&(l=u-a*(o-1),c.eq(o-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(E.after(this,"positionDropdown",r),E.after(this,"refreshOptions",r))}),R.define("remove_button",function(e){if("single"!==this.settings.mode){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=this,i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+S(e.title)+'">'+e.label+"</a>",r=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};this.setup=function(){var o=n.setup;return function(){if(e.append){var s=n.settings.render.item;n.settings.render.item=function(t){return r(s.apply(this,arguments),i)}}o.apply(this,arguments),this.$control.on("click","."+e.className,function(e){if(e.preventDefault(),!n.isLocked){var i=t(e.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),R.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,r;return e.keyCode===v&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(r=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[r])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),R})},{jquery:138,microplugin:139,sifter:153}],144:[function(t,e,n){"use strict";e.exports=t("./lib/index")},{"./lib/index":148}],145:[function(t,e,n){"use strict";function i(){p=!1}function r(t){if(!t)return void(c!==f&&(c=f,i()));if(t!==c){if(t.length!==f.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+f.length+" unique characters. These characters were not unique: "+e.join(", "));c=t,i()}}function o(t){return r(t),c}function s(t){h.seed(t),d!==t&&(i(),d=t)}function a(){c||r(f);for(var t,e=c.split(""),n=[],i=h.nextValue();e.length>0;)i=h.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function l(){return p?p:p=a()}function u(t){var e=l();return e[t]}var c,d,p,h=t("./random/random-from-seed"),f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:o,seed:s,lookup:u,shuffled:l}},{"./random/random-from-seed":151}],146:[function(t,e,n){"use strict";function i(t){var e=r.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var r=t("./alphabet");e.exports=i},{"./alphabet":145}],147:[function(t,e,n){"use strict";function i(t,e){for(var n,i=0,o="";!n;)o+=t(e>>4*i&15|r()),n=e<Math.pow(16,i+1),i++;return o}var r=t("./random/random-byte");e.exports=i},{"./random/random-byte":150}],148:[function(t,e,n){"use strict";function i(){var t="",e=Math.floor(.001*(Date.now()-h));return e===l?a++:(a=0,l=e),t+=c(u.lookup,f),t+=c(u.lookup,v),a>0&&(t+=c(u.lookup,a)),t+=c(u.lookup,e)}function r(t){return u.seed(t),e.exports}function o(t){return v=t,e.exports}function s(t){return void 0!==t&&u.characters(t),u.shuffled()}var a,l,u=t("./alphabet"),c=t("./encode"),d=t("./decode"),p=t("./is-valid"),h=1459707606518,f=6,v=t("./util/cluster-worker-id")||0;e.exports=i,e.exports.generate=i,e.exports.seed=r,e.exports.worker=o,e.exports.characters=s,e.exports.decode=d,e.exports.isValid=p},{"./alphabet":145,"./decode":146,"./encode":147,"./is-valid":149,"./util/cluster-worker-id":152}],149:[function(t,e,n){"use strict";function i(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=r.characters(),n=t.length,i=0;n>i;i++)if(-1===e.indexOf(t[i]))return!1;return!0}var r=t("./alphabet");e.exports=i},{"./alphabet":145}],150:[function(t,e,n){"use strict";function i(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return r.getRandomValues(t),48&t[0]}var r="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=i},{}],151:[function(t,e,n){"use strict";function i(){return o=(9301*o+49297)%233280,o/233280}function r(t){o=t}var o=1;e.exports={nextValue:i,seed:r}},{}],152:[function(t,e,n){"use strict";e.exports=0},{}],153:[function(t,e,n){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?e.exports=i():t.Sifter=i()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=i(String(t||"").toLowerCase()),!t||!t.length)return[];var e,n,o,a,l=[],u=t.split(/ +/);for(e=0,n=u.length;n>e;e++){if(o=r(u[e]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(o=o.replace(new RegExp(a,"g"),s[a]));l.push({string:u[e],regex:new RegExp(o,"i")})}return l},t.prototype.iterator=function(t,e){var n;n=o(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;n>e;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,i,r,o;n=this,t=n.prepareSearch(t,e),r=t.tokens,i=t.options.fields,o=r.length;var s=function(t,e){var n,i;return t?(t=String(t||""),i=t.search(e.regex),-1===i?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},a=function(){var t=i.length;return t?1===t?function(t,e){return s(e[i[0]],t)}:function(e,n){for(var r=0,o=0;t>r;r++)o+=s(n[i[r]],e);return o/t}:function(){return 0}}();return o?1===o?function(t){return a(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;o>n;n++){if(e=a(r[n],t),0>=e)return 0;i+=e}return i/o}:function(t){for(var e=0,n=0;o>e;e++)n+=a(r[e],t);return n/o}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var i,r,o,s,a,l,u,c,d,p,h;if(o=this,t=o.prepareSearch(t,n),h=!t.query&&n.sort_empty||n.sort,d=function(t,e){return"$score"===t?e.score:o.items[e.id][t]},a=[],h)for(i=0,r=h.length;r>i;i++)(t.query||"$score"!==h[i].field)&&a.push(h[i]);if(t.query){for(p=!0,i=0,r=a.length;r>i;i++)if("$score"===a[i].field){p=!1;break}p&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,r=a.length;r>i;i++)if("$score"===a[i].field){a.splice(i,1);break}for(c=[],i=0,r=a.length;r>i;i++)c.push("desc"===a[i].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,u=c[0],function(t,n){return u*e(d(s,t),d(s,n))}):function(t,n){var i,r,o;for(i=0;l>i;i++)if(o=a[i].field,r=c[i]*e(d(o,t),d(o,n)))return r;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,r=e.sort,s=e.sort_empty;return i&&!o(i)&&(e.fields=[i]),r&&!o(r)&&(e.sort=[r]),s&&!o(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,r,o,s=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,o=e.score||s.getScoreFunction(i),t.length?s.iterator(s.items,function(t,r){n=o(t),(e.filter===!1||n>0)&&i.items.push({score:n,id:r})}):s.iterator(s.items,function(t,e){i.items.push({score:1,id:e})}),r=s.getSortFunction(i,e),r&&i.items.sort(r),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:e>t?-1:0:(t=a(String(t||"")),e=a(String(e||"")),t>e?1:e>t?-1:0)},n=function(t,e){var n,i,r,o;for(n=1,i=arguments.length;i>n;n++)if(o=arguments[n])for(r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);return t},i=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎð]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},a=function(){var t,e,n,i,r="",o={};for(n in s)if(s.hasOwnProperty(n))for(i=s[n].substring(2,s[n].length-1),r+=i,t=0,e=i.length;e>t;t++)o[i.charAt(t)]=n;var a=new RegExp("["+r+"]","g");return function(t){return t.replace(a,function(t){return o[t]}).toLowerCase()}}();return t})},{}],154:[function(t,e,n){!function(t,n){function i(e,i){function r(t){return ut.preferFlash&&it&&!ut.ignoreFlash&&ut.flash[t]!==n&&ut.flash[t]}function o(t){return function(e){var n=this._s;return n&&n._a?t.call(this,e):null}}this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null
},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var s,a,l,u,c,d,p,h,f,v,y,g,m,b,_,w,x,k,C,O,S,T,E,P,A,j,L,$,D,I,N,R,M,q,F,B,z,U,H,W,Y,V,X,Q,G,Z,K,J,tt,et,nt,it,rt,ot,st,at,lt,ut=this,ct=null,dt=null,pt=navigator.userAgent,ht=t.location.href.toString(),ft=document,vt=[],yt=!1,gt=!1,mt=!1,bt=!1,_t=!1,wt=null,xt=null,kt=!1,Ct=!1,Ot=0,St=null,Tt=[],Et=null,Pt=Array.prototype.slice,At=!1,jt=0,Lt=pt.match(/(ipad|iphone|ipod)/i),$t=pt.match(/android/i),Dt=pt.match(/msie/i),It=pt.match(/webkit/i),Nt=pt.match(/safari/i)&&!pt.match(/chrome/i),Rt=pt.match(/opera/i),Mt=pt.match(/(mobile|pre\/|xoom)/i)||Lt||$t,qt=!ht.match(/usehtml5audio/i)&&!ht.match(/sm2\-ignorebadua/i)&&Nt&&!pt.match(/silk/i)&&pt.match(/OS X 10_6_([3-7])/i),Ft=ft.hasFocus!==n?ft.hasFocus():null,Bt=Nt&&(ft.hasFocus===n||!ft.hasFocus()),zt=!Bt,Ut=/(mp3|mp4|mpa|m4a|m4b)/i,Ht=ft.location?ft.location.protocol.match(/http/i):null,Wt=Ht?"":"http://",Yt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Vt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),Xt=new RegExp("\\.("+Vt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Ht;var Qt;try{Qt=Audio!==n&&(Rt&&opera!==n&&10>opera.version()?new Audio(null):new Audio).canPlayType!==n}catch(Gt){Qt=!1}this.hasHTML5=Qt,this.setup=function(t){var e=!ut.url;return t!==n&&mt&&Et&&ut.ok(),f(t),At||(Mt?ut.setupOptions.ignoreMobileRestrictions&&!ut.setupOptions.forceUseGlobalHTML5Audio||(Tt.push(C.globalHTML5),At=!0):ut.setupOptions.forceUseGlobalHTML5Audio&&(Tt.push(C.globalHTML5),At=!0)),!lt&&Mt&&(ut.setupOptions.ignoreMobileRestrictions?Tt.push(C.ignoreMobile):(ut.setupOptions.useHTML5Audio=!0,ut.setupOptions.preferFlash=!1,Lt?ut.ignoreFlash=!0:($t&&!pt.match(/android\s2\.3/i)||!$t)&&(At=!0))),t&&(e&&E&&t.url!==n&&ut.beginDelayedInit(),E||t.url===n||"complete"!==ft.readyState||setTimeout(S,1)),lt=!0,ut},this.supported=this.ok=function(){return Et?mt&&!bt:ut.useHTML5Audio&&ut.hasHTML5},this.getMovie=function(e){return a(e)||ft[e]||t[e]},this.createSound=function(t,e){function i(){return r=F(r),ut.sounds[r.id]=new s(r),ut.soundIDs.push(r.id),ut.sounds[r.id]}var r,o=null;if(!mt||!ut.ok())return!1;if(e!==n&&(t={id:t,url:e}),r=h(t),r.url=Y(r.url),r.id===n&&(r.id=ut.setupOptions.idPrefix+jt++),z(r.id,!0))return ut.sounds[r.id];if(Q(r))o=i(),o._setup_html5(r);else{if(ut.html5Only||ut.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return i();d>8&&null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||r.type&&r.type.match(Yt)||r.url&&r.url.match(Xt))),r=B(r,void 0),o=i(),8===d?dt._createSound(r.id,r.loops||1,r.usePolicyFile):(dt._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,r.isMovieStar?r.bufferTime:!1,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(o.connected=!0,r.onconnect&&r.onconnect.apply(o))),r.serverURL||!r.autoLoad&&!r.autoPlay||o.load(r)}return!r.serverURL&&r.autoPlay&&o.play(),o},this.destroySound=function(t,e){if(!z(t))return!1;var n,i=ut.sounds[t];for(i.stop(),i._iO={},i.unload(),n=0;n<ut.soundIDs.length;n++)if(ut.soundIDs[n]===t){ut.soundIDs.splice(n,1);break}return e||i.destruct(!0),delete ut.sounds[t],!0},this.load=function(t,e){return z(t)?ut.sounds[t].load(e):!1},this.unload=function(t){return z(t)?ut.sounds[t].unload():!1},this.onposition=this.onPosition=function(t,e,n,i){return z(t)?ut.sounds[t].onposition(e,n,i):!1},this.clearOnPosition=function(t,e,n){return z(t)?ut.sounds[t].clearOnPosition(e,n):!1},this.start=this.play=function(t,e){var n=null,i=e&&!(e instanceof Object);if(!mt||!ut.ok())return!1;if(z(t,i))i&&(e={url:e});else{if(!i)return!1;i&&(e={url:e}),e&&e.url&&(e.id=t,n=ut.createSound(e).play())}return null===n&&(n=ut.sounds[t].play(e)),n},this.setPosition=function(t,e){return z(t)?ut.sounds[t].setPosition(e):!1},this.stop=function(t){return z(t)?ut.sounds[t].stop():!1},this.stopAll=function(){for(var t in ut.sounds)ut.sounds.hasOwnProperty(t)&&ut.sounds[t].stop()},this.pause=function(t){return z(t)?ut.sounds[t].pause():!1},this.pauseAll=function(){var t;for(t=ut.soundIDs.length-1;t>=0;t--)ut.sounds[ut.soundIDs[t]].pause()},this.resume=function(t){return z(t)?ut.sounds[t].resume():!1},this.resumeAll=function(){var t;for(t=ut.soundIDs.length-1;t>=0;t--)ut.sounds[ut.soundIDs[t]].resume()},this.togglePause=function(t){return z(t)?ut.sounds[t].togglePause():!1},this.setPan=function(t,e){return z(t)?ut.sounds[t].setPan(e):!1},this.setVolume=function(t,e){var i,r;if(t===n||isNaN(t)||e!==n)return z(t)?ut.sounds[t].setVolume(e):!1;for(i=0,r=ut.soundIDs.length;r>i;i++)ut.sounds[ut.soundIDs[i]].setVolume(t)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return z(t)?ut.sounds[t].mute():!1;for(e=ut.soundIDs.length-1;e>=0;e--)ut.sounds[ut.soundIDs[e]].mute();return ut.muted=!0},this.muteAll=function(){ut.mute()},this.unmute=function(t){if(t instanceof String&&(t=null),t)return z(t)?ut.sounds[t].unmute():!1;for(t=ut.soundIDs.length-1;t>=0;t--)ut.sounds[ut.soundIDs[t]].unmute();return ut.muted=!1,!0},this.unmuteAll=function(){ut.unmute()},this.toggleMute=function(t){return z(t)?ut.sounds[t].toggleMute():!1},this.getMemoryUse=function(){var t=0;return dt&&8!==d&&(t=parseInt(dt._getMemoryUse(),10)),t},this.disable=function(e){var i;if(e===n&&(e=!1),bt)return!1;for(bt=!0,i=ut.soundIDs.length-1;i>=0;i--)D(ut.sounds[ut.soundIDs[i]]);return p(e),et.remove(t,"load",m),!0},this.canPlayMIME=function(t){var e;return ut.hasHTML5&&(e=G({type:t})),!e&&Et&&(e=t&&ut.ok()?!!(d>8&&t.match(Yt)||t.match(ut.mimePattern)):null),e},this.canPlayURL=function(t){var e;return ut.hasHTML5&&(e=G({url:t})),!e&&Et&&(e=t&&ut.ok()?!!t.match(ut.filePattern):null),e},this.canPlayLink=function(t){return t.type!==n&&t.type&&ut.canPlayMIME(t.type)?!0:ut.canPlayURL(t.href)},this.getSoundById=function(t,e){return t?ut.sounds[t]:null},this.onready=function(e,n){if("function"!=typeof e)throw R("needFunction","onready");return n||(n=t),y("onready",e,n),g(),!0},this.ontimeout=function(e,n){if("function"!=typeof e)throw R("needFunction","ontimeout");return n||(n=t),y("ontimeout",e,n),g({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(t,e){return!0},this._debug=function(){},this.reboot=function(e,n){var i,r,o;for(i=ut.soundIDs.length-1;i>=0;i--)ut.sounds[ut.soundIDs[i]].destruct();if(dt)try{Dt&&(xt=dt.innerHTML),wt=dt.parentNode.removeChild(dt)}catch(s){}if(xt=wt=Et=dt=null,ut.enabled=E=mt=kt=Ct=yt=gt=bt=At=ut.swfLoaded=!1,ut.soundIDs=[],ut.sounds={},jt=0,lt=!1,e)vt=[];else for(i in vt)if(vt.hasOwnProperty(i))for(r=0,o=vt[i].length;o>r;r++)vt[i][r].fired=!1;return ut.html5={usingFlash:null},ut.flash={},ut.html5Only=!1,ut.ignoreFlash=!1,t.setTimeout(function(){n||ut.beginDelayedInit()},20),ut},this.reset=function(){return ut.reboot(!0,!0)},this.getMoviePercent=function(){return dt&&"PercentLoaded"in dt?dt.PercentLoaded():null},this.beginDelayedInit=function(){_t=!0,S(),setTimeout(function(){return Ct?!1:(A(),O(),Ct=!0)},20),b()},this.destruct=function(){ut.disable(!0)},s=function(t){var e,i,r,o,s,a,l,u,c,p,f,v=this,y=!1,g=[],m=0,b=null;i=e=null,this.sID=this.id=t.id,this.url=t.url,this._iO=this.instanceOptions=this.options=h(t),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,f=!this.url,this.id3={},this._debug=function(){},this.load=function(t){var e,i=null;if(t!==n?v._iO=h(t,v.options):(t=v.options,v._iO=t,b&&b!==v.url&&(v._iO.url=v.url,v.url=null)),v._iO.url||(v._iO.url=v.url),v._iO.url=Y(v._iO.url),e=v.instanceOptions=v._iO,!e.url&&!v.url)return v;if(e.url===v.url&&0!==v.readyState&&2!==v.readyState)return 3===v.readyState&&e.onload&&at(v,function(){e.onload.apply(v,[!!v.duration])}),v;if(v.loaded=!1,v.readyState=1,v.playState=0,v.id3={},Q(e))i=v._setup_html5(e),i._called_load||(v._html5_canplay=!1,v.url!==e.url&&(v._a.src=e.url,v.setPosition(0)),v._a.autobuffer="auto",v._a.preload="auto",v._a._called_load=!0);else{if(ut.html5Only||v._iO.url&&v._iO.url.match(/data\:/i))return v;try{v.isHTML5=!1,v._iO=B(F(e)),v._iO.autoPlay&&(v._iO.position||v._iO.from)&&(v._iO.autoPlay=!1),e=v._iO,8===d?dt._load(v.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):dt._load(v.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(r){j({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return v.url=e.url,v},this.unload=function(){return 0!==v.readyState&&(v.isHTML5?(a(),v._a&&(v._a.pause(),b=K(v._a))):8===d?dt._unload(v.id,"about:blank"):dt._unload(v.id),r()),v},this.destruct=function(t){v.isHTML5?(a(),v._a&&(v._a.pause(),K(v._a),At||s(),v._a._s=null,v._a=null)):(v._iO.onfailure=null,dt._destroySound(v.id)),t||ut.destroySound(v.id,!0)},this.start=this.play=function(t,e){var i,r,o,s,a;if(r=!0,r=null,e=e===n?!0:e,t||(t={}),v.url&&(v._iO.url=v.url),v._iO=h(v._iO,v.options),v._iO=h(t,v._iO),v._iO.url=Y(v._iO.url),v.instanceOptions=v._iO,!v.isHTML5&&v._iO.serverURL&&!v.connected)return v.getAutoPlay()||v.setAutoPlay(!0),v;if(Q(v._iO)&&(v._setup_html5(v._iO),l()),1!==v.playState||v.paused||(i=v._iO.multiShot,i||(v.isHTML5&&v.setPosition(v._iO.position),r=v)),null!==r)return r;if(t.url&&t.url!==v.url&&(v.readyState||v.isHTML5||8!==d||!f?v.load(v._iO):f=!1),v.loaded||(0===v.readyState?(v.isHTML5||ut.html5Only?v.isHTML5?v.load(v._iO):r=v:(v._iO.autoPlay=!0,v.load(v._iO)),v.instanceOptions=v._iO):2===v.readyState&&(r=v)),null!==r)return r;if(!v.isHTML5&&9===d&&0<v.position&&v.position===v.duration&&(t.position=0),v.paused&&0<=v.position&&(!v._iO.serverURL||0<v.position))v.resume();else{if(v._iO=h(t,v._iO),(!v.isHTML5&&null!==v._iO.position&&0<v._iO.position||null!==v._iO.from&&0<v._iO.from||null!==v._iO.to)&&0===v.instanceCount&&0===v.playState&&!v._iO.serverURL){if(i=function(){v._iO=h(t,v._iO),v.play(v._iO)},v.isHTML5&&!v._html5_canplay?(v.load({_oncanplay:i}),r=!1):v.isHTML5||v.loaded||v.readyState&&2===v.readyState||(v.load({onload:i}),r=!1),null!==r)return r;v._iO=p()}(!v.instanceCount||v._iO.multiShotEvents||v.isHTML5&&v._iO.multiShot&&!At||!v.isHTML5&&d>8&&!v.getAutoPlay())&&v.instanceCount++,v._iO.onposition&&0===v.playState&&u(v),v.playState=1,v.paused=!1,v.position=v._iO.position===n||isNaN(v._iO.position)?0:v._iO.position,v.isHTML5||(v._iO=B(F(v._iO))),v._iO.onplay&&e&&(v._iO.onplay.apply(v),y=!0),v.setVolume(v._iO.volume,!0),v.setPan(v._iO.pan,!0),v.isHTML5?2>v.instanceCount?(l(),r=v._setup_html5(),v.setPosition(v._iO.position),r.play()):(o=new Audio(v._iO.url),s=function(){et.remove(o,"ended",s),v._onfinish(v),K(o),o=null},a=function(){et.remove(o,"canplay",a);try{o.currentTime=v._iO.position/1e3}catch(t){}o.play()},et.add(o,"ended",s),v._iO.volume!==n&&(o.volume=Math.max(0,Math.min(1,v._iO.volume/100))),v.muted&&(o.muted=!0),v._iO.position?et.add(o,"canplay",a):o.play()):(r=dt._start(v.id,v._iO.loops||1,9===d?v.position:v.position/1e3,v._iO.multiShot||!1),9!==d||r||v._iO.onplayerror&&v._iO.onplayerror.apply(v))}return v},this.stop=function(t){var e=v._iO;return 1===v.playState&&(v._onbufferchange(0),v._resetOnPosition(0),v.paused=!1,v.isHTML5||(v.playState=0),c(),e.to&&v.clearOnPosition(e.to),v.isHTML5?v._a&&(t=v.position,v.setPosition(0),v.position=t,v._a.pause(),v.playState=0,v._onTimer(),a()):(dt._stop(v.id,t),e.serverURL&&v.unload()),v.instanceCount=0,v._iO={},e.onstop&&e.onstop.apply(v)),v},this.setAutoPlay=function(t){v._iO.autoPlay=t,v.isHTML5||(dt._setAutoPlay(v.id,t),t&&(v.instanceCount||1!==v.readyState||v.instanceCount++))},this.getAutoPlay=function(){return v._iO.autoPlay},this.setPosition=function(t){t===n&&(t=0);var e=v.isHTML5?Math.max(t,0):Math.min(v.duration||v._iO.duration,Math.max(t,0));if(v.position=e,t=v.position/1e3,v._resetOnPosition(v.position),v._iO.position=e,v.isHTML5){if(v._a){if(v._html5_canplay){if(v._a.currentTime!==t)try{v._a.currentTime=t,(0===v.playState||v.paused)&&v._a.pause()}catch(i){}}else if(t)return v;v.paused&&v._onTimer(!0)}}else t=9===d?v.position:t,v.readyState&&2!==v.readyState&&dt._setPosition(v.id,t,v.paused||!v.playState,v._iO.multiShot);return v},this.pause=function(t){return v.paused||0===v.playState&&1!==v.readyState?v:(v.paused=!0,v.isHTML5?(v._setup_html5().pause(),a()):(t||t===n)&&dt._pause(v.id,v._iO.multiShot),v._iO.onpause&&v._iO.onpause.apply(v),v)},this.resume=function(){var t=v._iO;return v.paused?(v.paused=!1,v.playState=1,v.isHTML5?(v._setup_html5().play(),l()):(t.isMovieStar&&!t.serverURL&&v.setPosition(v.position),dt._pause(v.id,t.multiShot)),!y&&t.onplay?(t.onplay.apply(v),y=!0):t.onresume&&t.onresume.apply(v),v):v},this.togglePause=function(){return 0===v.playState?(v.play({position:9!==d||v.isHTML5?v.position/1e3:v.position}),v):(v.paused?v.resume():v.pause(),v)},this.setPan=function(t,e){return t===n&&(t=0),e===n&&(e=!1),v.isHTML5||dt._setPan(v.id,t),v._iO.pan=t,e||(v.pan=t,v.options.pan=t),v},this.setVolume=function(t,e){return t===n&&(t=100),e===n&&(e=!1),v.isHTML5?v._a&&(ut.muted&&!v.muted&&(v.muted=!0,v._a.muted=!0),v._a.volume=Math.max(0,Math.min(1,t/100))):dt._setVolume(v.id,ut.muted&&!v.muted||v.muted?0:t),v._iO.volume=t,e||(v.volume=t,v.options.volume=t),v},this.mute=function(){return v.muted=!0,v.isHTML5?v._a&&(v._a.muted=!0):dt._setVolume(v.id,0),v},this.unmute=function(){v.muted=!1;var t=v._iO.volume!==n;return v.isHTML5?v._a&&(v._a.muted=!1):dt._setVolume(v.id,t?v._iO.volume:v.options.volume),v},this.toggleMute=function(){return v.muted?v.unmute():v.mute()},this.onposition=this.onPosition=function(t,e,i){return g.push({position:parseInt(t,10),method:e,scope:i!==n?i:v,fired:!1}),v},this.clearOnPosition=function(t,e){var n;if(t=parseInt(t,10),isNaN(t))return!1;for(n=0;n<g.length;n++)t!==g[n].position||e&&e!==g[n].method||(g[n].fired&&m--,g.splice(n,1))},this._processOnPosition=function(){var t,e;if(t=g.length,!t||!v.playState||m>=t)return!1;for(--t;t>=0;t--)e=g[t],!e.fired&&v.position>=e.position&&(e.fired=!0,m++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(t){var e,n;if(e=g.length,!e)return!1;for(--e;e>=0;e--)n=g[e],n.fired&&t<=n.position&&(n.fired=!1,m--);return!0},p=function(){var t,e,n=v._iO,i=n.from,r=n.to;return e=function(){v.clearOnPosition(r,e),v.stop()},t=function(){null===r||isNaN(r)||v.onPosition(r,e)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,t()),n},u=function(){var t,e=v._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&v.onPosition(parseInt(t,10),e[t])},c=function(){var t,e=v._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&v.clearOnPosition(parseInt(t,10))},l=function(){v.isHTML5&&U(v)},a=function(){v.isHTML5&&H(v)},r=function(t){t||(g=[],m=0),y=!1,v._hasTimer=null,v._a=null,v._html5_canplay=!1,v.bytesLoaded=null,v.bytesTotal=null,v.duration=v._iO&&v._iO.duration?v._iO.duration:null,v.durationEstimate=null,v.buffered=[],v.eqData=[],v.eqData.left=[],v.eqData.right=[],v.failures=0,v.isBuffering=!1,v.instanceOptions={},v.instanceCount=0,v.loaded=!1,v.metadata={},v.readyState=0,v.muted=!1,v.paused=!1,v.peakData={left:0,right:0},v.waveformData={left:[],right:[]},v.playState=0,v.position=null,v.id3={}},r(),this._onTimer=function(t){var n,r=!1,o={};return v._hasTimer||t?(v._a&&(t||(0<v.playState||1===v.readyState)&&!v.paused)&&(n=v._get_html5_duration(),n!==e&&(e=n,v.duration=n,r=!0),v.durationEstimate=v.duration,n=1e3*v._a.currentTime||0,n!==i&&(i=n,r=!0),(r||t)&&v._whileplaying(n,o,o,o,o)),r):void 0},this._get_html5_duration=function(){var t=v._iO;return(t=v._a&&v._a.duration?1e3*v._a.duration:t&&t.duration?t.duration:null)&&!isNaN(t)&&1/0!==t?t:null},this._apply_loop=function(t,e){t.loop=e>1?"loop":""},this._setup_html5=function(t){t=h(v._iO,t);var e,n=At?ct:v._a,i=decodeURI(t.url);if(At?i===decodeURI(nt)&&(e=!0):i===decodeURI(b)&&(e=!0),n){if(n._s)if(At)n._s&&n._s.playState&&!e&&n._s.stop();else if(!At&&i===decodeURI(b))return v._apply_loop(n,t.loops),n;e||(b&&r(!1),n.src=t.url,nt=b=v.url=t.url,n._called_load=!1)}else t.autoLoad||t.autoPlay?(v._a=new Audio(t.url),v._a.load()):v._a=Rt&&10>opera.version()?new Audio(null):new Audio,n=v._a,n._called_load=!1,At&&(ct=n);return v.isHTML5=!0,v._a=n,n._s=v,o(),v._apply_loop(n,t.loops),t.autoLoad||t.autoPlay?v.load():(n.autobuffer=!1,n.preload="auto"),n},o=function(){if(v._a._added_events)return!1;var t;v._a._added_events=!0;for(t in st)st.hasOwnProperty(t)&&v._a&&v._a.addEventListener(t,st[t],!1);return!0},s=function(){var t;v._a._added_events=!1;for(t in st)st.hasOwnProperty(t)&&v._a&&v._a.removeEventListener(t,st[t],!1)},this._onload=function(t){var e=!!t||!v.isHTML5&&8===d&&v.duration;return v.loaded=e,v.readyState=e?3:2,v._onbufferchange(0),v._iO.onload&&at(v,function(){v._iO.onload.apply(v,[e])}),!0},this._onbufferchange=function(t){return 0===v.playState||t&&v.isBuffering||!t&&!v.isBuffering?!1:(v.isBuffering=1===t,v._iO.onbufferchange&&v._iO.onbufferchange.apply(v,[t]),!0)},this._onsuspend=function(){return v._iO.onsuspend&&v._iO.onsuspend.apply(v),!0},this._onfailure=function(t,e,n){v.failures++,v._iO.onfailure&&1===v.failures&&v._iO.onfailure(t,e,n)},this._onwarning=function(t,e,n){v._iO.onwarning&&v._iO.onwarning(t,e,n)},this._onfinish=function(){var t=v._iO.onfinish;v._onbufferchange(0),v._resetOnPosition(0),v.instanceCount&&(v.instanceCount--,v.instanceCount||(c(),v.playState=0,v.paused=!1,v.instanceCount=0,v.instanceOptions={},v._iO={},a(),v.isHTML5&&(v.position=0)),(!v.instanceCount||v._iO.multiShotEvents)&&t&&at(v,function(){t.apply(v)}))},this._whileloading=function(t,e,n,i){var r=v._iO;v.bytesLoaded=t,v.bytesTotal=e,v.duration=Math.floor(n),v.bufferLength=i,v.durationEstimate=v.isHTML5||r.isMovieStar?v.duration:r.duration?v.duration>r.duration?v.duration:r.duration:parseInt(v.bytesTotal/v.bytesLoaded*v.duration,10),v.isHTML5||(v.buffered=[{start:0,end:v.duration}]),(3!==v.readyState||v.isHTML5)&&r.whileloading&&r.whileloading.apply(v)},this._whileplaying=function(t,e,i,r,o){var s=v._iO;return isNaN(t)||null===t?!1:(v.position=Math.max(0,t),v._processOnPosition(),!v.isHTML5&&d>8&&(s.usePeakData&&e!==n&&e&&(v.peakData={left:e.leftPeak,right:e.rightPeak}),s.useWaveformData&&i!==n&&i&&(v.waveformData={left:i.split(","),right:r.split(",")}),s.useEQData&&o!==n&&o&&o.leftEQ&&(t=o.leftEQ.split(","),v.eqData=t,v.eqData.left=t,o.rightEQ!==n&&o.rightEQ&&(v.eqData.right=o.rightEQ.split(",")))),1===v.playState&&(v.isHTML5||8!==d||v.position||!v.isBuffering||v._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(v)),!0)},this._oncaptiondata=function(t){v.captiondata=t,v._iO.oncaptiondata&&v._iO.oncaptiondata.apply(v,[t])},this._onmetadata=function(t,e){var n,i,r={};for(n=0,i=t.length;i>n;n++)r[t[n]]=e[n];v.metadata=r,v._iO.onmetadata&&v._iO.onmetadata.call(v,v.metadata)},this._onid3=function(t,e){var n,i,r=[];for(n=0,i=t.length;i>n;n++)r[t[n]]=e[n];v.id3=h(v.id3,r),v._iO.onid3&&v._iO.onid3.apply(v)},this._onconnect=function(t){t=1===t,(v.connected=t)&&(v.failures=0,z(v.id)&&(v.getAutoPlay()?v.play(n,v.getAutoPlay()):v._iO.autoLoad&&v.load()),v._iO.onconnect&&v._iO.onconnect.apply(v,[t]))},this._ondataerror=function(t){0<v.playState&&v._iO.ondataerror&&v._iO.ondataerror.apply(v)}},P=function(){return ft.body||ft.getElementsByTagName("div")[0]},a=function(t){return ft.getElementById(t)},h=function(t,e){var i,r,o=t||{};i=e===n?ut.defaultOptions:e;for(r in i)i.hasOwnProperty(r)&&o[r]===n&&(o[r]="object"!=typeof i[r]||null===i[r]?i[r]:h(o[r],i[r]));return o},at=function(e,n){e.isHTML5||8!==d?n():t.setTimeout(n,0)},v={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},f=function(t,e){var i,r=!0,o=e!==n,s=ut.setupOptions;for(i in t)if(t.hasOwnProperty(i))if("object"!=typeof t[i]||null===t[i]||t[i]instanceof Array||t[i]instanceof RegExp)o&&v[e]!==n?ut[e][i]=t[i]:s[i]!==n?(ut.setupOptions[i]=t[i],ut[i]=t[i]):v[i]===n?r=!1:ut[i]instanceof Function?ut[i].apply(ut,t[i]instanceof Array?t[i]:[t[i]]):ut[i]=t[i];else{if(v[i]!==n)return f(t[i],i);r=!1}return r},et=function(){function e(t){t=Pt.call(t);var e=t.length;return i?(t[1]="on"+t[1],e>3&&t.pop()):3===e&&t.push(!1),t}function n(t,e){var n=t.shift(),o=[r[e]];i?n[o](t[0],t[1]):n[o].apply(n,t)}var i=t.attachEvent,r={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"};return{add:function(){n(e(arguments),"add")},remove:function(){n(e(arguments),"remove")}}}(),st={abort:o(function(){}),canplay:o(function(){var t,e=this._s;if(e._html5_canplay)return!0;if(e._html5_canplay=!0,e._onbufferchange(0),t=e._iO.position===n||isNaN(e._iO.position)?null:e._iO.position/1e3,this.currentTime!==t)try{this.currentTime=t}catch(i){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:o(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:o(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(e.durationEstimate=e.duration=t)}),ended:o(function(){this._s._onfinish()}),error:o(function(){this._s._onload(!1)}),loadeddata:o(function(){var t=this._s;t._loaded||Nt||(t.duration=t._get_html5_duration())}),loadedmetadata:o(function(){}),loadstart:o(function(){this._s._onbufferchange(1)}),play:o(function(){this._s._onbufferchange(0)}),playing:o(function(){this._s._onbufferchange(0)}),progress:o(function(t){var e,n,i=this._s,r=0,r=t.target.buffered;e=t.loaded||0;var o=t.total||1;if(i.buffered=[],r&&r.length){for(e=0,n=r.length;n>e;e++)i.buffered.push({start:1e3*r.start(e),end:1e3*r.end(e)});r=1e3*(r.end(0)-r.start(0)),e=Math.min(1,r/(1e3*t.target.duration))}isNaN(e)||(i._whileloading(e,o,i._get_html5_duration()),e&&o&&e===o&&st.canplaythrough.call(this,t))}),ratechange:o(function(){}),suspend:o(function(t){var e=this._s;st.progress.call(this,t),e._onsuspend()}),stalled:o(function(){}),timeupdate:o(function(){this._s._onTimer()}),waiting:o(function(){this._s._onbufferchange(1)})},Q=function(t){return t&&(t.type||t.url||t.serverURL)?t.serverURL||t.type&&r(t.type)?!1:t.type?G({type:t.type}):G({url:t.url})||ut.html5Only||t.url.match(/data\:/i):!1},K=function(t){var e;return t&&(e=Nt?"about:blank":ut.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",t.src=e,t._called_unload!==n&&(t._called_load=!1)),At&&(nt=null),e},G=function(t){if(!ut.useHTML5Audio||!ut.hasHTML5)return!1;var e=t.url||null;t=t.type||null;var i,o=ut.audioFormats;if(t&&ut.html5[t]!==n)return ut.html5[t]&&!r(t);if(!Z){Z=[];for(i in o)o.hasOwnProperty(i)&&(Z.push(i),o[i].related&&(Z=Z.concat(o[i].related)));Z=new RegExp("\\.("+Z.join("|")+")(\\?.*)?$","i")}return(i=e?e.toLowerCase().match(Z):null)&&i.length?i=i[1]:t&&(e=t.indexOf(";"),i=(-1!==e?t.substr(0,e):t).substr(6)),i&&ut.html5[i]!==n?e=ut.html5[i]&&!r(i):(t="audio/"+i,e=ut.html5.canPlayType({type:t}),e=(ut.html5[i]=e)&&ut.html5[t]&&!r(t)),e},tt=function(){function t(t){var e,n=e=!1;if(!s||"function"!=typeof s.canPlayType)return e;if(t instanceof Array){for(o=0,e=t.length;e>o;o++)(ut.html5[t[o]]||s.canPlayType(t[o]).match(ut.html5Test))&&(n=!0,ut.html5[t[o]]=!0,ut.flash[t[o]]=!!t[o].match(Ut));e=n}else t=s&&"function"==typeof s.canPlayType?s.canPlayType(t):!1,e=!(!t||!t.match(ut.html5Test));return e}if(!ut.useHTML5Audio||!ut.hasHTML5)return Et=ut.html5.usingFlash=!0,!1;var e,i,r,o,s=Audio!==n?Rt&&10>opera.version()?new Audio(null):new Audio:null,a={};r=ut.audioFormats;for(e in r)if(r.hasOwnProperty(e)&&(i="audio/"+e,a[e]=t(r[e].type),a[i]=a[e],e.match(Ut)?(ut.flash[e]=!0,ut.flash[i]=!0):(ut.flash[e]=!1,ut.flash[i]=!1),r[e]&&r[e].related))for(o=r[e].related.length-1;o>=0;o--)a["audio/"+r[e].related[o]]=a[e],ut.html5[r[e].related[o]]=a[e],ut.flash[r[e].related[o]]=a[e];return a.canPlayType=s?t:null,ut.html5=h(ut.html5,a),ut.html5.usingFlash=X(),Et=ut.html5.usingFlash,!0},C={},R=function(){},F=function(t){return 8===d&&1<t.loops&&t.stream&&(t.stream=!1),t},B=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},l=function(){return!1},D=function(t){for(var e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=l)},I=function(t){t===n&&(t=!1),(bt||t)&&ut.disable(t)},N=function(t){var e=null;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(e=t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return t=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+ut.movieURL,ut.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},x=function(){d=parseInt(ut.flashVersion,10),8!==d&&9!==d&&(ut.flashVersion=d=8);var t=ut.debugMode||ut.debugFlash?"_debug.swf":".swf";ut.useHTML5Audio&&!ut.html5Only&&ut.audioFormats.mp4.required&&9>d&&(ut.flashVersion=d=9),ut.version=ut.versionNumber+(ut.html5Only?" (HTML5-only mode)":9===d?" (AS3/Flash 9)":" (AS2/Flash 8)"),d>8?(ut.defaultOptions=h(ut.defaultOptions,ut.flash9Options),ut.features.buffering=!0,ut.defaultOptions=h(ut.defaultOptions,ut.movieStarOptions),ut.filePatterns.flash9=new RegExp("\\.(mp3|"+Vt.join("|")+")(\\?.*)?$","i"),ut.features.movieStar=!0):ut.features.movieStar=!1,ut.filePattern=ut.filePatterns[8!==d?"flash9":"flash8"],ut.movieURL=(8===d?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),ut.features.peakData=ut.features.waveformData=ut.features.eqData=d>8},L=function(t,e){return dt?void dt._setPolling(t,e):!1},$=function(){},z=this.getSoundById,q=function(){var t=[];return ut.debugMode&&t.push("sm2_debug"),ut.debugFlash&&t.push("flash_debug"),ut.useHighPerformance&&t.push("high_performance"),t.join(" ")},M=function(){R("fbHandler");var t=ut.getMoviePercent(),e={type:"FLASHBLOCK"};return ut.html5Only?!1:void(ut.ok()?ut.oMC&&(ut.oMC.className=[q(),"movieContainer","swf_loaded"+(ut.didFlashBlock?" swf_unblocked":"")].join(" ")):(Et&&(ut.oMC.className=q()+" movieContainer "+(null===t?"swf_timedout":"swf_error")),ut.didFlashBlock=!0,g({type:"ontimeout",ignoreInit:!0,error:e}),j(e)))},y=function(t,e,i){vt[t]===n&&(vt[t]=[]),vt[t].push({method:e,scope:i||null,fired:!1})},g=function(t){if(t||(t={type:ut.ok()?"onready":"ontimeout"}),!mt&&t&&!t.ignoreInit||"ontimeout"===t.type&&(ut.ok()||bt&&!t.ignoreInit))return!1;var e,n={success:t&&t.ignoreInit?ut.ok():!bt},i=t&&t.type?vt[t.type]||[]:[],r=[],n=[n],o=Et&&!ut.ok();for(t.error&&(n[0].error=t.error),t=0,e=i.length;e>t;t++)!0!==i[t].fired&&r.push(i[t]);if(r.length)for(t=0,e=r.length;e>t;t++)r[t].scope?r[t].method.apply(r[t].scope,n):r[t].method.apply(this,n),o||(r[t].fired=!0);return!0},m=function(){t.setTimeout(function(){ut.useFlashBlock&&M(),g(),"function"==typeof ut.onload&&ut.onload.apply(t),ut.waitForWindowLoad&&et.add(t,"load",m)},1)},rt=function(){if(it!==n)return it;var e,i=!1,r=navigator,o=r.plugins,s=t.ActiveXObject;if(o&&o.length)(r=r.mimeTypes)&&r["application/x-shockwave-flash"]&&r["application/x-shockwave-flash"].enabledPlugin&&r["application/x-shockwave-flash"].enabledPlugin.description&&(i=!0);else if(s!==n&&!pt.match(/MSAppHost/i)){try{e=new s("ShockwaveFlash.ShockwaveFlash")}catch(a){e=null}i=!!e}return it=i},X=function(){var t,e,n=ut.audioFormats;if(Lt&&pt.match(/os (1|2|3_0|3_1)\s/i)?(ut.hasHTML5=!1,ut.html5Only=!0,ut.oMC&&(ut.oMC.style.display="none")):!ut.useHTML5Audio||ut.html5&&ut.html5.canPlayType||(ut.hasHTML5=!1),ut.useHTML5Audio&&ut.hasHTML5)for(e in V=!0,n)n.hasOwnProperty(e)&&n[e].required&&(ut.html5.canPlayType(n[e].type)?ut.preferFlash&&(ut.flash[e]||ut.flash[n[e].type])&&(t=!0):(V=!1,t=!0));return ut.ignoreFlash&&(t=!1,V=!0),ut.html5Only=ut.hasHTML5&&ut.useHTML5Audio&&!t,!ut.html5Only},Y=function(t){var e,n,i=0;if(t instanceof Array){for(e=0,n=t.length;n>e;e++)if(t[e]instanceof Object){if(ut.canPlayMIME(t[e].type)){i=e;break}}else if(ut.canPlayURL(t[e])){i=e;break}t[i].url&&(t[i]=t[i].url),t=t[i]}return t},U=function(t){t._hasTimer||(t._hasTimer=!0,!Mt&&ut.html5PollingInterval&&(null===St&&0===Ot&&(St=setInterval(W,ut.html5PollingInterval)),Ot++))},H=function(t){t._hasTimer&&(t._hasTimer=!1,!Mt&&ut.html5PollingInterval&&Ot--)},W=function(){var t;if(null!==St&&!Ot)return clearInterval(St),St=null,!1;for(t=ut.soundIDs.length-1;t>=0;t--)ut.sounds[ut.soundIDs[t]].isHTML5&&ut.sounds[ut.soundIDs[t]]._hasTimer&&ut.sounds[ut.soundIDs[t]]._onTimer()},j=function(e){e=e!==n?e:{},"function"==typeof ut.onerror&&ut.onerror.apply(t,[{type:e.type!==n?e.type:null}]),e.fatal!==n&&e.fatal&&ut.disable()},ot=function(){if(!qt||!rt())return!1;var t,e,n=ut.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(ut.html5[e]=!1,n[e]&&n[e].related))for(t=n[e].related.length-1;t>=0;t--)ut.html5[n[e].related[t]]=!1},this._setSandboxType=function(t){},this._externalInterfaceOK=function(t){return ut.swfLoaded?!1:(ut.swfLoaded=!0,Bt=!1,qt&&ot(),void setTimeout(c,Dt?100:1))},A=function(t,e){function i(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(yt&&gt)return!1;if(ut.html5Only)return x(),ut.oMC=a(ut.movieID),c(),gt=yt=!0,!1;var r,o,s,l=e||ut.url,u=ut.altURL||l,d=P(),p=q(),h=null,h=ft.getElementsByTagName("html")[0],h=h&&h.dir&&h.dir.match(/rtl/i);if(t=t===n?ut.id:t,x(),ut.url=N(Ht?l:u),e=ut.url,ut.wmode=!ut.wmode&&ut.useHighPerformance?"transparent":ut.wmode,null!==ut.wmode&&(pt.match(/msie 8/i)||!Dt&&!ut.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Tt.push(C.spcWmode),ut.wmode=null),d={name:t,id:t,src:e,quality:"high",allowScriptAccess:ut.allowScriptAccess,bgcolor:ut.bgColor,pluginspage:Wt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:ut.wmode,hasPriority:"true"},ut.debugFlash&&(d.FlashVars="debug=1"),ut.wmode||delete d.wmode,Dt)l=ft.createElement("div"),o=['<object id="'+t+'" data="'+e+'" type="'+d.type+'" title="'+d.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",e),i("AllowScriptAccess",ut.allowScriptAccess),i("quality",d.quality),ut.wmode?i("wmode",ut.wmode):"",i("bgcolor",ut.bgColor),i("hasPriority","true"),ut.debugFlash?i("FlashVars",d.FlashVars):"","</object>"].join("");else for(r in l=ft.createElement("embed"),d)d.hasOwnProperty(r)&&l.setAttribute(r,d[r]);if($(),p=q(),d=P())if(ut.oMC=a(ut.movieID)||ft.createElement("div"),ut.oMC.id)s=ut.oMC.className,ut.oMC.className=(s?s+" ":"movieContainer")+(p?" "+p:""),ut.oMC.appendChild(l),Dt&&(r=ut.oMC.appendChild(ft.createElement("div")),r.className="sm2-object-box",r.innerHTML=o),gt=!0;else{if(ut.oMC.id=ut.movieID,ut.oMC.className="movieContainer "+p,r=p=null,ut.useFlashBlock||(ut.useHighPerformance?p={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(p={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},h&&(p.left=Math.abs(parseInt(p.left,10))+"px"))),It&&(ut.oMC.style.zIndex=1e4),!ut.debugFlash)for(s in p)p.hasOwnProperty(s)&&(ut.oMC.style[s]=p[s]);try{Dt||ut.oMC.appendChild(l),d.appendChild(ut.oMC),Dt&&(r=ut.oMC.appendChild(ft.createElement("div")),r.className="sm2-object-box",r.innerHTML=o),gt=!0}catch(f){throw Error(R("domError")+" \n"+f.toString());
}}return yt=!0},O=function(){return ut.html5Only?(A(),!1):dt||!ut.url?!1:(dt=ut.getMovie(ut.id),dt||(wt?(Dt?ut.oMC.innerHTML=xt:ut.oMC.appendChild(wt),wt=null,yt=!0):A(ut.id,ut.url),dt=ut.getMovie(ut.id)),"function"==typeof ut.oninitmovie&&setTimeout(ut.oninitmovie,1),!0)},b=function(){setTimeout(_,1e3)},w=function(){t.setTimeout(function(){ut.setup({preferFlash:!1}).reboot(),ut.didFlashBlock=!0,ut.beginDelayedInit()},1)},_=function(){var e,n=!1;return!ut.url||kt?!1:(kt=!0,et.remove(t,"load",b),it&&Bt&&!Ft?!1:(mt||(e=ut.getMoviePercent(),e>0&&100>e&&(n=!0)),void setTimeout(function(){return e=ut.getMoviePercent(),n?(kt=!1,t.setTimeout(b,1),!1):void(!mt&&zt&&(null===e?ut.useFlashBlock||0===ut.flashLoadTimeout?ut.useFlashBlock&&M():!ut.useFlashBlock&&V?w():g({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==ut.flashLoadTimeout&&(!ut.useFlashBlock&&V?w():I(!0))))},ut.flashLoadTimeout)))},k=function(){return Ft||!Bt?(et.remove(t,"focus",k),!0):(Ft=zt=!0,kt=!1,b(),et.remove(t,"focus",k),!0)},p=function(e){if(mt)return!1;if(ut.html5Only)return mt=!0,m(),!0;var n,i=!0;return ut.useFlashBlock&&ut.flashLoadTimeout&&!ut.getMoviePercent()||(mt=!0),n={type:!it&&Et?"NO_FLASH":"INIT_TIMEOUT"},(bt||e)&&(ut.useFlashBlock&&ut.oMC&&(ut.oMC.className=q()+" "+(null===ut.getMoviePercent()?"swf_timedout":"swf_error")),g({type:"ontimeout",error:n,ignoreInit:!0}),j(n),i=!1),bt||(ut.waitForWindowLoad&&!_t?et.add(t,"load",m):m()),i},u=function(){var t,e=ut.setupOptions;for(t in e)e.hasOwnProperty(t)&&(ut[t]===n?ut[t]=e[t]:ut[t]!==e[t]&&(ut.setupOptions[t]=ut[t]))},c=function(){if(mt)return!1;if(ut.html5Only)return mt||(et.remove(t,"load",ut.beginDelayedInit),ut.enabled=!0,p()),!0;O();try{dt._externalInterfaceTest(!1),L(!0,ut.flashPollingInterval||(ut.useHighPerformance?10:50)),ut.debugMode||dt._disableDebug(),ut.enabled=!0,ut.html5Only||et.add(t,"unload",l)}catch(e){return j({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),I(!0),p(),!1}return p(),et.remove(t,"load",ut.beginDelayedInit),!0},S=function(){return E?!1:(E=!0,u(),$(),!it&&ut.hasHTML5&&ut.setup({useHTML5Audio:!0,preferFlash:!1}),tt(),!it&&Et&&(Tt.push(C.needFlash),ut.setup({flashLoadTimeout:1})),ft.removeEventListener&&ft.removeEventListener("DOMContentLoaded",S,!1),O(),!0)},J=function(){return"complete"===ft.readyState&&(S(),ft.detachEvent("onreadystatechange",J)),!0},T=function(){_t=!0,S(),et.remove(t,"load",T)},rt(),et.add(t,"focus",k),et.add(t,"load",b),et.add(t,"load",T),ft.addEventListener?ft.addEventListener("DOMContentLoaded",S,!1):ft.attachEvent?ft.attachEvent("onreadystatechange",J):j({type:"NO_DOM2_EVENTS",fatal:!0})}if(!t||!t.document)throw Error("SoundManager requires a browser with window and document objects.");var r=null;t.SM2_DEFER!==n&&SM2_DEFER||(r=new i),"object"==typeof e&&e&&"object"==typeof e.exports?(e.exports.SoundManager=i,e.exports.soundManager=r):"function"==typeof define&&define.amd&&define(function(){return{constructor:i,getInstance:function(e){return!t.soundManager&&e instanceof Function&&(e=e(i),e instanceof i&&(t.soundManager=e)),t.soundManager}}}),t.SoundManager=i,t.soundManager=r}(window)},{}],155:[function(t,e,n){e.exports=t("./lib/spine")},{"./lib/spine":158}],156:[function(t,e,n){(function(){var n,i,r,o,s,a,l,u,c,d,p,h=[].slice,f=function(t,e){return function(){return t.apply(e,arguments)}},v=function(t,e){function n(){this.constructor=t}for(var i in e)y.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y={}.hasOwnProperty;p=this.Spine||t("spine"),n=p.$,u=p.Model,c=n({}),i={getURL:function(t){return null!=t.className?this.generateURL(t):this.generateURL(t,encodeURIComponent(t.id))},getCollectionURL:function(t){return this.generateURL(t)},getScope:function(t){return("function"==typeof t.scope?t.scope():void 0)||t.scope},getCollection:function(t){return t.url!==t.generateURL?"function"==typeof t.url?t.url():t.url:null!=t.className?t.className.toLowerCase()+"s":void 0},generateURL:function(){var t,e,n,r,o;return n=arguments[0],t=2<=arguments.length?h.call(arguments,1):[],e=i.getCollection(n)||i.getCollection(n.constructor),o=i.getScope(n)||i.getScope(n.constructor),t.unshift(e),t.unshift(o),r=t.join("/"),r=r.replace(/(\/\/)/g,"/"),r=r.replace(/^\/|\/$/g,""),0!==r.indexOf("../")?u.host+"/"+r:r},enabled:!0,disable:function(t){var e,n;if(!this.enabled)return t();this.enabled=!1;try{return t()}catch(n){throw e=n}finally{this.enabled=!0}},queue:function(t){return t?c.queue(t):c.queue()},clearQueue:function(){return this.queue([])},config:{loadMethod:"GET",updateMethod:"PUT",createMethod:"POST",destroyMethod:"DELETE"}},r=function(){function t(){}return t.prototype.defaults={dataType:"json",processData:!1,headers:{"X-Requested-With":"XMLHttpRequest"}},t.prototype.queue=i.queue,t.prototype.ajax=function(t,e){return n.ajax(this.ajaxSettings(t,e))},t.prototype.ajaxQueue=function(t,e,r){var o,s,a,l,u,d;return s=null,o=n.Deferred(),l=o.promise(),i.enabled?(d=this.ajaxSettings(t,e),a=void 0!==d.parallel?d.parallel:"GET"===d.type,u=function(t){var e,l,u;return null!=(null!=r?r.id:void 0)&&(null==d.url&&(d.url=i.getURL(r)),null!=(e=d.data)&&(e.id=r.id)),"string"!=typeof d.data&&d.processData!==!0&&(d.data=JSON.stringify(d.data)),u=function(){return o.resolve.apply(this,h.call(arguments).concat([d]))},l=function(){return o.reject.apply(this,h.call(arguments).concat([d]))},s=n.ajax(d),s.done(u),s.fail(l),s.then(t,t),a?c.dequeue():void 0},l.abort=function(t){var e;return s?s.abort(t):(e=n.inArray(u,this.queue()),e>-1&&this.queue().splice(e,1),o.rejectWith(d.context||d,[l,t,""]),l)},this.queue(u),l):l},t.prototype.ajaxSettings=function(t,e){return n.extend({},this.defaults,e,t)},t}(),o=function(t){function e(t){this.model=t,this.failResponse=f(this.failResponse,this),this.recordsResponse=f(this.recordsResponse,this)}return v(e,t),e.prototype.find=function(t,e,n){var r;return null==n&&(n={}),r=new this.model({id:t}),this.ajaxQueue(e,{type:n.method||i.config.loadMethod,url:n.url||i.getURL(r),parallel:n.parallel}).done(this.recordsResponse(n)).fail(this.failResponse(n))},e.prototype.all=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:e.method||i.config.loadMethod,url:e.url||i.getURL(this.model),parallel:e.parallel}).done(this.recordsResponse(e)).fail(this.failResponse(e))},e.prototype.fetch=function(t,e){var n;return null==t&&(t={}),null==e&&(e={}),(n=t.id)?(delete t.id,this.find(n,t,e).done(function(t){return function(n){return t.model.refresh(n,e)}}(this))):this.all(t,e).done(function(t){return function(n){return t.model.refresh(n,e)}}(this))},e.prototype.recordsResponse=function(t){return function(e){return function(n,i,r,o){var s;return e.model.trigger("ajaxSuccess",null,i,r,o),null!=(s=t.done)?s.call(e.model,o):void 0}}(this)},e.prototype.failResponse=function(t){return function(e){return function(n,i,r,o){var s;return e.model.trigger("ajaxError",null,n,i,r,o),null!=(s=t.fail)?s.call(e.model,o):void 0}}(this)},e}(r),d=function(t){function e(t){this.record=t,this.failResponse=f(this.failResponse,this),this.recordResponse=f(this.recordResponse,this),this.model=this.record.constructor}return v(e,t),e.prototype.reload=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:e.method||i.config.loadMethod,url:e.url,parallel:e.parallel},this.record).done(this.recordResponse(e)).fail(this.failResponse(e))},e.prototype.create=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:e.method||i.config.createMethod,contentType:"application/json",data:this.record.toJSON(),url:e.url||i.getCollectionURL(this.record),parallel:e.parallel}).done(this.recordResponse(e)).fail(this.failResponse(e))},e.prototype.update=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:e.method||i.config.updateMethod,contentType:"application/json",data:this.record.toJSON(),url:e.url,parallel:e.parallel},this.record).done(this.recordResponse(e)).fail(this.failResponse(e))},e.prototype.destroy=function(t,e){return null==e&&(e={}),this.ajaxQueue(t,{type:e.method||i.config.destroyMethod,url:e.url,parallel:e.parallel},this.record).done(this.recordResponse(e)).fail(this.failResponse(e))},e.prototype.recordResponse=function(t){return function(e){return function(n,i,r,o){var s;return null!=n&&Object.getOwnPropertyNames(n).length&&!e.record.destroyed&&e.record.refresh(n,{ajax:!1}),e.record.trigger("ajaxSuccess",e.record,e.model.fromJSON(n),i,r,o),null!=(s=t.done)?s.call(e.record,o):void 0}}(this)},e.prototype.failResponse=function(t){return function(e){return function(n,i,r,o){var s;switch(o.type){case"POST":e.createFailed();break;case"DELETE":e.destroyFailed()}return e.record.trigger("ajaxError",e.record,n,i,r,o),null!=(s=t.fail)?s.call(e.record,o):void 0}}(this)},e.prototype.createFailed=function(){return this.record.remove({clear:!0})},e.prototype.destroyFailed=function(){return this.record.destroyed=!1,this.record.constructor.refresh(this.record)},e}(r),u.host="",a={include:function(){var t;return t=1<=arguments.length?h.call(arguments,0):[],t.unshift(encodeURIComponent(this.id)),i.generateURL.apply(i,[this].concat(h.call(t)))},extend:function(){var t;return t=1<=arguments.length?h.call(arguments,0):[],i.generateURL.apply(i,[this].concat(h.call(t)))}},l={ajax:function(){return new d(this)},generateURL:a.include,url:a.include},s={ajax:function(){return new o(this)},generateURL:a.extend,url:a.extend},u.Ajax={extended:function(){return this.fetch(this.ajaxFetch),this.change(this.ajaxChange),this.extend(s),this.include(l)},ajaxFetch:function(){var t;return(t=this.ajax()).fetch.apply(t,arguments)},ajaxChange:function(t,e,n){var i;return null==n&&(n={}),n.ajax!==!1&&"function"==typeof(i=t.ajax())[e]?i[e](n.ajax,n):void 0}},u.Ajax.Methods={extended:function(){return this.extend(s),this.include(l)}},i.defaults=r.prototype.defaults,i.Base=r,i.Singleton=d,i.Collection=o,p.Ajax=i,"undefined"!=typeof e&&null!==e&&(e.exports=i)}).call(this)},{spine:155}],157:[function(t,e,n){(function(){var n;n=this.Spine||t("spine"),n.Model.Local={extended:function(){var t,e,n;n="spine"+(new Date).getTime();try{localStorage.setItem(n,n),localStorage.removeItem(n)}catch(e){return void(t=e)}return this.change(this.saveLocal),this.fetch(this.loadLocal)},saveLocal:function(){var t;return t=JSON.stringify(this),localStorage[this.className]=t},loadLocal:function(t){var e;return null==t&&(t={}),t.hasOwnProperty("clear")||(t.clear=!0),e=localStorage[this.className],this.refresh(e||[],t)}},"undefined"!=typeof e&&null!==e&&(e.exports=n.Model.Local)}).call(this)},{spine:155}],158:[function(t,e,n){(function(){var t,n,i,r,o,s,a,l,u,c,d=[].slice,p=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},h=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty,v=function(t,e){return function(){return t.apply(e,arguments)}};i={bind:function(t,e){var n,i,r,o,s;for(i=t.split(" "),this.hasOwnProperty("_callbacks")||this._callbacks||(this._callbacks={}),r=0,o=i.length;o>r;r++)s=i[r],(n=this._callbacks)[s]||(n[s]=[]),this._callbacks[s].push(e);return this},one:function(t,e){var n;return this.bind(t,n=function(){return this.unbind(t,n),e.apply(this,arguments)})},trigger:function(){var t,e,n,i,r,o,s;if(t=1<=arguments.length?d.call(arguments,0):[],n=t.shift(),o=null!=(s=this._callbacks)?s[n]:void 0){for(i=0,r=o.length;r>i&&(e=o[i],e.apply(this,t)!==!1);i++);return!0}},listenTo:function(t,e,n){return t.bind(e,n),this.listeningTo||(this.listeningTo=[]),this.listeningTo.push({obj:t,ev:e,callback:n}),this},listenToOnce:function(t,e,n){var i,r;return r=this.listeningToOnce||(this.listeningToOnce=[]),t.bind(e,i=function(){var o,s,a,l,u;for(s=-1,o=a=0,l=r.length;l>a;o=++a)u=r[o],u.obj===t&&u.ev===e&&u.callback===i&&(s=o);return t.unbind(e,i),-1!==s&&r.splice(s,1),n.apply(this,arguments)}),r.push({obj:t,ev:e,callback:i}),this},stopListening:function(e,n,i){var r,o,s,a,l,u,c,d,h,f,v,y,g,m,b,_,w,x;if(0===arguments.length){for(_=[this.listeningTo,this.listeningToOnce],l=0,d=_.length;d>l;l++)if(y=_[l],null!=y?y.length:void 0)for(u=0,h=y.length;h>u;u++)g=y[u],g.obj.unbind(g.ev,g.callback);this.listeningTo=void 0,this.listeningToOnce=void 0}else if(e)for(n=n?n.split(" "):[void 0],w=[this.listeningTo,this.listeningToOnce],c=0,f=w.length;f>c;c++)if(y=w[c])for(m=0,v=n.length;v>m;m++)for(o=n[m],a=b=x=y.length-1;0>=x?0>=b:b>=0;a=0>=x?++b:--b)g=y[a],g.obj===e&&(i&&g.callback!==i||(o&&o!==g.ev?o&&(s=g.ev.split(" "),p.call(s,o)>=0&&(s=function(){var t,e,n;for(n=[],e=0,t=s.length;t>e;e++)r=s[e],r!==o&&n.push(r);return n}(),g.ev=t.trim(s.join(" ")),g.obj.unbind(o,g.callback))):(g.obj.unbind(g.ev,g.callback),-1!==a&&y.splice(a,1))));return this},unbind:function(t,e){var n,i,r,o,s,a,l,u,c,d;if(0===arguments.length)return this._callbacks={},this;if(!t)return this;for(i=t.split(" "),o=0,a=i.length;a>o;o++)if(c=i[o],u=null!=(d=this._callbacks)?d[c]:void 0)if(e){for(r=s=0,l=u.length;l>s;r=++s)if(n=u[r],n===e){u=u.slice(),u.splice(r,1),this._callbacks[c]=u;break}}else delete this._callbacks[c];return this}},i.on=i.bind,i.off=i.unbind,r={trace:!0,logPrefix:"(App)",log:function(){var t;return t=1<=arguments.length?d.call(arguments,0):[],this.trace?(this.logPrefix&&t.unshift(this.logPrefix),"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,t),this):void 0}},c=["included","extended"],s=function(){function t(){"function"==typeof this.init&&this.init.apply(this,arguments)}return t.include=function(t){var e,n,i;if(!t)throw new Error("include(obj) requires obj");for(e in t)i=t[e],p.call(c,e)<0&&(this.prototype[e]=i);return null!=(n=t.included)&&n.apply(this),this},t.extend=function(t){var e,n,i;if(!t)throw new Error("extend(obj) requires obj");for(e in t)i=t[e],p.call(c,e)<0&&(this[e]=i);return null!=(n=t.extended)&&n.apply(this),this},t.proxy=function(t){return function(e){return function(){return t.apply(e,arguments)}}(this)},t.prototype.proxy=function(t){return function(e){return function(){return t.apply(e,arguments)}}(this)},t}(),o=function(e){function n(t){n.__super__.constructor.apply(this,arguments),null!=this.constructor.uuid&&"function"==typeof this.constructor.uuid?(this.cid=this.constructor.uuid(),this.id||(this.id=this.cid)):this.cid=(null!=t?t.cid:void 0)||this.constructor.uid("c-"),t&&this.load(t)}return h(n,e),n.extend(i),n.include(i),n.records=[],n.irecords={},n.attributes=[],n.configure=function(){var t,e;return e=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],this.className=e,this.deleteAll(),t.length&&(this.attributes=t),this.attributes&&(this.attributes=u(this.attributes)),this.attributes||(this.attributes=[]),this.unbind(),this},n.toString=function(){return this.className+"("+this.attributes.join(", ")+")"},n.find=function(t,e){var n;return null==e&&(e=this.notFound),(null!=(n=this.irecords[t])?n.clone():void 0)||("function"==typeof e?e(t):void 0)},n.findAll=function(t,e){var n,i,r,o;for(o=[],i=0,r=t.length;r>i;i++)n=t[i],this.find(n,e)&&o.push(this.find(n));return o},n.notFound=function(t){return null},n.exists=function(t){return Boolean(this.irecords[t])},n.addRecord=function(t,e){var n;return(n=this.irecords[t.id||t.cid])?n.refresh(t):(t.id||(t.id=t.cid),this.irecords[t.id]=this.irecords[t.cid]=t,void 0!==e?this.records.splice(e,0,t):this.records.push(t)),t},n.refresh=function(t,e){var n,i,r,o,s;for(null==e&&(e={}),e.clear&&this.deleteAll(),o=this.fromJSON(t),Array.isArray(o)||(o=[o]),n=0,i=o.length;i>n;n++)r=o[n],this.addRecord(r);return this.sort(),s=this.cloneArray(o),this.trigger("refresh",s,e),s},n.select=function(t){var e,n,i,r,o;for(r=this.records,o=[],e=0,n=r.length;n>e;e++)i=r[e],t(i)&&o.push(i.clone());return o},n.findByAttribute=function(t,e){var n,i,r,o;for(o=this.records,n=0,i=o.length;i>n;n++)if(r=o[n],r[t]===e)return r.clone();return null},n.findAllByAttribute=function(t,e){return this.select(function(n){return n[t]===e})},n.each=function(t){var e,n,i,r,o;for(r=this.records,o=[],e=0,n=r.length;n>e;e++)i=r[e],o.push(t(i.clone()));return o},n.all=function(){return this.cloneArray(this.records)},n.slice=function(t,e){return null==t&&(t=0),this.cloneArray(this.records.slice(t,e))},n.first=function(t){var e;return null==t&&(t=1),t>1?this.cloneArray(this.records.slice(0,t)):null!=(e=this.records[0])?e.clone():void 0},n.last=function(t){var e;return"number"==typeof t?this.cloneArray(this.records.slice(-t)):null!=(e=this.records[this.records.length-1])?e.clone():void 0},n.count=function(){return this.records.length},n.deleteAll=function(){return this.records=[],this.irecords={}},n.destroyAll=function(t){var e,n,i,r,o;for(r=this.records,o=[],e=0,n=r.length;n>e;e++)i=r[e],o.push(i.destroy(t));return o},n.update=function(t,e,n){return this.find(t).updateAttributes(e,n)},n.create=function(t,e){var n;return n=new this(t),n.save(e)},n.destroy=function(t,e){var n;return null!=(n=this.find(t))?n.destroy(e):void 0},n.change=function(t){return"function"==typeof t?this.bind("change",t):this.trigger.apply(this,["change"].concat(d.call(arguments)))},n.fetch=function(t){return"function"==typeof t?this.bind("fetch",t):this.trigger.apply(this,["fetch"].concat(d.call(arguments)))},n.toJSON=function(){return this.records},n.beforeFromJSON=function(t){return t},n.fromJSON=function(t){var e,n,i,r;if(t){if("string"==typeof t&&(t=JSON.parse(t)),t=this.beforeFromJSON(t),Array.isArray(t)){for(i=[],e=0,n=t.length;n>e;e++)r=t[e],r instanceof this?i.push(r):i.push(new this(r));return i}return t instanceof this?t:new this(t)}},n.fromForm=function(){var t;return(t=new this).fromForm.apply(t,arguments)},n.sort=function(){return this.comparator&&this.records.sort(this.comparator),this},n.cloneArray=function(t){var e,n,i,r;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],i.push(r.clone());return i},n.idCounter=0,n.uid=function(t){var e;return null==t&&(t=""),e=t+this.idCounter++,this.exists(e)&&(e=this.uid(t)),e},n.prototype.isNew=function(){return!this.exists()},n.prototype.isValid=function(){return!this.validate()},n.prototype.validate=function(){},n.prototype.load=function(t){var e,n;t.id&&(this.id=t.id);for(e in t)if(n=t[e],"_callbacks"!==e)if("function"==typeof this[e]){if("function"==typeof n)continue;this[e](n)}else this[e]=n;return this},n.prototype.attributes=function(){var t,e,n,i,r;for(r={},i=this.constructor.attributes,t=0,n=i.length;n>t;t++)e=i[t],e in this&&("function"==typeof this[e]?r[e]=this[e]():r[e]=this[e]);return this.id&&(r.id=this.id),r},n.prototype.eql=function(t){return t&&t.constructor===this.constructor&&(t.cid===this.cid||t.id&&t.id===this.id)},n.prototype.save=function(t){var e,n;return null==t&&(t={}),t.validate!==!1&&(e=this.validate())?(this.trigger("error",this,e),!1):(this.trigger("beforeSave",this,t),n=this.isNew()?this.create(t):this.update(t),this.stripCloneAttrs(),this.trigger("save",n,t),n)},n.prototype.stripCloneAttrs=function(){var t,e;if(!this.hasOwnProperty("cid")){for(t in this)f.call(this,t)&&(e=this[t],p.call(this.constructor.attributes,t)>=0&&delete this[t]);return this}},n.prototype.updateAttribute=function(t,e,n){var i;return i={},i[t]=e,this.updateAttributes(i,n)},n.prototype.updateAttributes=function(t,e){return this.load(t),this.save(e)},n.prototype.changeID=function(t){var e;if(t!==this.id)return e=this.constructor.irecords,e[t]=e[this.id],this.cid!==this.id&&delete e[this.id],this.id=t},n.prototype.remove=function(t){var e,n,i,r,o;for(null==t&&(t={}),o=this.constructor.records.slice(0),e=n=0,i=o.length;i>n;e=++n)if(r=o[e],this.eql(r)){o.splice(e,1);break}return this.constructor.records=o,t.clear?(delete this.constructor.irecords[this.id],delete this.constructor.irecords[this.cid]):void 0},n.prototype.destroy=function(t){return null==t&&(t={}),null==t.clear&&(t.clear=!0),this.trigger("beforeDestroy",this,t),this.remove(t),this.destroyed=!0,this.trigger("destroy",this,t),this.trigger("change",this,"destroy",t),this.listeningTo&&this.stopListening(),this.unbind(),this},n.prototype.dup=function(t){var e,n;return null==t&&(t=!0),e=this.attributes(),t?delete e.id:e.cid=this.cid,n=new this.constructor(e),t||this._callbacks&&(n._callbacks=this._callbacks),n},n.prototype.clone=function(){return l(this)},n.prototype.reload=function(){var t;return this.isNew()?this:(t=this.constructor.find(this.id),this.load(t.attributes()),t)},n.prototype.refresh=function(t){return t=this.constructor.fromJSON(t),t.id&&this.id!==t.id&&this.changeID(t.id),this.constructor.irecords[this.id].load(t),this.trigger("refresh",this),this.trigger("change",this,"refresh"),this},n.prototype.toJSON=function(){return this.attributes()},n.prototype.toString=function(){return"<"+this.constructor.className+" ("+JSON.stringify(this)+")>"},n.prototype.fromForm=function(e){var n,i,r,o,s,a,l,u,c,d,p,h,f,v;for(v={},p=t(e).find("[type=checkbox]:not([value])"),i=0,a=p.length;a>i;i++)n=p[i],v[n.name]=t(n).prop("checked");for(h=t(e).find('[type=checkbox][name$="[]"]'),r=0,l=h.length;l>r;r++)n=h[r],c=n.name.replace(/\[\]$/,""),v[c]||(v[c]=[]),t(n).prop("checked")&&v[c].push(n.value);for(f=t(e).serializeArray(),s=0,u=f.length;u>s;s++)o=f[s],v[d=o.name]||(v[d]=o.value);return this.load(v)},n.prototype.exists=function(){return this.constructor.exists(this.id)},n.prototype.update=function(t){var e,n;return this.trigger("beforeUpdate",this,t),n=this.constructor.irecords,n[this.id].load(this.attributes()),this.constructor.sort(),e=n[this.id].clone(),e.trigger("update",e,t),e.trigger("change",e,"update",t),e},n.prototype.create=function(t){var e,n;return this.trigger("beforeCreate",this,t),this.id||(this.id=this.cid),n=this.dup(!1),this.constructor.addRecord(n,t.idx),this.constructor.sort(),e=n.clone(),e.trigger("create",e,t),e.trigger("change",e,"create",t),e},n.prototype.bind=function(){var t;return t=this.constructor.irecords[this.id]||this,i.bind.apply(t,arguments)},n.prototype.one=function(){var t;return t=this.constructor.irecords[this.id]||this,i.one.apply(t,arguments)},n.prototype.unbind=function(){var t;return t=this.constructor.irecords[this.id]||this,i.unbind.apply(t,arguments)},n.prototype.trigger=function(){var t;return i.trigger.apply(this,arguments),"refresh"===arguments[0]?!0:(t=this.constructor).trigger.apply(t,arguments)},n}(s),o.prototype.on=o.prototype.bind,o.prototype.off=o.prototype.unbind,n=function(e){function n(e){this.release=v(this.release,this);var i,r,o,s,a;this.options=e,s=this.options;for(r in s)a=s[r],this[r]=a;for(this.el||(this.el=document.createElement(this.tag)),this.el=t(this.el),this.className&&this.el.addClass(this.className),this.attributes&&this.el.attr(this.attributes),this.events||(this.events=this.constructor.events),this.elements||(this.elements=this.constructor.elements),i=this;o=i.constructor.__super__;)o.events&&(this.events=t.extend({},o.events,this.events)),o.elements&&(this.elements=t.extend({},o.elements,this.elements)),i=o;this.events&&this.delegateEvents(this.events),this.elements&&this.refreshElements(),n.__super__.constructor.apply(this,arguments)}return h(n,e),n.include(i),n.include(r),n.prototype.eventSplitter=/^(\S+)\s*(.*)$/,n.prototype.tag="div",n.prototype.release=function(){return this.trigger("release",this),this.el.remove(),this.unbind(),this.stopListening()},n.prototype.$=function(t){return this.el.find(t)},n.prototype.delegateEvents=function(t){var e,n,i,r,o,s;o=[];for(n in t){if(r=t[n],"function"==typeof r)r=function(t){return function(e){return function(){return e.apply(t,arguments),!0}}}(this)(r);else{if(!this[r])throw new Error(r+" doesn't exist");r=function(t){return function(e){return function(){return t[e].apply(t,arguments),!0}}}(this)(r)}i=n.match(this.eventSplitter),e=i[1],s=i[2],""===s?o.push(this.el.bind(e,r)):o.push(this.el.on(e,s,r))}return o},n.prototype.refreshElements=function(){var t,e,n,i;e=this.elements,n=[];for(t in e)i=e[t],n.push(this[i]=this.$(t));return n},n.prototype.delay=function(t,e){return setTimeout(this.proxy(t),e||0)},n.prototype.html=function(t){return this.el.html(t.el||t),this.refreshElements(),this.el},n.prototype.append=function(){var t,e,n;return e=1<=arguments.length?d.call(arguments,0):[],e=function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(t.el||t);return r}(),(n=this.el).append.apply(n,e),this.refreshElements(),this.el},n.prototype.appendTo=function(t){return this.el.appendTo(t.el||t),this.refreshElements(),this.el},n.prototype.prepend=function(){var t,e,n;return e=1<=arguments.length?d.call(arguments,0):[],e=function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(t.el||t);return r}(),(n=this.el).prepend.apply(n,e),this.refreshElements(),this.el},n.prototype.replace=function(e){var n,i,r;return e=e.el||e,"string"==typeof e&&(e=t.trim(e)),r=[this.el,t((null!=(i=t.parseHTML(e))?i[0]:void 0)||e)],n=r[0],this.el=r[1],n.replaceWith(this.el),this.delegateEvents(this.events),this.refreshElements(),this.el},n}(s),t=("undefined"!=typeof window&&null!==window?window.jQuery:void 0)||("undefined"!=typeof window&&null!==window?window.Zepto:void 0)||function(t){return t},l=Object.create||function(t){var e;return e=function(){},e.prototype=t,new e},u=function(t){return Array.prototype.slice.call(t,0)},a=this.Spine={},"undefined"!=typeof e&&null!==e&&(e.exports=a),a.version="1.6.2",a.$=t,a.Events=i,a.Log=r,a.Module=s,a.Controller=n,a.Model=o,s.extend.call(a,i),s.create=s.sub=n.create=n.sub=o.sub=function(t,e){var n;return n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e}(this),t&&n.include(t),e&&n.extend(e),"function"==typeof n.unbind&&n.unbind(),n},o.setup=function(t,e){var n;return null==e&&(e=[]),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e}(this),n.configure.apply(n,[t].concat(d.call(e))),n},a.Class=s}).call(this)},{}]},{},[97]);